// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <_UnicodeString/UnicodeString_Impl_.h>
extern hl_type t$_i32;
int _UnicodeString_UnicodeString_Impl__get_length(String);
extern String s$;
String String_substr(String,int,vdynamic*);

vdynamic* _UnicodeString_UnicodeString_Impl__charCodeAt(String r0,int r1) {
	vdynamic *r4;
	vbyte *r7, *r8;
	int r2, r3, r5, r6, r9, r10, r11;
	r3 = 0;
	if( r1 >= r3 ) goto label$69752e0_1_4;
	r4 = NULL;
	return r4;
	label$69752e0_1_4:
	r2 = 0;
	r3 = 0;
	label$69752e0_1_6:
	if( r0 == NULL ) hl_null_access();
	r6 = r0->length;
	if( r3 >= r6 ) goto label$69752e0_1_42;
	r5 = r3;
	++r3;
	r7 = r0->bytes;
	r9 = 1;
	r6 = r5 << r9;
	r6 = *(unsigned short*)(r7 + r6);
	r10 = 55296;
	if( r6 < r10 ) goto label$69752e0_1_34;
	r10 = 56319;
	if( r10 < r6 ) goto label$69752e0_1_34;
	r8 = r0->bytes;
	r10 = 55232;
	r9 = r6 - r10;
	r10 = 10;
	r9 = r9 << r10;
	r11 = 1;
	r10 = r5 + r11;
	r11 = 1;
	r10 = r10 << r11;
	r10 = *(unsigned short*)(r8 + r10);
	r11 = 1023;
	r10 = r10 & r11;
	r9 = r9 | r10;
	r6 = r9;
	label$69752e0_1_34:
	if( r2 != r1 ) goto label$69752e0_1_37;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r6;
	return r4;
	label$69752e0_1_37:
	r11 = 65536;
	if( r6 < r11 ) goto label$69752e0_1_40;
	++r3;
	label$69752e0_1_40:
	++r2;
	goto label$69752e0_1_6;
	label$69752e0_1_42:
	r4 = NULL;
	return r4;
}

String _UnicodeString_UnicodeString_Impl__substr(String r0,int r1,vdynamic* r2) {
	String r5;
	vdynamic *r6;
	vbyte *r11, *r12;
	int r3, r4, r7, r8, r9, r10, r13, r14, r15, r16;
	r4 = 0;
	if( r1 >= r4 ) goto label$69752e0_2_9;
	r3 = _UnicodeString_UnicodeString_Impl__get_length(r0);
	r3 = r3 + r1;
	r1 = r3;
	r4 = 0;
	if( r3 >= r4 ) goto label$69752e0_2_9;
	r3 = 0;
	r1 = r3;
	label$69752e0_2_9:
	if( !r2 ) goto label$69752e0_2_23;
	r3 = r2 ? r2->v.i : 0;
	r4 = 0;
	if( r3 >= r4 ) goto label$69752e0_2_18;
	r3 = _UnicodeString_UnicodeString_Impl__get_length(r0);
	r4 = r2 ? r2->v.i : 0;
	r3 = r3 + r4;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r3;
	r2 = r6;
	label$69752e0_2_18:
	r3 = r2 ? r2->v.i : 0;
	r4 = 0;
	if( r4 < r3 ) goto label$69752e0_2_23;
	r5 = (String)s$;
	return r5;
	label$69752e0_2_23:
	r3 = 0;
	r4 = 0;
	r7 = -1;
	r8 = 0;
	label$69752e0_2_27:
	if( r0 == NULL ) hl_null_access();
	r10 = r0->length;
	if( r4 >= r10 ) goto label$69752e0_2_85;
	r11 = r0->bytes;
	r10 = 1;
	r9 = r4 << r10;
	r9 = *(unsigned short*)(r11 + r9);
	r13 = 55296;
	if( r9 < r13 ) goto label$69752e0_2_53;
	r13 = 56319;
	if( r13 < r9 ) goto label$69752e0_2_53;
	r12 = r0->bytes;
	r13 = 55232;
	r10 = r9 - r13;
	r13 = 10;
	r10 = r10 << r13;
	r14 = 1;
	r13 = r4 + r14;
	r14 = 1;
	r13 = r13 << r14;
	r13 = *(unsigned short*)(r12 + r13);
	r14 = 1023;
	r13 = r13 & r14;
	r10 = r10 | r13;
	r9 = r10;
	label$69752e0_2_53:
	if( r3 < r1 ) goto label$69752e0_2_76;
	r14 = 0;
	if( r7 >= r14 ) goto label$69752e0_2_61;
	if( r2 ) goto label$69752e0_2_60;
	r6 = NULL;
	r5 = String_substr(r0,r4,r6);
	return r5;
	label$69752e0_2_60:
	r7 = r4;
	label$69752e0_2_61:
	++r8;
	r14 = r2 ? r2->v.i : 0;
	if( r8 < r14 ) goto label$69752e0_2_76;
	r14 = 65536;
	if( r9 >= r14 ) goto label$69752e0_2_68;
	r13 = r4;
	goto label$69752e0_2_70;
	label$69752e0_2_68:
	r14 = 1;
	r13 = r4 + r14;
	label$69752e0_2_70:
	r15 = r13 - r7;
	r16 = 1;
	r15 = r15 + r16;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r15;
	r5 = String_substr(r0,r7,r6);
	return r5;
	label$69752e0_2_76:
	r15 = 65536;
	if( r9 < r15 ) goto label$69752e0_2_80;
	r14 = 2;
	goto label$69752e0_2_81;
	label$69752e0_2_80:
	r14 = 1;
	label$69752e0_2_81:
	r13 = r4 + r14;
	r4 = r13;
	++r3;
	goto label$69752e0_2_27;
	label$69752e0_2_85:
	r10 = 0;
	if( r7 >= r10 ) goto label$69752e0_2_89;
	r5 = (String)s$;
	return r5;
	label$69752e0_2_89:
	r6 = NULL;
	r5 = String_substr(r0,r7,r6);
	return r5;
}

int _UnicodeString_UnicodeString_Impl__get_length(String r0) {
	String r3;
	vbyte *r6, *r7;
	int r1, r2, r4, r5, r8, r9, r10;
	r1 = 0;
	r2 = 0;
	r3 = r0;
	label$69752e0_3_3:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r2 >= r5 ) goto label$69752e0_3_36;
	r4 = r2;
	++r2;
	r6 = r3->bytes;
	r8 = 1;
	r5 = r4 << r8;
	r5 = *(unsigned short*)(r6 + r5);
	r9 = 55296;
	if( r5 < r9 ) goto label$69752e0_3_31;
	r9 = 56319;
	if( r9 < r5 ) goto label$69752e0_3_31;
	r7 = r3->bytes;
	r9 = 55232;
	r8 = r5 - r9;
	r9 = 10;
	r8 = r8 << r9;
	r10 = 1;
	r9 = r4 + r10;
	r10 = 1;
	r9 = r9 << r10;
	r9 = *(unsigned short*)(r7 + r9);
	r10 = 1023;
	r9 = r9 & r10;
	r8 = r8 | r9;
	r5 = r8;
	label$69752e0_3_31:
	r10 = 65536;
	if( r5 < r10 ) goto label$69752e0_3_34;
	++r2;
	label$69752e0_3_34:
	++r1;
	goto label$69752e0_3_3;
	label$69752e0_3_36:
	return r1;
}

