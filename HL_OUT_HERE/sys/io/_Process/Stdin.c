// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <sys/io/_Process/Stdin.h>
#include <hl/natives.h>
extern hl_type t$hl_process;
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void haxe_io_Output_close(haxe__io__Output);
extern hl_type t$_dyn;
void haxe_io_Bytes_set(haxe__io__Bytes,int,int);
int sys_io__Process_Stdin_writeBytes(sys__io___Process__Stdin,haxe__io__Bytes,int,int);
#include <haxe/io/BytesDataImpl.h>
#include <haxe/io/Eof.h>
extern hl_type t$haxe_io_BytesDataImpl;
void haxe_io_BytesDataImpl_new(haxe__io__BytesDataImpl,vbyte*,int);
extern hl_type t$haxe_io_Eof;
void haxe_io_Eof_new(haxe__io__Eof);

void sys_io__Process_Stdin_new(sys__io___Process__Stdin r0,hl_process* r1) {
	haxe__io__Bytes r3;
	vdynamic *r2;
	int r4;
	if( r1 == NULL ) r2 = NULL; else {
		r2 = hl_alloc_dynamic(&t$hl_process);
		r2->v.ptr = r1;
	}
	r0->p = r2;
	r4 = 1;
	r3 = haxe_io_Bytes_alloc(r4);
	r0->buf = r3;
	return;
}

void sys_io__Process_Stdin_close(sys__io___Process__Stdin r0) {
	bool r2;
	hl_process *r4;
	vdynamic *r3;
	haxe_io_Output_close(((haxe__io__Output)r0));
	r3 = r0->p;
	r4 = (hl_process*)hl_dyn_castp(&r3,&t$_dyn,&t$hl_process);
	r2 = hl_process_stdin_close(r4);
	return;
}

void sys_io__Process_Stdin_writeByte(sys__io___Process__Stdin r0,int r1) {
	haxe__io__Bytes r3;
	int r4, r5;
	r3 = r0->buf;
	if( r3 == NULL ) hl_null_access();
	r4 = 0;
	haxe_io_Bytes_set(r3,r4,r1);
	r3 = r0->buf;
	r4 = 0;
	r5 = 1;
	r4 = sys_io__Process_Stdin_writeBytes(r0,r3,r4,r5);
	return;
}

int sys_io__Process_Stdin_writeBytes(sys__io___Process__Stdin r0,haxe__io__Bytes r1,int r2,int r3) {
	hl_process *r6;
	haxe__io__BytesDataImpl r8;
	haxe__io__Eof r11;
	vdynamic *r5;
	vbyte *r7;
	int r4, r10;
	r5 = r0->p;
	r6 = (hl_process*)hl_dyn_castp(&r5,&t$_dyn,&t$hl_process);
	r8 = (haxe__io__BytesDataImpl)hl_alloc_obj(&t$haxe_io_BytesDataImpl);
	if( r1 == NULL ) hl_null_access();
	r7 = r1->b;
	r4 = r1->length;
	haxe_io_BytesDataImpl_new(r8,r7,r4);
	r7 = r8->bytes;
	r4 = hl_process_stdin_write(r6,r7,r2,r3);
	r10 = 0;
	if( r4 >= r10 ) goto label$d2d1ed7_4_14;
	r11 = (haxe__io__Eof)hl_alloc_obj(&t$haxe_io_Eof);
	haxe_io_Eof_new(r11);
	hl_throw((vdynamic*)r11);
	label$d2d1ed7_4_14:
	return r4;
}

