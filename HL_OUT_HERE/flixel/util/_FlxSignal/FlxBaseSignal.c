// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/util/_FlxSignal/FlxBaseSignal.h>
#include <flixel/util/_FlxSignal/FlxSignalHandler.h>
flixel__util___FlxSignal__FlxSignalHandler flixel_util__FlxSignal_FlxBaseSignal_registerListener(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*,bool);
flixel__util___FlxSignal__FlxSignalHandler flixel_util__FlxSignal_FlxBaseSignal_getHandler(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
void flixel_util__FlxSignal_FlxSignalHandler_destroy(flixel__util___FlxSignal__FlxSignalHandler);
#include <hl/types/ArrayDyn.h>
extern hl_type t$hl_types_ArrayDyn;
extern hl_type t$hl_types_ArrayObj;
hl__types__ArrayDyn flixel_util_FlxDestroyUtil_destroyArray(hl__types__ArrayDyn);
extern hl_type t$flixel_util__FlxSignal_FlxSignalHandler;
void flixel_util__FlxSignal_FlxSignalHandler_new(flixel__util___FlxSignal__FlxSignalHandler,vdynamic*,bool);
extern String s$e4c432b;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);

void flixel_util__FlxSignal_FlxBaseSignal_add(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1) {
	flixel__util___FlxSignal__FlxSignalHandler r3;
	bool r4;
	if( !r1 ) goto label$3d9b39e_1_3;
	r4 = false;
	r3 = flixel_util__FlxSignal_FlxBaseSignal_registerListener(r0,r1,r4);
	label$3d9b39e_1_3:
	return;
}

void flixel_util__FlxSignal_FlxBaseSignal_addOnce(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1) {
	flixel__util___FlxSignal__FlxSignalHandler r3;
	bool r4;
	if( !r1 ) goto label$3d9b39e_2_3;
	r4 = true;
	r3 = flixel_util__FlxSignal_FlxBaseSignal_registerListener(r0,r1,r4);
	label$3d9b39e_2_3:
	return;
}

void flixel_util__FlxSignal_FlxBaseSignal_remove(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1) {
	flixel__util___FlxSignal__FlxSignalHandler r3;
	hl__types__ArrayObj r6;
	bool r4;
	int r5;
	if( !r1 ) goto label$3d9b39e_3_14;
	r3 = flixel_util__FlxSignal_FlxBaseSignal_getHandler(r0,r1);
	if( !r3 ) goto label$3d9b39e_3_14;
	r4 = r0->processingListeners;
	if( !r4 ) goto label$3d9b39e_3_9;
	r6 = r0->pendingRemove;
	if( r6 == NULL ) hl_null_access();
	r5 = hl_types_ArrayObj_push(r6,((vdynamic*)r3));
	goto label$3d9b39e_3_14;
	label$3d9b39e_3_9:
	r6 = r0->handlers;
	if( r6 == NULL ) hl_null_access();
	r4 = hl_types_ArrayObj_remove(r6,((vdynamic*)r3));
	if( r3 == NULL ) hl_null_access();
	flixel_util__FlxSignal_FlxSignalHandler_destroy(r3);
	label$3d9b39e_3_14:
	return;
}

bool flixel_util__FlxSignal_FlxBaseSignal_has(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1) {
	flixel__util___FlxSignal__FlxSignalHandler r3, r4;
	bool r2;
	if( r1 ) goto label$3d9b39e_4_3;
	r2 = false;
	return r2;
	label$3d9b39e_4_3:
	r3 = flixel_util__FlxSignal_FlxBaseSignal_getHandler(r0,r1);
	r4 = NULL;
	if( r3 != r4 ) goto label$3d9b39e_4_8;
	r2 = false;
	goto label$3d9b39e_4_9;
	label$3d9b39e_4_8:
	r2 = true;
	label$3d9b39e_4_9:
	return r2;
}

void flixel_util__FlxSignal_FlxBaseSignal_removeAll(flixel__util___FlxSignal__FlxBaseSignal r0) {
	hl__types__ArrayObj r2;
	hl__types__ArrayDyn r1;
	r2 = r0->handlers;
	r1 = (hl__types__ArrayDyn)hl_dyn_castp(&r2,&t$hl_types_ArrayObj,&t$hl_types_ArrayDyn);
	r1 = flixel_util_FlxDestroyUtil_destroyArray(r1);
	r2 = (hl__types__ArrayObj)hl_dyn_castp(&r1,&t$hl_types_ArrayDyn,&t$hl_types_ArrayObj);
	return;
}

void flixel_util__FlxSignal_FlxBaseSignal_destroy(flixel__util___FlxSignal__FlxBaseSignal r0) {
	hl__types__ArrayObj r2;
	hl__types__ArrayDyn r1;
	r2 = r0->handlers;
	r1 = (hl__types__ArrayDyn)hl_dyn_castp(&r2,&t$hl_types_ArrayObj,&t$hl_types_ArrayDyn);
	r1 = flixel_util_FlxDestroyUtil_destroyArray(r1);
	r2 = (hl__types__ArrayObj)hl_dyn_castp(&r1,&t$hl_types_ArrayDyn,&t$hl_types_ArrayObj);
	r2 = NULL;
	r0->handlers = r2;
	r2 = NULL;
	r0->pendingRemove = r2;
	return;
}

flixel__util___FlxSignal__FlxSignalHandler flixel_util__FlxSignal_FlxBaseSignal_registerListener(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1,bool r2) {
	String r9;
	flixel__util___FlxSignal__FlxSignalHandler r3, r5;
	hl__types__ArrayObj r8;
	bool r6;
	int r7;
	r3 = flixel_util__FlxSignal_FlxBaseSignal_getHandler(r0,r1);
	if( r3 ) goto label$3d9b39e_7_8;
	r5 = (flixel__util___FlxSignal__FlxSignalHandler)hl_alloc_obj(&t$flixel_util__FlxSignal_FlxSignalHandler);
	flixel_util__FlxSignal_FlxSignalHandler_new(r5,r1,r2);
	r8 = r0->handlers;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r8,((vdynamic*)r5));
	return r5;
	label$3d9b39e_7_8:
	if( r3 == NULL ) hl_null_access();
	r6 = r3->dispatchOnce;
	if( r6 == r2 ) goto label$3d9b39e_7_13;
	r9 = (String)s$e4c432b;
	hl_throw((vdynamic*)r9);
	label$3d9b39e_7_13:
	return r3;
}

flixel__util___FlxSignal__FlxSignalHandler flixel_util__FlxSignal_FlxBaseSignal_getHandler(flixel__util___FlxSignal__FlxBaseSignal r0,vdynamic* r1) {
	flixel__util___FlxSignal__FlxSignalHandler r5;
	hl__types__ArrayObj r3;
	bool r8;
	vdynamic *r6;
	varray *r7;
	int r2, r4;
	r2 = 0;
	r3 = r0->handlers;
	label$3d9b39e_8_2:
	if( r3 == NULL ) hl_null_access();
	r4 = r3->length;
	if( r2 >= r4 ) goto label$3d9b39e_8_20;
	r4 = r3->length;
	if( ((unsigned)r2) < ((unsigned)r4) ) goto label$3d9b39e_8_10;
	r5 = NULL;
	goto label$3d9b39e_8_13;
	label$3d9b39e_8_10:
	r7 = r3->array;
	r6 = ((vdynamic**)(r7 + 1))[r2];
	r5 = (flixel__util___FlxSignal__FlxSignalHandler)r6;
	label$3d9b39e_8_13:
	++r2;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->listener;
	r8 = hl_fun_compare(r6,r1);
	if( !r8 ) goto label$3d9b39e_8_19;
	return r5;
	label$3d9b39e_8_19:
	goto label$3d9b39e_8_2;
	label$3d9b39e_8_20:
	r5 = NULL;
	return r5;
}

void flixel_util__FlxSignal_FlxBaseSignal_new(flixel__util___FlxSignal__FlxBaseSignal r0) {
	hl__types__ArrayObj r2;
	hl_type *r4;
	bool r1;
	int r5;
	varray *r3;
	r1 = false;
	r0->processingListeners = r1;
	r4 = &t$flixel_util__FlxSignal_FlxSignalHandler;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r0->handlers = r2;
	r4 = &t$flixel_util__FlxSignal_FlxSignalHandler;
	r5 = 0;
	r3 = hl_alloc_array(r4,r5);
	r2 = hl_types_ArrayObj_alloc(r3);
	r0->pendingRemove = r2;
	return;
}

