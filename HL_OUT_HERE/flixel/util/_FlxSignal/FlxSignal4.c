// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/util/_FlxSignal/FlxSignal4.h>
void flixel_util__FlxSignal_FlxBaseSignal_new(flixel__util___FlxSignal__FlxBaseSignal);
void flixel_util__FlxSignal_FlxSignal4_dispatch4(flixel__util___FlxSignal__FlxSignal4,vdynamic*,vdynamic*,vdynamic*,vdynamic*);
extern hl_type t$fun_ec4ba4b;
#include <flixel/util/_FlxSignal/FlxSignalHandler.h>
extern hl_type t$fun_386aae6;
extern hl_type t$_dyn;
void flixel_util__FlxSignal_FlxBaseSignal_remove(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);
extern hl_type t$flixel_util__FlxSignal_FlxSignalHandler;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);

void flixel_util__FlxSignal_FlxSignal4_new(flixel__util___FlxSignal__FlxSignal4 r0) {
	vclosure *r2;
	flixel_util__FlxSignal_FlxBaseSignal_new(((flixel__util___FlxSignal__FlxBaseSignal)r0));
	r2 = hl_alloc_closure_ptr(&t$fun_ec4ba4b,flixel_util__FlxSignal_FlxSignal4_dispatch4,r0);
	r0->dispatch = ((vdynamic*)r2);
	return;
}

void flixel_util__FlxSignal_FlxSignal4_dispatch4(flixel__util___FlxSignal__FlxSignal4 r0,vdynamic* r1,vdynamic* r2,vdynamic* r3,vdynamic* r4) {
	flixel__util___FlxSignal__FlxSignalHandler r11;
	hl__types__ArrayObj r8;
	hl_type *r15;
	bool r5;
	vclosure *r14;
	vdynamic *r12;
	varray *r13;
	int r6, r9, r10;
	r5 = true;
	r0->processingListeners = r5;
	r6 = 0;
	r8 = r0->handlers;
	label$6c879b0_2_4:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	if( r6 >= r10 ) goto label$6c879b0_2_27;
	r10 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r10) ) goto label$6c879b0_2_12;
	r11 = NULL;
	goto label$6c879b0_2_15;
	label$6c879b0_2_12:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r6];
	r11 = (flixel__util___FlxSignal__FlxSignalHandler)r12;
	label$6c879b0_2_15:
	++r6;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->listener;
	r14 = (vclosure*)hl_dyn_castp(&r12,&t$_dyn,&t$fun_386aae6);
	if( r14 == NULL ) hl_null_access();
	r14->hasValue ? ((void (*)(vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*))r14->fun)((vdynamic*)r14->value,r1,r2,r3,r4) : ((void (*)(vdynamic*,vdynamic*,vdynamic*,vdynamic*))r14->fun)(r1,r2,r3,r4);
	r5 = r11->dispatchOnce;
	if( !r5 ) goto label$6c879b0_2_26;
	r12 = r11->listener;
	r14 = (vclosure*)hl_dyn_castp(&r12,&t$_dyn,&t$fun_386aae6);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r14));
	label$6c879b0_2_26:
	goto label$6c879b0_2_4;
	label$6c879b0_2_27:
	r5 = false;
	r0->processingListeners = r5;
	r6 = 0;
	r8 = r0->pendingRemove;
	label$6c879b0_2_31:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	if( r6 >= r10 ) goto label$6c879b0_2_48;
	r10 = r8->length;
	if( ((unsigned)r6) < ((unsigned)r10) ) goto label$6c879b0_2_39;
	r11 = NULL;
	goto label$6c879b0_2_42;
	label$6c879b0_2_39:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r6];
	r11 = (flixel__util___FlxSignal__FlxSignalHandler)r12;
	label$6c879b0_2_42:
	++r6;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->listener;
	r14 = (vclosure*)hl_dyn_castp(&r12,&t$_dyn,&t$fun_386aae6);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r14));
	goto label$6c879b0_2_31;
	label$6c879b0_2_48:
	r8 = r0->pendingRemove;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->length;
	r9 = 0;
	if( r9 >= r6 ) goto label$6c879b0_2_58;
	r15 = &t$flixel_util__FlxSignal_FlxSignalHandler;
	r6 = 0;
	r13 = hl_alloc_array(r15,r6);
	r8 = hl_types_ArrayObj_alloc(r13);
	r0->pendingRemove = r8;
	label$6c879b0_2_58:
	return;
}

