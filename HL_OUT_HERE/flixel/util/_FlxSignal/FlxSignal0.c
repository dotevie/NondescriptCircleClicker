// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/util/_FlxSignal/FlxSignal0.h>
void flixel_util__FlxSignal_FlxBaseSignal_new(flixel__util___FlxSignal__FlxBaseSignal);
void flixel_util__FlxSignal_FlxSignal0_dispatch0(flixel__util___FlxSignal__FlxSignal0);
extern hl_type t$fun_0710a8b;
#include <flixel/util/_FlxSignal/FlxSignalHandler.h>
extern hl_type t$fun_7b48b4f;
extern hl_type t$_dyn;
void flixel_util__FlxSignal_FlxBaseSignal_remove(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);
extern hl_type t$flixel_util__FlxSignal_FlxSignalHandler;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);

void flixel_util__FlxSignal_FlxSignal0_new(flixel__util___FlxSignal__FlxSignal0 r0) {
	vclosure *r2;
	flixel_util__FlxSignal_FlxBaseSignal_new(((flixel__util___FlxSignal__FlxBaseSignal)r0));
	r2 = hl_alloc_closure_ptr(&t$fun_0710a8b,flixel_util__FlxSignal_FlxSignal0_dispatch0,r0);
	r0->dispatch = ((vdynamic*)r2);
	return;
}

void flixel_util__FlxSignal_FlxSignal0_dispatch0(flixel__util___FlxSignal__FlxSignal0 r0) {
	flixel__util___FlxSignal__FlxSignalHandler r7;
	hl__types__ArrayObj r4;
	hl_type *r11;
	bool r1;
	vclosure *r10;
	vdynamic *r8;
	varray *r9;
	int r2, r5, r6;
	r1 = true;
	r0->processingListeners = r1;
	r2 = 0;
	r4 = r0->handlers;
	label$507b5fa_2_4:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r2 >= r6 ) goto label$507b5fa_2_27;
	r6 = r4->length;
	if( ((unsigned)r2) < ((unsigned)r6) ) goto label$507b5fa_2_12;
	r7 = NULL;
	goto label$507b5fa_2_15;
	label$507b5fa_2_12:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r2];
	r7 = (flixel__util___FlxSignal__FlxSignalHandler)r8;
	label$507b5fa_2_15:
	++r2;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->listener;
	r10 = (vclosure*)hl_dyn_castp(&r8,&t$_dyn,&t$fun_7b48b4f);
	if( r10 == NULL ) hl_null_access();
	r10->hasValue ? ((void (*)(vdynamic*))r10->fun)((vdynamic*)r10->value) : ((void (*)(void))r10->fun)();
	r1 = r7->dispatchOnce;
	if( !r1 ) goto label$507b5fa_2_26;
	r8 = r7->listener;
	r10 = (vclosure*)hl_dyn_castp(&r8,&t$_dyn,&t$fun_7b48b4f);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r10));
	label$507b5fa_2_26:
	goto label$507b5fa_2_4;
	label$507b5fa_2_27:
	r1 = false;
	r0->processingListeners = r1;
	r2 = 0;
	r4 = r0->pendingRemove;
	label$507b5fa_2_31:
	if( r4 == NULL ) hl_null_access();
	r6 = r4->length;
	if( r2 >= r6 ) goto label$507b5fa_2_48;
	r6 = r4->length;
	if( ((unsigned)r2) < ((unsigned)r6) ) goto label$507b5fa_2_39;
	r7 = NULL;
	goto label$507b5fa_2_42;
	label$507b5fa_2_39:
	r9 = r4->array;
	r8 = ((vdynamic**)(r9 + 1))[r2];
	r7 = (flixel__util___FlxSignal__FlxSignalHandler)r8;
	label$507b5fa_2_42:
	++r2;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->listener;
	r10 = (vclosure*)hl_dyn_castp(&r8,&t$_dyn,&t$fun_7b48b4f);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r10));
	goto label$507b5fa_2_31;
	label$507b5fa_2_48:
	r4 = r0->pendingRemove;
	if( r4 == NULL ) hl_null_access();
	r2 = r4->length;
	r5 = 0;
	if( r5 >= r2 ) goto label$507b5fa_2_58;
	r11 = &t$flixel_util__FlxSignal_FlxSignalHandler;
	r2 = 0;
	r9 = hl_alloc_array(r11,r2);
	r4 = hl_types_ArrayObj_alloc(r9);
	r0->pendingRemove = r4;
	label$507b5fa_2_58:
	return;
}

