// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/util/_FlxSignal/FlxSignal2.h>
void flixel_util__FlxSignal_FlxBaseSignal_new(flixel__util___FlxSignal__FlxBaseSignal);
void flixel_util__FlxSignal_FlxSignal2_dispatch2(flixel__util___FlxSignal__FlxSignal2,vdynamic*,vdynamic*);
extern hl_type t$fun_54e0cde;
#include <flixel/util/_FlxSignal/FlxSignalHandler.h>
extern hl_type t$fun_dddab97;
extern hl_type t$_dyn;
void flixel_util__FlxSignal_FlxBaseSignal_remove(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);
extern hl_type t$flixel_util__FlxSignal_FlxSignalHandler;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);

void flixel_util__FlxSignal_FlxSignal2_new(flixel__util___FlxSignal__FlxSignal2 r0) {
	vclosure *r2;
	flixel_util__FlxSignal_FlxBaseSignal_new(((flixel__util___FlxSignal__FlxBaseSignal)r0));
	r2 = hl_alloc_closure_ptr(&t$fun_54e0cde,flixel_util__FlxSignal_FlxSignal2_dispatch2,r0);
	r0->dispatch = ((vdynamic*)r2);
	return;
}

void flixel_util__FlxSignal_FlxSignal2_dispatch2(flixel__util___FlxSignal__FlxSignal2 r0,vdynamic* r1,vdynamic* r2) {
	flixel__util___FlxSignal__FlxSignalHandler r9;
	hl__types__ArrayObj r6;
	hl_type *r13;
	bool r3;
	vclosure *r12;
	vdynamic *r10;
	varray *r11;
	int r4, r7, r8;
	r3 = true;
	r0->processingListeners = r3;
	r4 = 0;
	r6 = r0->handlers;
	label$a555751_2_4:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r4 >= r8 ) goto label$a555751_2_27;
	r8 = r6->length;
	if( ((unsigned)r4) < ((unsigned)r8) ) goto label$a555751_2_12;
	r9 = NULL;
	goto label$a555751_2_15;
	label$a555751_2_12:
	r11 = r6->array;
	r10 = ((vdynamic**)(r11 + 1))[r4];
	r9 = (flixel__util___FlxSignal__FlxSignalHandler)r10;
	label$a555751_2_15:
	++r4;
	if( r9 == NULL ) hl_null_access();
	r10 = r9->listener;
	r12 = (vclosure*)hl_dyn_castp(&r10,&t$_dyn,&t$fun_dddab97);
	if( r12 == NULL ) hl_null_access();
	r12->hasValue ? ((void (*)(vdynamic*,vdynamic*,vdynamic*))r12->fun)((vdynamic*)r12->value,r1,r2) : ((void (*)(vdynamic*,vdynamic*))r12->fun)(r1,r2);
	r3 = r9->dispatchOnce;
	if( !r3 ) goto label$a555751_2_26;
	r10 = r9->listener;
	r12 = (vclosure*)hl_dyn_castp(&r10,&t$_dyn,&t$fun_dddab97);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r12));
	label$a555751_2_26:
	goto label$a555751_2_4;
	label$a555751_2_27:
	r3 = false;
	r0->processingListeners = r3;
	r4 = 0;
	r6 = r0->pendingRemove;
	label$a555751_2_31:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r4 >= r8 ) goto label$a555751_2_48;
	r8 = r6->length;
	if( ((unsigned)r4) < ((unsigned)r8) ) goto label$a555751_2_39;
	r9 = NULL;
	goto label$a555751_2_42;
	label$a555751_2_39:
	r11 = r6->array;
	r10 = ((vdynamic**)(r11 + 1))[r4];
	r9 = (flixel__util___FlxSignal__FlxSignalHandler)r10;
	label$a555751_2_42:
	++r4;
	if( r9 == NULL ) hl_null_access();
	r10 = r9->listener;
	r12 = (vclosure*)hl_dyn_castp(&r10,&t$_dyn,&t$fun_dddab97);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r0),((vdynamic*)r12));
	goto label$a555751_2_31;
	label$a555751_2_48:
	r6 = r0->pendingRemove;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r7 = 0;
	if( r7 >= r4 ) goto label$a555751_2_58;
	r13 = &t$flixel_util__FlxSignal_FlxSignalHandler;
	r4 = 0;
	r11 = hl_alloc_array(r13,r4);
	r6 = hl_types_ArrayObj_alloc(r11);
	r0->pendingRemove = r6;
	label$a555751_2_58:
	return;
}

