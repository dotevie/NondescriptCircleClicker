// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/path/FlxTypedPathfinderData.h>
#include <hl/natives.h>
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
void hl_types_ArrayBytes_Int___expand(hl__types__ArrayBytes_Int,int);
extern hl_type t$hl_types_ArrayBytes_Int;
void hl_types_ArrayBytes_Int_new(hl__types__ArrayBytes_Int);
void hl_types_ArrayBytes_Int_unshift(hl__types__ArrayBytes_Int,int);
bool hl_types_ArrayBytes_Int_contains(hl__types__ArrayBytes_Int,int);
extern hl_type t$fun_75691bc;

void flixel_path_FlxTypedPathfinderData_new(flixel__path__FlxTypedPathfinderData r0,flixel__tile__FlxBaseTilemap r1,int r2,int r3) {
	hl__types__ArrayBytes_Int r4, r11, r12;
	int r6, r8, r9, r10;
	vbyte *r5;
	r0->map = r1;
	r6 = 0;
	r5 = hl_alloc_bytes(r6);
	r6 = 0;
	r6 = 0;
	r4 = hl_types_ArrayBase_allocI32(r5,r6);
	r6 = 0;
	if( r1 == NULL ) hl_null_access();
	r8 = r1->totalTiles;
	label$816ebe2_1_9:
	if( r6 >= r8 ) goto label$816ebe2_1_16;
	++r6;
	if( r4 == NULL ) hl_null_access();
	r10 = -1;
	r10 = hl_types_ArrayBytes_Int_push(r4,r10);
	goto label$816ebe2_1_9;
	label$816ebe2_1_16:
	r0->distances = r4;
	r11 = r0->distances;
	if( r11 == NULL ) hl_null_access();
	r8 = 0;
	r9 = r11->length;
	if( ((unsigned)r2) < ((unsigned)r9) ) goto label$816ebe2_1_23;
	hl_types_ArrayBytes_Int___expand(r11,r2);
	label$816ebe2_1_23:
	r5 = r11->bytes;
	r9 = 2;
	r9 = r2 << r9;
	*(int*)(r5 + r9) = r8;
	r6 = 0;
	r5 = hl_alloc_bytes(r6);
	r6 = 0;
	r6 = 0;
	r11 = hl_types_ArrayBase_allocI32(r5,r6);
	r6 = 0;
	if( r1 == NULL ) hl_null_access();
	r8 = r1->totalTiles;
	label$816ebe2_1_35:
	if( r6 >= r8 ) goto label$816ebe2_1_42;
	++r6;
	if( r11 == NULL ) hl_null_access();
	r10 = -1;
	r10 = hl_types_ArrayBytes_Int_push(r11,r10);
	goto label$816ebe2_1_35;
	label$816ebe2_1_42:
	r0->moves = r11;
	r6 = 4;
	r5 = hl_alloc_bytes(r6);
	r6 = 0;
	r9 = 2;
	r9 = r6 << r9;
	*(int*)(r5 + r9) = r2;
	++r6;
	r6 = 1;
	r12 = hl_types_ArrayBase_allocI32(r5,r6);
	r0->excluded = r12;
	r0->startIndex = r2;
	r0->endIndex = r3;
	return;
}

hl__types__ArrayBytes_Int flixel_path_FlxTypedPathfinderData_getPathIndicesTo(flixel__path__FlxTypedPathfinderData r0,int r1) {
	bool r9;
	hl__types__ArrayBytes_Int r5, r8;
	vbyte *r6;
	int r3, r4, r7;
	r4 = r0->startIndex;
	if( r1 != r4 ) goto label$816ebe2_2_17;
	r3 = 8;
	r6 = hl_alloc_bytes(r3);
	r3 = 0;
	r4 = r0->startIndex;
	r7 = 2;
	r7 = r3 << r7;
	*(int*)(r6 + r7) = r4;
	++r3;
	r7 = 2;
	r7 = r3 << r7;
	*(int*)(r6 + r7) = r1;
	++r3;
	r3 = 2;
	r5 = hl_types_ArrayBase_allocI32(r6,r3);
	return r5;
	label$816ebe2_2_17:
	r5 = r0->moves;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$816ebe2_2_23;
	r3 = 0;
	goto label$816ebe2_2_27;
	label$816ebe2_2_23:
	r6 = r5->bytes;
	r4 = 2;
	r4 = r1 << r4;
	r3 = *(int*)(r6 + r4);
	label$816ebe2_2_27:
	r4 = -1;
	if( r3 != r4 ) goto label$816ebe2_2_31;
	r5 = NULL;
	return r5;
	label$816ebe2_2_31:
	r5 = (hl__types__ArrayBytes_Int)hl_alloc_obj(&t$hl_types_ArrayBytes_Int);
	hl_types_ArrayBytes_Int_new(r5);
	label$816ebe2_2_33:
	r4 = -1;
	if( r1 == r4 ) goto label$816ebe2_2_50;
	if( r5 == NULL ) hl_null_access();
	hl_types_ArrayBytes_Int_unshift(r5,r1);
	r8 = r0->moves;
	if( r8 == NULL ) hl_null_access();
	r4 = r8->length;
	if( ((unsigned)r1) < ((unsigned)r4) ) goto label$816ebe2_2_44;
	r3 = 0;
	goto label$816ebe2_2_48;
	label$816ebe2_2_44:
	r6 = r8->bytes;
	r4 = 2;
	r4 = r1 << r4;
	r3 = *(int*)(r6 + r4);
	label$816ebe2_2_48:
	r1 = r3;
	goto label$816ebe2_2_33;
	label$816ebe2_2_50:
	if( r5 == NULL ) hl_null_access();
	r3 = 0;
	r4 = r5->length;
	if( ((unsigned)r3) < ((unsigned)r4) ) goto label$816ebe2_2_56;
	r3 = 0;
	goto label$816ebe2_2_60;
	label$816ebe2_2_56:
	r6 = r5->bytes;
	r4 = 2;
	r4 = r3 << r4;
	r3 = *(int*)(r6 + r4);
	label$816ebe2_2_60:
	r4 = r0->startIndex;
	if( r3 != r4 ) goto label$816ebe2_2_64;
	r9 = false;
	goto label$816ebe2_2_65;
	label$816ebe2_2_64:
	r9 = true;
	label$816ebe2_2_65:
	return r5;
}

hl__types__ArrayBytes_Int flixel_path_FlxTypedPathfinderData_getPathIndices(flixel__path__FlxTypedPathfinderData r0) {
	hl__types__ArrayBytes_Int r1;
	int r2;
	r2 = r0->endIndex;
	r1 = flixel_path_FlxTypedPathfinderData_getPathIndicesTo(r0,r2);
	return r1;
}

bool flixel_path_FlxTypedPathfinderData_hasValidStartEnd(flixel__path__FlxTypedPathfinderData r0) {
	bool r4;
	flixel__tile__FlxBaseTilemap r3;
	int r1, r2;
	r1 = r0->startIndex;
	r2 = 0;
	if( r1 < r2 ) goto label$816ebe2_4_20;
	r1 = r0->endIndex;
	r2 = 0;
	if( r1 < r2 ) goto label$816ebe2_4_20;
	r1 = r0->startIndex;
	r3 = r0->map;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->totalTiles;
	if( r1 >= r2 ) goto label$816ebe2_4_20;
	r1 = r0->endIndex;
	r3 = r0->map;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->totalTiles;
	if( r1 < r2 ) goto label$816ebe2_4_18;
	r4 = false;
	goto label$816ebe2_4_19;
	label$816ebe2_4_18:
	r4 = true;
	label$816ebe2_4_19:
	return r4;
	label$816ebe2_4_20:
	r4 = false;
	return r4;
}

void flixel_path_FlxTypedPathfinderData_destroy(flixel__path__FlxTypedPathfinderData r0) {
	hl__types__ArrayBytes_Int r2;
	flixel__tile__FlxBaseTilemap r1;
	r1 = NULL;
	r0->map = r1;
	r2 = NULL;
	r0->distances = r2;
	r2 = NULL;
	r0->moves = r2;
	r2 = NULL;
	r0->excluded = r2;
	return;
}

bool flixel_path_FlxTypedPathfinderData_isExcluded(flixel__path__FlxTypedPathfinderData r0,int r1) {
	bool r2;
	hl__types__ArrayBytes_Int r3;
	r3 = r0->excluded;
	if( r3 == NULL ) hl_null_access();
	r2 = hl_types_ArrayBytes_Int_contains(r3,r1);
	return r2;
}

int flixel_path_FlxTypedPathfinderData_getX(flixel__path__FlxTypedPathfinderData r0,int r1) {
	flixel__tile__FlxBaseTilemap r4;
	int r2, r3;
	r4 = r0->map;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->widthInTiles;
	r2 = r3 == 0 ? 0 : r1 % r3;
	return r2;
}

int flixel_path_FlxTypedPathfinderData_getY(flixel__path__FlxTypedPathfinderData r0,int r1) {
	flixel__tile__FlxBaseTilemap r4;
	double r2, r5;
	int r3;
	r2 = (double)r1;
	r4 = r0->map;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->widthInTiles;
	r5 = (double)r3;
	r2 = r2 / r5;
	r3 = (int)r2;
	return r3;
}

int flixel_path_FlxTypedPathfinderData_getTileCollisionsByIndex(flixel__path__FlxTypedPathfinderData r0,int r1) {
	flixel__tile__FlxBaseTilemap r4;
	vclosure *r3, *r5;
	int r2;
	r4 = r0->map;
	if( r4 == NULL ) hl_null_access();
	r3 = (vclosure*)hl_dyn_getp((vdynamic*)r4,-398639296/*getTileCollisions*/,&t$fun_75691bc);
	if( r3 == NULL ) hl_null_access();
	r4 = r0->map;
	if( r4 == NULL ) hl_null_access();
	r5 = (vclosure*)hl_dyn_getp((vdynamic*)r4,-458573134/*getTileByIndex*/,&t$fun_75691bc);
	if( r5 == NULL ) hl_null_access();
	r2 = r5->hasValue ? ((int (*)(vdynamic*,int))r5->fun)((vdynamic*)r5->value,r1) : ((int (*)(int))r5->fun)(r1);
	r2 = r3->hasValue ? ((int (*)(vdynamic*,int))r3->fun)((vdynamic*)r3->value,r2) : ((int (*)(int))r3->fun)(r2);
	return r2;
}

