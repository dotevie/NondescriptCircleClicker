// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/animation/FlxAnimation.h>
void flixel_animation_FlxBaseAnimation_destroy(flixel__animation__FlxBaseAnimation);
#include <flixel/math/FlxRandom.h>
#include <flixel/FlxG.h>
extern flixel__$FlxG g$_flixel_FlxG;
int flixel_math_FlxRandom_int(flixel__math__FlxRandom,int*,int*,hl__types__ArrayBytes_Int);
int flixel_animation_FlxAnimation_set_curFrame(flixel__animation__FlxAnimation,int);
double flixel_animation_FlxAnimation_getCurrentFrameDuration(flixel__animation__FlxAnimation);
double flixel_animation_FlxAnimationController_getFrameDuration(flixel__animation__FlxAnimationController,int);
extern hl_type t$flixel_animation_FlxAnimation;
void flixel_animation_FlxAnimation_new(flixel__animation__FlxAnimation,flixel__animation__FlxAnimationController,String,hl__types__ArrayBytes_Int,double*,bool*,bool*,bool*);
int flixel_animation_FlxBaseAnimation_set_curIndex(flixel__animation__FlxBaseAnimation,int);
void flixel_animation_FlxBaseAnimation_new(flixel__animation__FlxBaseAnimation,flixel__animation__FlxAnimationController,String);

void flixel_animation_FlxAnimation_destroy(flixel__animation__FlxAnimation r0) {
	String r2;
	hl__types__ArrayBytes_Int r1;
	r1 = NULL;
	r0->frames = r1;
	r2 = NULL;
	r0->name = r2;
	flixel_animation_FlxBaseAnimation_destroy(((flixel__animation__FlxBaseAnimation)r0));
	return;
}

void flixel_animation_FlxAnimation_play(flixel__animation__FlxAnimation r0,bool* r1,bool* r2,int* r3) {
	String r21;
	bool r4, r5, r8;
	flixel__$FlxG r16;
	hl__types__ArrayBytes_Int r12;
	flixel__math__FlxRandom r15;
	vclosure *r20;
	double r9, r10;
	int *r17;
	flixel__animation__FlxAnimationController r19;
	int r6, r11, r13, r14, r18;
	if( r1 ) goto label$03b5f17_2_3;
	r4 = false;
	goto label$03b5f17_2_4;
	label$03b5f17_2_3:
	r4 = *r1;
	label$03b5f17_2_4:
	if( r2 ) goto label$03b5f17_2_7;
	r5 = false;
	goto label$03b5f17_2_8;
	label$03b5f17_2_7:
	r5 = *r2;
	label$03b5f17_2_8:
	if( r3 ) goto label$03b5f17_2_11;
	r6 = 0;
	goto label$03b5f17_2_12;
	label$03b5f17_2_11:
	r6 = *r3;
	label$03b5f17_2_12:
	if( r4 ) goto label$03b5f17_2_20;
	r8 = r0->finished;
	if( r8 ) goto label$03b5f17_2_20;
	r8 = r0->reversed;
	if( r8 != r5 ) goto label$03b5f17_2_20;
	r8 = false;
	r0->paused = r8;
	return;
	label$03b5f17_2_20:
	r0->reversed = r5;
	r8 = false;
	r0->paused = r8;
	r9 = 0.;
	r0->_frameTimer = r9;
	r9 = r0->frameDuration;
	r10 = 0.;
	if( r9 == r10 ) goto label$03b5f17_2_30;
	r8 = false;
	goto label$03b5f17_2_31;
	label$03b5f17_2_30:
	r8 = true;
	label$03b5f17_2_31:
	r0->finished = r8;
	r12 = r0->frames;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->length;
	r13 = 1;
	r11 = r11 - r13;
	r14 = 0;
	if( r6 >= r14 ) goto label$03b5f17_2_50;
	r16 = (flixel__$FlxG)g$_flixel_FlxG;
	r15 = r16->random;
	if( r15 == NULL ) hl_null_access();
	r13 = 0;
	r3 = &r13;
	r14 = r11;
	r17 = &r14;
	r12 = NULL;
	r13 = flixel_math_FlxRandom_int(r15,r3,r17,r12);
	r13 = flixel_animation_FlxAnimation_set_curFrame(r0,r13);
	goto label$03b5f17_2_57;
	label$03b5f17_2_50:
	if( r11 >= r6 ) goto label$03b5f17_2_52;
	r6 = r11;
	label$03b5f17_2_52:
	r8 = r0->reversed;
	if( !r8 ) goto label$03b5f17_2_56;
	r18 = r11 - r6;
	r6 = r18;
	label$03b5f17_2_56:
	r18 = flixel_animation_FlxAnimation_set_curFrame(r0,r6);
	label$03b5f17_2_57:
	r8 = r0->finished;
	if( !r8 ) goto label$03b5f17_2_67;
	r19 = r0->parent;
	if( r19 == NULL ) hl_null_access();
	r20 = r19->finishCallback;
	if( !r20 ) goto label$03b5f17_2_67;
	r20 = r19->finishCallback;
	if( r20 == NULL ) hl_null_access();
	r21 = r0->name;
	r20->hasValue ? ((void (*)(vdynamic*,String))r20->fun)((vdynamic*)r20->value,r21) : ((void (*)(String))r20->fun)(r21);
	label$03b5f17_2_67:
	return;
}

void flixel_animation_FlxAnimation_restart(flixel__animation__FlxAnimation r0) {
	bool *r3, *r5;
	bool r2, r4;
	int *r6;
	r2 = true;
	r3 = &r2;
	r4 = r0->reversed;
	r5 = &r4;
	r6 = NULL;
	flixel_animation_FlxAnimation_play(r0,r3,r5,r6);
	return;
}

void flixel_animation_FlxAnimation_stop(flixel__animation__FlxAnimation r0) {
	bool r1;
	r1 = true;
	r0->finished = r1;
	r1 = true;
	r0->paused = r1;
	return;
}

void flixel_animation_FlxAnimation_reset(flixel__animation__FlxAnimation r0) {
	bool r3;
	hl__types__ArrayBytes_Int r4;
	int r2, r5;
	flixel_animation_FlxAnimation_stop(r0);
	r3 = r0->reversed;
	if( !r3 ) goto label$03b5f17_5_9;
	r4 = r0->frames;
	if( r4 == NULL ) hl_null_access();
	r2 = r4->length;
	r5 = 1;
	r2 = r2 - r5;
	goto label$03b5f17_5_10;
	label$03b5f17_5_9:
	r2 = 0;
	label$03b5f17_5_10:
	r2 = flixel_animation_FlxAnimation_set_curFrame(r0,r2);
	return;
}

void flixel_animation_FlxAnimation_finish(flixel__animation__FlxAnimation r0) {
	bool r3;
	hl__types__ArrayBytes_Int r4;
	int r2, r5;
	flixel_animation_FlxAnimation_stop(r0);
	r3 = r0->reversed;
	if( !r3 ) goto label$03b5f17_6_5;
	r2 = 0;
	goto label$03b5f17_6_10;
	label$03b5f17_6_5:
	r4 = r0->frames;
	if( r4 == NULL ) hl_null_access();
	r2 = r4->length;
	r5 = 1;
	r2 = r2 - r5;
	label$03b5f17_6_10:
	r2 = flixel_animation_FlxAnimation_set_curFrame(r0,r2);
	return;
}

void flixel_animation_FlxAnimation_pause(flixel__animation__FlxAnimation r0) {
	bool r1;
	r1 = true;
	r0->paused = r1;
	return;
}

void flixel_animation_FlxAnimation_resume(flixel__animation__FlxAnimation r0) {
	bool r1;
	r1 = false;
	r0->paused = r1;
	return;
}

void flixel_animation_FlxAnimation_reverse(flixel__animation__FlxAnimation r0) {
	bool *r3, *r5;
	bool r1, r4;
	int *r6;
	r1 = r0->reversed;
	r1 = !r1;
	r0->reversed = r1;
	r1 = r0->finished;
	if( !r1 ) goto label$03b5f17_9_11;
	r1 = false;
	r3 = &r1;
	r4 = r0->reversed;
	r5 = &r4;
	r6 = NULL;
	flixel_animation_FlxAnimation_play(r0,r3,r5,r6);
	label$03b5f17_9_11:
	return;
}

void flixel_animation_FlxAnimation_update(flixel__animation__FlxAnimation r0,double r1) {
	bool r6;
	hl__types__ArrayBytes_Int r9;
	double r2, r4, r5;
	int r7, r8, r10;
	r2 = flixel_animation_FlxAnimation_getCurrentFrameDuration(r0);
	r5 = 0.;
	if( r2 == r5 ) goto label$03b5f17_10_7;
	r6 = r0->finished;
	if( r6 ) goto label$03b5f17_10_7;
	r6 = r0->paused;
	if( !r6 ) goto label$03b5f17_10_8;
	label$03b5f17_10_7:
	return;
	label$03b5f17_10_8:
	r4 = r0->_frameTimer;
	r4 = r4 + r1;
	r0->_frameTimer = r4;
	label$03b5f17_10_11:
	r4 = r0->_frameTimer;
	if( !(r2 < r4) ) goto label$03b5f17_10_60;
	r6 = r0->finished;
	if( r6 ) goto label$03b5f17_10_60;
	r4 = r0->_frameTimer;
	r4 = r4 - r2;
	r0->_frameTimer = r4;
	r6 = r0->reversed;
	if( !r6 ) goto label$03b5f17_10_38;
	r6 = r0->looped;
	if( !r6 ) goto label$03b5f17_10_33;
	r7 = r0->curFrame;
	r8 = r0->loopPoint;
	if( r7 != r8 ) goto label$03b5f17_10_33;
	r9 = r0->frames;
	if( r9 == NULL ) hl_null_access();
	r7 = r9->length;
	r8 = 1;
	r7 = r7 - r8;
	r7 = flixel_animation_FlxAnimation_set_curFrame(r0,r7);
	goto label$03b5f17_10_37;
	label$03b5f17_10_33:
	r7 = r0->curFrame;
	r8 = 1;
	r7 = r7 - r8;
	r7 = flixel_animation_FlxAnimation_set_curFrame(r0,r7);
	label$03b5f17_10_37:
	goto label$03b5f17_10_54;
	label$03b5f17_10_38:
	r6 = r0->looped;
	if( !r6 ) goto label$03b5f17_10_50;
	r7 = r0->curFrame;
	r9 = r0->frames;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->length;
	r10 = 1;
	r8 = r8 - r10;
	if( r7 != r8 ) goto label$03b5f17_10_50;
	r7 = r0->loopPoint;
	r7 = flixel_animation_FlxAnimation_set_curFrame(r0,r7);
	goto label$03b5f17_10_54;
	label$03b5f17_10_50:
	r7 = r0->curFrame;
	r8 = 1;
	r7 = r7 + r8;
	r7 = flixel_animation_FlxAnimation_set_curFrame(r0,r7);
	label$03b5f17_10_54:
	r6 = r0->finished;
	if( !r6 ) goto label$03b5f17_10_57;
	goto label$03b5f17_10_60;
	label$03b5f17_10_57:
	r4 = flixel_animation_FlxAnimation_getCurrentFrameDuration(r0);
	r2 = r4;
	goto label$03b5f17_10_11;
	label$03b5f17_10_60:
	return;
}

double flixel_animation_FlxAnimation_getCurrentFrameDuration(flixel__animation__FlxAnimation r0) {
	hl__types__ArrayBytes_Int r3;
	double r1, r7, r8;
	vbyte *r6;
	int r4, r5;
	flixel__animation__FlxAnimationController r2;
	r2 = r0->parent;
	if( r2 == NULL ) hl_null_access();
	r3 = r0->frames;
	if( r3 == NULL ) hl_null_access();
	r4 = r0->curFrame;
	r5 = r3->length;
	if( ((unsigned)r4) < ((unsigned)r5) ) goto label$03b5f17_11_9;
	r4 = 0;
	goto label$03b5f17_11_13;
	label$03b5f17_11_9:
	r6 = r3->bytes;
	r5 = 2;
	r5 = r4 << r5;
	r4 = *(int*)(r6 + r5);
	label$03b5f17_11_13:
	r1 = flixel_animation_FlxAnimationController_getFrameDuration(r2,r4);
	r8 = 0.;
	if( !(r8 < r1) ) goto label$03b5f17_11_17;
	return r1;
	label$03b5f17_11_17:
	r7 = r0->frameDuration;
	return r7;
}

flixel__animation__FlxBaseAnimation flixel_animation_FlxAnimation_clone(flixel__animation__FlxAnimation r0,flixel__animation__FlxAnimationController r1) {
	bool *r8, *r10, *r12;
	String r3;
	bool r7, r9, r11;
	hl__types__ArrayBytes_Int r4;
	flixel__animation__FlxAnimation r2;
	double r5;
	double *r6;
	r2 = (flixel__animation__FlxAnimation)hl_alloc_obj(&t$flixel_animation_FlxAnimation);
	r3 = r0->name;
	r4 = r0->frames;
	r5 = r0->frameRate;
	r6 = &r5;
	r7 = r0->looped;
	r8 = &r7;
	r9 = r0->flipX;
	r10 = &r9;
	r11 = r0->flipY;
	r12 = &r11;
	flixel_animation_FlxAnimation_new(r2,r1,r3,r4,r6,r8,r10,r12);
	return ((flixel__animation__FlxBaseAnimation)r2);
}

double flixel_animation_FlxAnimation_set_frameRate(flixel__animation__FlxAnimation r0,double r1) {
	double r2, r3;
	r0->frameRate = r1;
	r3 = 0.;
	if( !(r3 < r1) ) goto label$03b5f17_13_6;
	r2 = 1.;
	r2 = r2 / r1;
	goto label$03b5f17_13_7;
	label$03b5f17_13_6:
	r2 = 0.;
	label$03b5f17_13_7:
	r0->frameDuration = r2;
	return r1;
}

int flixel_animation_FlxAnimation_set_curFrame(flixel__animation__FlxAnimation r0,int r1) {
	String r18;
	bool r6;
	flixel__$FlxG r10;
	hl__types__ArrayBytes_Int r3;
	flixel__math__FlxRandom r9;
	vclosure *r17;
	int *r11, *r12;
	flixel__animation__FlxAnimationController r16;
	vbyte *r15;
	int r2, r4, r7, r8, r13, r14;
	r3 = r0->frames;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->length;
	r4 = 1;
	r2 = r2 - r4;
	r6 = r0->reversed;
	if( !r6 ) goto label$03b5f17_14_9;
	r4 = r2 - r1;
	goto label$03b5f17_14_10;
	label$03b5f17_14_9:
	r4 = r1;
	label$03b5f17_14_10:
	r8 = 0;
	if( r4 < r8 ) goto label$03b5f17_14_26;
	r6 = r0->looped;
	if( r6 ) goto label$03b5f17_14_24;
	if( r2 >= r1 ) goto label$03b5f17_14_24;
	r6 = true;
	r0->finished = r6;
	r6 = r0->reversed;
	if( !r6 ) goto label$03b5f17_14_21;
	r7 = 0;
	goto label$03b5f17_14_22;
	label$03b5f17_14_21:
	r7 = r2;
	label$03b5f17_14_22:
	r0->curFrame = r7;
	goto label$03b5f17_14_25;
	label$03b5f17_14_24:
	r0->curFrame = r1;
	label$03b5f17_14_25:
	goto label$03b5f17_14_36;
	label$03b5f17_14_26:
	r10 = (flixel__$FlxG)g$_flixel_FlxG;
	r9 = r10->random;
	if( r9 == NULL ) hl_null_access();
	r7 = 0;
	r11 = &r7;
	r8 = r2;
	r12 = &r8;
	r3 = NULL;
	r7 = flixel_math_FlxRandom_int(r9,r11,r12,r3);
	r0->curFrame = r7;
	label$03b5f17_14_36:
	r3 = r0->frames;
	if( r3 == NULL ) hl_null_access();
	r13 = r0->curFrame;
	r14 = r3->length;
	if( ((unsigned)r13) < ((unsigned)r14) ) goto label$03b5f17_14_43;
	r13 = 0;
	goto label$03b5f17_14_47;
	label$03b5f17_14_43:
	r15 = r3->bytes;
	r14 = 2;
	r14 = r13 << r14;
	r13 = *(int*)(r15 + r14);
	label$03b5f17_14_47:
	r13 = flixel_animation_FlxBaseAnimation_set_curIndex(((flixel__animation__FlxBaseAnimation)r0),r13);
	r6 = r0->finished;
	if( !r6 ) goto label$03b5f17_14_60;
	r16 = r0->parent;
	if( !r16 ) goto label$03b5f17_14_60;
	r16 = r0->parent;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->finishCallback;
	if( !r17 ) goto label$03b5f17_14_60;
	r17 = r16->finishCallback;
	if( r17 == NULL ) hl_null_access();
	r18 = r0->name;
	r17->hasValue ? ((void (*)(vdynamic*,String))r17->fun)((vdynamic*)r17->value,r18) : ((void (*)(String))r17->fun)(r18);
	label$03b5f17_14_60:
	return r1;
}

int flixel_animation_FlxAnimation_get_numFrames(flixel__animation__FlxAnimation r0) {
	hl__types__ArrayBytes_Int r2;
	int r1;
	r2 = r0->frames;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->length;
	return r1;
}

double flixel_animation_FlxAnimation_get_delay(flixel__animation__FlxAnimation r0) {
	double r1;
	r1 = r0->frameDuration;
	return r1;
}

double flixel_animation_FlxAnimation_set_delay(flixel__animation__FlxAnimation r0,double r1) {
	r0->frameDuration = r1;
	return r1;
}

void flixel_animation_FlxAnimation_new(flixel__animation__FlxAnimation r0,flixel__animation__FlxAnimationController r1,String r2,hl__types__ArrayBytes_Int r3,double* r4,bool* r5,bool* r6,bool* r7) {
	bool r9, r10, r11, r13;
	double r8, r12;
	int r14;
	if( r4 ) goto label$03b5f17_18_3;
	r8 = 0.;
	goto label$03b5f17_18_4;
	label$03b5f17_18_3:
	r8 = *r4;
	label$03b5f17_18_4:
	if( r5 ) goto label$03b5f17_18_7;
	r9 = true;
	goto label$03b5f17_18_8;
	label$03b5f17_18_7:
	r9 = *r5;
	label$03b5f17_18_8:
	if( r6 ) goto label$03b5f17_18_11;
	r10 = false;
	goto label$03b5f17_18_12;
	label$03b5f17_18_11:
	r10 = *r6;
	label$03b5f17_18_12:
	if( r7 ) goto label$03b5f17_18_15;
	r11 = false;
	goto label$03b5f17_18_16;
	label$03b5f17_18_15:
	r11 = *r7;
	label$03b5f17_18_16:
	r12 = 0.;
	r0->_frameTimer = r12;
	r13 = false;
	r0->flipY = r13;
	r13 = false;
	r0->flipX = r13;
	r13 = false;
	r0->reversed = r13;
	r14 = 0;
	r0->loopPoint = r14;
	r13 = true;
	r0->looped = r13;
	r13 = true;
	r0->paused = r13;
	r13 = true;
	r0->finished = r13;
	r12 = 0.;
	r0->frameDuration = r12;
	r14 = 0;
	r0->curFrame = r14;
	flixel_animation_FlxBaseAnimation_new(((flixel__animation__FlxBaseAnimation)r0),r1,r2);
	r12 = flixel_animation_FlxAnimation_set_frameRate(r0,r8);
	r0->frames = r3;
	r0->looped = r9;
	r0->flipX = r10;
	r0->flipY = r11;
	return;
}

