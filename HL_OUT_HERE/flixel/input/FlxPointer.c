// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/input/FlxPointer.h>
#include <flixel/FlxG.h>
#include <flixel/util/FlxPool_flixel_math_FlxBasePoint.h>
#include <flixel/math/FlxBasePoint.h>
extern flixel__$FlxG g$_flixel_FlxG;
extern flixel__math__$FlxBasePoint g$_flixel_math_FlxBasePoint;
flixel__math__FlxBasePoint flixel_util_FlxPool_flixel_math_FlxBasePoint_get(flixel__util__FlxPool_flixel_math_FlxBasePoint);
extern flixel__input__$FlxPointer g$_flixel_input_FlxPointer;
flixel__math__FlxBasePoint flixel_input_FlxPointer_getScreenPosition(flixel__input__FlxPointer,flixel__FlxCamera,flixel__math__FlxBasePoint);
#include <flixel/FlxBasic.h>
bool flixel_input_FlxPointer_overlaps(flixel__input__FlxPointer,flixel__FlxBasic,flixel__FlxCamera);
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
#include <flixel/group/FlxTypedGroup.h>
#include <flixel/FlxObject.h>
extern hl_type t$_dyn;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
flixel__group__FlxTypedGroup flixel_group_FlxTypedGroup_resolveGroup(flixel__FlxBasic);
extern hl_type t$ctx_25edb5a;
extern hl_type t$fun_36848c9;
void flixel_group_FlxTypedGroup_forEachExists(flixel__group__FlxTypedGroup,vclosure*,bool*);
extern hl_type t$flixel_FlxObject;
extern hl_type t$flixel_FlxBasic;
extern hl_type t$_bool;
#include <flixel/system/scaleModes/BaseScaleMode.h>
void flixel_input_FlxPointer_updatePositions(flixel__input__FlxPointer);
String flixel_input_FlxPointer_toString(flixel__input__FlxPointer);
#include <flixel/util/LabelValuePair.h>
#include <flixel/util/FlxPool_flixel_util_LabelValuePair.h>
extern hl_type t$_i32;
extern flixel__util__$LabelValuePair g$_flixel_util_LabelValuePair;
flixel__util__LabelValuePair flixel_util_FlxPool_flixel_util_LabelValuePair_get(flixel__util__FlxPool_flixel_util_LabelValuePair);
extern String s$x;
extern String s$y;
extern hl_type t$flixel_util_LabelValuePair;
String flixel_util_FlxStringUtil_getDebugString(hl__types__ArrayObj);

flixel__math__FlxBasePoint flixel_input_FlxPointer_getWorldPosition(flixel__input__FlxPointer r0,flixel__FlxCamera r1,flixel__math__FlxBasePoint r2) {
	flixel__input__$FlxPointer r15;
	flixel__math__FlxBasePoint r5, r13;
	bool r14;
	flixel__$FlxG r4;
	flixel__util__FlxPool_flixel_math_FlxBasePoint r6;
	double r9, r11, r16, r17;
	double *r10, *r12;
	int r8;
	flixel__math__$FlxBasePoint r7;
	flixel__FlxCamera r3;
	if( r1 ) goto label$54f52b9_1_4;
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->camera;
	r1 = r3;
	label$54f52b9_1_4:
	if( r2 ) goto label$54f52b9_1_21;
	r7 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r6 = r7->pool;
	if( r6 == NULL ) hl_null_access();
	r5 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r6);
	if( r5 == NULL ) hl_null_access();
	r8 = 0;
	r9 = (double)r8;
	r10 = &r9;
	r8 = 0;
	r11 = (double)r8;
	r12 = &r11;
	r5 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r5->$type->vobj_proto[0])(r5,r10,r12);
	if( r5 == NULL ) hl_null_access();
	r14 = false;
	r5->_inPool = r14;
	r2 = r5;
	label$54f52b9_1_21:
	r15 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r5 = r15->_cachedPoint;
	r5 = flixel_input_FlxPointer_getScreenPosition(r0,r1,r5);
	if( r2 == NULL ) hl_null_access();
	r15 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r13 = r15->_cachedPoint;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->x;
	if( r1 == NULL ) hl_null_access();
	r13 = r1->scroll;
	if( r13 == NULL ) hl_null_access();
	r17 = r13->x;
	r16 = r16 + r17;
	r16 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[3])(r2,r16);
	r15 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r13 = r15->_cachedPoint;
	if( r13 == NULL ) hl_null_access();
	r16 = r13->y;
	r13 = r1->scroll;
	if( r13 == NULL ) hl_null_access();
	r17 = r13->y;
	r16 = r16 + r17;
	r16 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[4])(r2,r16);
	return r2;
}

flixel__math__FlxBasePoint flixel_input_FlxPointer_getScreenPosition(flixel__input__FlxPointer r0,flixel__FlxCamera r1,flixel__math__FlxBasePoint r2) {
	flixel__math__FlxBasePoint r5;
	bool r13;
	flixel__$FlxG r4;
	flixel__util__FlxPool_flixel_math_FlxBasePoint r6;
	double r9, r11, r14, r15, r16, r17;
	double *r10, *r12;
	int r8;
	flixel__math__$FlxBasePoint r7;
	flixel__FlxCamera r3;
	if( r1 ) goto label$54f52b9_2_4;
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->camera;
	r1 = r3;
	label$54f52b9_2_4:
	if( r2 ) goto label$54f52b9_2_21;
	r7 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r6 = r7->pool;
	if( r6 == NULL ) hl_null_access();
	r5 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r6);
	if( r5 == NULL ) hl_null_access();
	r8 = 0;
	r9 = (double)r8;
	r10 = &r9;
	r8 = 0;
	r11 = (double)r8;
	r12 = &r11;
	r5 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r5->$type->vobj_proto[0])(r5,r10,r12);
	if( r5 == NULL ) hl_null_access();
	r13 = false;
	r5->_inPool = r13;
	r2 = r5;
	label$54f52b9_2_21:
	if( r2 == NULL ) hl_null_access();
	r8 = r0->_globalScreenX;
	r14 = (double)r8;
	if( r1 == NULL ) hl_null_access();
	r15 = r1->x;
	r14 = r14 - r15;
	r15 = 0.5;
	r8 = r1->width;
	r16 = (double)r8;
	r15 = r15 * r16;
	r16 = r1->zoom;
	r17 = r1->initialZoom;
	r16 = r16 - r17;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r15 = r1->zoom;
	r14 = r14 / r15;
	r14 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[3])(r2,r14);
	r8 = r0->_globalScreenY;
	r14 = (double)r8;
	r15 = r1->y;
	r14 = r14 - r15;
	r15 = 0.5;
	r8 = r1->height;
	r16 = (double)r8;
	r15 = r15 * r16;
	r16 = r1->zoom;
	r17 = r1->initialZoom;
	r16 = r16 - r17;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r15 = r1->zoom;
	r14 = r14 / r15;
	r14 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[4])(r2,r14);
	return r2;
}

flixel__math__FlxBasePoint flixel_input_FlxPointer_getPositionInCameraView(flixel__input__FlxPointer r0,flixel__FlxCamera r1,flixel__math__FlxBasePoint r2) {
	flixel__math__FlxBasePoint r5;
	bool r13;
	flixel__$FlxG r4;
	flixel__util__FlxPool_flixel_math_FlxBasePoint r6;
	double r9, r11, r14, r15;
	double *r10, *r12;
	int r8;
	flixel__math__$FlxBasePoint r7;
	flixel__FlxCamera r3;
	if( r1 ) goto label$54f52b9_3_4;
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->camera;
	r1 = r3;
	label$54f52b9_3_4:
	if( r2 ) goto label$54f52b9_3_21;
	r7 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r6 = r7->pool;
	if( r6 == NULL ) hl_null_access();
	r5 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r6);
	if( r5 == NULL ) hl_null_access();
	r8 = 0;
	r9 = (double)r8;
	r10 = &r9;
	r8 = 0;
	r11 = (double)r8;
	r12 = &r11;
	r5 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r5->$type->vobj_proto[0])(r5,r10,r12);
	if( r5 == NULL ) hl_null_access();
	r13 = false;
	r5->_inPool = r13;
	r2 = r5;
	label$54f52b9_3_21:
	if( r2 == NULL ) hl_null_access();
	r8 = r0->_globalScreenX;
	r14 = (double)r8;
	if( r1 == NULL ) hl_null_access();
	r15 = r1->x;
	r14 = r14 - r15;
	r15 = r1->zoom;
	r14 = r14 / r15;
	r15 = r1->viewMarginX;
	r14 = r14 + r15;
	r14 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[3])(r2,r14);
	r8 = r0->_globalScreenY;
	r14 = (double)r8;
	r15 = r1->y;
	r14 = r14 - r15;
	r15 = r1->zoom;
	r14 = r14 / r15;
	r15 = r1->viewMarginY;
	r14 = r14 + r15;
	r14 = ((double (*)(flixel__math__FlxBasePoint,double))r2->$type->vobj_proto[4])(r2,r14);
	return r2;
}

flixel__math__FlxBasePoint flixel_input_FlxPointer_getPosition(flixel__input__FlxPointer r0,flixel__math__FlxBasePoint r1) {
	flixel__math__FlxBasePoint r2;
	bool r10;
	flixel__util__FlxPool_flixel_math_FlxBasePoint r3;
	double r6, r8, r11, r12;
	double *r7, *r9;
	int r5;
	flixel__math__$FlxBasePoint r4;
	if( r1 ) goto label$54f52b9_4_17;
	r4 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r3 = r4->pool;
	if( r3 == NULL ) hl_null_access();
	r2 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r3);
	if( r2 == NULL ) hl_null_access();
	r5 = 0;
	r6 = (double)r5;
	r7 = &r6;
	r5 = 0;
	r8 = (double)r5;
	r9 = &r8;
	r2 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r2->$type->vobj_proto[0])(r2,r7,r9);
	if( r2 == NULL ) hl_null_access();
	r10 = false;
	r2->_inPool = r10;
	r1 = r2;
	label$54f52b9_4_17:
	r5 = r0->y;
	r11 = (double)r5;
	if( r1 == NULL ) hl_null_access();
	r5 = r0->x;
	r12 = (double)r5;
	r12 = ((double (*)(flixel__math__FlxBasePoint,double))r1->$type->vobj_proto[3])(r1,r12);
	r12 = ((double (*)(flixel__math__FlxBasePoint,double))r1->$type->vobj_proto[4])(r1,r11);
	return r1;
}

void flixel_input_FlxPointer_overlaps__$1(venum* r0,flixel__FlxBasic r1) {
	hl__types__ArrayObj r6;
	bool r3;
	flixel__input__FlxPointer r4;
	vdynamic *r10;
	varray *r9;
	int r7, r8;
	flixel__FlxCamera r5;
	r4 = ((Enumt$ctx_25edb5a*)r0)->p2;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_25edb5a*)r0)->p0;
	r3 = flixel_input_FlxPointer_overlaps(r4,r1,r5);
	if( !r3 ) goto label$54f52b9_5_16;
	r6 = ((Enumt$ctx_25edb5a*)r0)->p1;
	if( r6 == NULL ) hl_null_access();
	r7 = 0;
	r3 = true;
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$54f52b9_5_12;
	hl_types_ArrayObj___expand(r6,r7);
	label$54f52b9_5_12:
	r9 = r6->array;
	r10 = hl_alloc_dynbool(r3);
	((vdynamic**)(r9 + 1))[r7] = r10;
	return;
	label$54f52b9_5_16:
	return;
}

bool flixel_input_FlxPointer_overlaps(flixel__input__FlxPointer r0,flixel__FlxBasic r1,flixel__FlxCamera r2) {
	bool *r13;
	hl__types__ArrayObj r4;
	flixel__input__$FlxPointer r15;
	flixel__math__FlxBasePoint r14;
	venum *r12;
	hl_type *r6;
	bool r8, r18;
	flixel__FlxObject r16;
	flixel__group__FlxTypedGroup r10;
	vclosure *r11;
	vdynamic *r9;
	int r7, r17;
	varray *r5;
	r6 = &t$_dyn;
	r7 = 1;
	r5 = hl_alloc_array(r6,r7);
	r8 = false;
	r9 = hl_alloc_dynbool(r8);
	r7 = 0;
	((vdynamic**)(r5 + 1))[r7] = r9;
	r4 = hl_types_ArrayObj_alloc(r5);
	r10 = flixel_group_FlxTypedGroup_resolveGroup(r1);
	if( !r10 ) goto label$54f52b9_6_19;
	if( r10 == NULL ) hl_null_access();
	r12 = hl_alloc_enum(&t$ctx_25edb5a,0);
	((Enumt$ctx_25edb5a*)r12)->p0 = (flixel__FlxCamera)r2;
	((Enumt$ctx_25edb5a*)r12)->p1 = (hl__types__ArrayObj)r4;
	((Enumt$ctx_25edb5a*)r12)->p2 = (flixel__input__FlxPointer)r0;
	r11 = hl_alloc_closure_ptr(&t$fun_36848c9,flixel_input_FlxPointer_overlaps__$1,r12);
	r13 = NULL;
	flixel_group_FlxTypedGroup_forEachExists(r10,r11,r13);
	goto label$54f52b9_6_37;
	label$54f52b9_6_19:
	r15 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r14 = r15->_cachedPoint;
	r14 = flixel_input_FlxPointer_getPosition(r0,r14);
	r16 = (flixel__FlxObject)hl_dyn_castp(&r1,&t$flixel_FlxBasic,&t$flixel_FlxObject);
	if( r4 == NULL ) hl_null_access();
	r7 = 0;
	if( r16 == NULL ) hl_null_access();
	r15 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r14 = r15->_cachedPoint;
	r8 = true;
	r13 = &r8;
	r8 = ((bool (*)(flixel__FlxObject,flixel__math__FlxBasePoint,bool*,flixel__FlxCamera))r16->$type->vobj_proto[17])(r16,r14,r13,r2);
	r17 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r17) ) goto label$54f52b9_6_34;
	hl_types_ArrayObj___expand(r4,r7);
	label$54f52b9_6_34:
	r5 = r4->array;
	r9 = hl_alloc_dynbool(r8);
	((vdynamic**)(r5 + 1))[r7] = r9;
	label$54f52b9_6_37:
	if( r4 == NULL ) hl_null_access();
	r7 = 0;
	r17 = r4->length;
	if( ((unsigned)r7) < ((unsigned)r17) ) goto label$54f52b9_6_43;
	r18 = false;
	goto label$54f52b9_6_46;
	label$54f52b9_6_43:
	r5 = r4->array;
	r9 = ((vdynamic**)(r5 + 1))[r7];
	r18 = (bool)hl_dyn_casti(&r9,&t$_dyn,&t$_bool);
	label$54f52b9_6_46:
	return r18;
}

void flixel_input_FlxPointer_setGlobalScreenPositionUnsafe(flixel__input__FlxPointer r0,double r1,double r2) {
	flixel__math__FlxBasePoint r5;
	flixel__system__scaleModes__BaseScaleMode r6;
	flixel__$FlxG r7;
	double r3, r4, r10;
	int r9;
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r6 = r7->scaleMode;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->scale;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->x;
	r3 = r1 / r4;
	r9 = (int)r3;
	r0->_globalScreenX = r9;
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r6 = r7->scaleMode;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->scale;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->y;
	r4 = r2 / r10;
	r9 = (int)r4;
	r0->_globalScreenY = r9;
	flixel_input_FlxPointer_updatePositions(r0);
	return;
}

vbyte* flixel_input_FlxPointer___string(flixel__input__FlxPointer r0) {
	String r2;
	vbyte *r1;
	r2 = flixel_input_FlxPointer_toString(r0);
	if( r2 == NULL ) hl_null_access();
	r1 = r2->bytes;
	return r1;
}

String flixel_input_FlxPointer_toString(flixel__input__FlxPointer r0) {
	String r7;
	flixel__util__$LabelValuePair r5;
	hl__types__ArrayObj r9;
	hl_type *r11;
	flixel__util__FlxPool_flixel_util_LabelValuePair r4;
	flixel__util__LabelValuePair r3, r6;
	vdynamic *r2, *r8;
	varray *r10;
	int r1;
	r1 = r0->x;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r1;
	r5 = (flixel__util__$LabelValuePair)g$_flixel_util_LabelValuePair;
	r4 = r5->_pool;
	if( r4 == NULL ) hl_null_access();
	r3 = flixel_util_FlxPool_flixel_util_LabelValuePair_get(r4);
	if( r3 == NULL ) hl_null_access();
	r7 = (String)s$x;
	r3->label = r7;
	r3->value = r2;
	r1 = r0->y;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r1;
	r5 = (flixel__util__$LabelValuePair)g$_flixel_util_LabelValuePair;
	r4 = r5->_pool;
	if( r4 == NULL ) hl_null_access();
	r6 = flixel_util_FlxPool_flixel_util_LabelValuePair_get(r4);
	if( r6 == NULL ) hl_null_access();
	r7 = (String)s$y;
	r6->label = r7;
	r6->value = r8;
	r11 = &t$flixel_util_LabelValuePair;
	r1 = 2;
	r10 = hl_alloc_array(r11,r1);
	r1 = 0;
	((flixel__util__LabelValuePair*)(r10 + 1))[r1] = r3;
	r1 = 1;
	((flixel__util__LabelValuePair*)(r10 + 1))[r1] = r6;
	r9 = hl_types_ArrayObj_alloc(r10);
	r7 = flixel_util_FlxStringUtil_getDebugString(r9);
	return r7;
}

void flixel_input_FlxPointer_updatePositions(flixel__input__FlxPointer r0) {
	flixel__input__$FlxPointer r4;
	flixel__math__FlxBasePoint r1;
	flixel__$FlxG r3;
	double r5, r8, r9, r10;
	int r7;
	flixel__FlxCamera r2;
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->camera;
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	r1 = flixel_input_FlxPointer_getScreenPosition(r0,r2,r1);
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->x;
	r7 = (int)r5;
	r0->screenX = r7;
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	if( r1 == NULL ) hl_null_access();
	r8 = r1->y;
	r7 = (int)r8;
	r0->screenY = r7;
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->camera;
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	r1 = flixel_input_FlxPointer_getWorldPosition(r0,r2,r1);
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->x;
	r7 = (int)r9;
	r0->x = r7;
	r4 = (flixel__input__$FlxPointer)g$_flixel_input_FlxPointer;
	r1 = r4->_cachedPoint;
	if( r1 == NULL ) hl_null_access();
	r10 = r1->y;
	r7 = (int)r10;
	r0->y = r7;
	return;
}

void flixel_input_FlxPointer_new(flixel__input__FlxPointer r0) {
	int r1;
	r1 = 0;
	r0->_globalScreenY = r1;
	r1 = 0;
	r0->_globalScreenX = r1;
	r1 = 0;
	r0->screenY = r1;
	r1 = 0;
	r0->screenX = r1;
	r1 = 0;
	r0->y = r1;
	r1 = 0;
	r0->x = r1;
	return;
}

