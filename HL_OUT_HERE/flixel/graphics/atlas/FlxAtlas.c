// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/graphics/atlas/FlxAtlas.h>
extern hl_type t$vrt_c3bf32e;
#include <flixel/math/FlxRect.h>
#include <flixel/util/FlxPool_flixel_math_FlxRect.h>
int flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(flixel__graphics__atlas__FlxAtlas,double);
extern flixel__math__$FlxRect g$_flixel_math_FlxRect;
flixel__math__FlxRect flixel_util_FlxPool_flixel_math_FlxRect_get(flixel__util__FlxPool_flixel_math_FlxRect);
extern hl_type t$flixel_graphics_atlas_FlxNode;
void flixel_graphics_atlas_FlxNode_new(flixel__graphics__atlas__FlxNode,flixel__math__FlxRect,flixel__graphics__atlas__FlxAtlas,bool*,String,bool*);
String flixel_system_FlxAssets_resolveKey(vdynamic*,String);
bool flixel_graphics_atlas_FlxAtlas_hasNodeWithName(flixel__graphics__atlas__FlxAtlas,String);
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
openfl__display__BitmapData flixel_system_FlxAssets_resolveBitmapData(vdynamic*);
flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_insertFirstNodeInRoot(flixel__graphics__atlas__FlxAtlas,openfl__display__BitmapData,String);
flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_expand(flixel__graphics__atlas__FlxAtlas,openfl__display__BitmapData,String);
flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_tryInsert(flixel__graphics__atlas__FlxAtlas,openfl__display__BitmapData,String);
void flixel_graphics_atlas_FlxAtlas_wrapRoot(flixel__graphics__atlas__FlxAtlas);
flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_findNodeToInsert(flixel__graphics__atlas__FlxAtlas,int,int);
bool flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(flixel__graphics__atlas__FlxAtlas,flixel__graphics__atlas__FlxNode,int,int);
flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_divideNode(flixel__graphics__atlas__FlxAtlas,flixel__graphics__atlas__FlxNode,int,int,bool,openfl__display__BitmapData,String,bool*);
#include <_std/Math.h>
#include <openfl/geom/ColorTransform.h>
#include <openfl/geom/Rectangle.h>
#include <openfl/display/DisplayObject.h>
int String___compare(String,vdynamic*);
void flixel_graphics_atlas_FlxAtlas_expandBitmapData(flixel__graphics__atlas__FlxAtlas);
extern flixel__graphics__atlas__$FlxAtlas g$_flixel_graphics_atlas_FlxAtlas;
void openfl_geom_Matrix_identity(openfl__geom__Matrix);
extern $Math g$_Math;
void openfl_geom_Matrix_rotate(openfl__geom__Matrix,double);
void openfl_geom_Matrix_translate(openfl__geom__Matrix,double,double);
extern hl_type t$vrt_f233a05;
void openfl_display_BitmapData_draw(openfl__display__BitmapData,vvirtual*,openfl__geom__Matrix,openfl__geom__ColorTransform,vdynamic*,openfl__geom__Rectangle,bool*);
void openfl_geom_Point_setTo(openfl__geom__Point,double,double);
void openfl_display_BitmapData_copyPixels(openfl__display__BitmapData,openfl__display__BitmapData,openfl__geom__Rectangle,openfl__geom__Point,openfl__display__BitmapData,openfl__geom__Point,bool*);
void flixel_graphics_atlas_FlxAtlas_addNodeToAtlasFrames(flixel__graphics__atlas__FlxAtlas,flixel__graphics__atlas__FlxNode);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
int flixel_graphics_atlas_FlxNode_set_width(flixel__graphics__atlas__FlxNode,int);
int flixel_graphics_atlas_FlxNode_set_height(flixel__graphics__atlas__FlxNode,int);
double Math_max(double,double);
void flixel_graphics_atlas_FlxAtlas_expandRoot(flixel__graphics__atlas__FlxAtlas,double,double,bool,bool*);
extern hl_type t$openfl_display_BitmapData;
void openfl_display_BitmapData_new(openfl__display__BitmapData,int,int,bool*,int*);
openfl__display__BitmapData flixel_util_FlxDestroyUtil_dispose(openfl__display__BitmapData);
openfl__display__BitmapData flixel_graphics_atlas_FlxAtlas_set_bitmapData(flixel__graphics__atlas__FlxAtlas,openfl__display__BitmapData);
#include <flixel/graphics/frames/FlxTileFrames.h>
#include <flixel/system/frontEnds/BitmapFrontEnd.h>
#include <flixel/FlxG.h>
extern flixel__$FlxG g$_flixel_FlxG;
String flixel_system_frontEnds_BitmapFrontEnd_getKeyWithSpacesAndBorders(flixel__system__frontEnds__BitmapFrontEnd,String,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,flixel__math__FlxRect);
flixel__graphics__frames__FlxTileFrames flixel_graphics_atlas_FlxNode_getTileFrames(flixel__graphics__atlas__FlxNode,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint);
openfl__display__BitmapData flixel_util_FlxBitmapDataUtil_addSpacesAndBorders(openfl__display__BitmapData,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,flixel__math__FlxRect);
#include <flixel/graphics/frames/FlxAtlasFrames.h>
flixel__graphics__FlxGraphic flixel_graphics_atlas_FlxAtlas_get_graphic(flixel__graphics__atlas__FlxAtlas);
flixel__graphics__frames__FlxAtlasFrames flixel_graphics_FlxGraphic_get_atlasFrames(flixel__graphics__FlxGraphic);
extern hl_type t$flixel_graphics_frames_FlxAtlasFrames;
void flixel_graphics_frames_FlxAtlasFrames_new(flixel__graphics__frames__FlxAtlasFrames,flixel__graphics__FlxGraphic,flixel__math__FlxBasePoint);
vvirtual* haxe_ds_StringMap_iterator(haxe__ds__StringMap);
extern hl_type t$vrt_ccb1296;
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_7e17e0a;
#include <flixel/util/FlxPool_flixel_math_FlxBasePoint.h>
#include <flixel/math/FlxBasePoint.h>
#include <flixel/graphics/frames/FlxFrame.h>
bool haxe_ds_StringMap_exists(haxe__ds__StringMap,String);
extern flixel__math__$FlxBasePoint g$_flixel_math_FlxBasePoint;
flixel__math__FlxBasePoint flixel_util_FlxPool_flixel_math_FlxBasePoint_get(flixel__util__FlxPool_flixel_math_FlxBasePoint);
#include <flixel/graphics/frames/FlxFramesCollection.h>
flixel__graphics__frames__FlxFrame flixel_graphics_frames_FlxFramesCollection_addAtlasFrame(flixel__graphics__frames__FlxFramesCollection,flixel__math__FlxRect,flixel__math__FlxBasePoint,flixel__math__FlxBasePoint,String,int*,bool*,bool*,double*);
extern hl_type t$hl_types_ArrayObj;
void hl_types_ArrayObj_new(hl__types__ArrayObj);
extern hl_type t$String;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
void flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects(flixel__graphics__atlas__FlxAtlas,hl__types__ArrayObj);
int flixel_graphics_atlas_FlxAtlas_bitmapSorter(flixel__graphics__atlas__FlxAtlas,vvirtual*,vvirtual*);
extern hl_type t$fun_6b79aed;
extern hl_type t$fun_aa7bcde;
void hl_types_ArrayObj_sort(hl__types__ArrayObj,vclosure*);
#include <flixel/FlxState.h>
int flixel_graphics_FlxGraphic_get_useCount(flixel__graphics__FlxGraphic);
void flixel_graphics_atlas_FlxAtlas_destroy(flixel__graphics__atlas__FlxAtlas);
#include <flixel/util/_FlxSignal/FlxSignal1.h>
#include <flixel/system/frontEnds/SignalFrontEnd.h>
void flixel_graphics_atlas_FlxAtlas_deleteSubtree(flixel__graphics__atlas__FlxAtlas,flixel__graphics__atlas__FlxNode);
void flixel_system_frontEnds_BitmapFrontEnd_removeByKey(flixel__system__frontEnds__BitmapFrontEnd,String);
extern hl_type t$fun_050deb7;
#include <flixel/util/_FlxSignal/FlxBaseSignal.h>
void flixel_util__FlxSignal_FlxBaseSignal_remove(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);
extern hl_type t$haxe_ds_StringMap;
void haxe_ds_StringMap_new(haxe__ds__StringMap);
extern String s$68b329d;
String String___add__(String,String);
extern String s$format_RGBA8888_;
extern String s$filter_Linear_Linear_;
extern String s$repeat_none_;
extern String s$_rotate_;
String Std_string(vdynamic*);
extern String s$_xy_;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
extern String s$fc763cb;
extern String s$53fb549;
extern String s$orig_;
extern String s$_offset_0_0_;
extern String s$_index_1_;
vdynamic* hl_types_ArrayObj_pop(hl__types__ArrayObj);
openfl__display__BitmapData flixel_graphics_FlxGraphic_set_bitmap(flixel__graphics__FlxGraphic,openfl__display__BitmapData);
flixel__graphics__FlxGraphic flixel_system_frontEnds_BitmapFrontEnd_add(flixel__system__frontEnds__BitmapFrontEnd,vdynamic*,bool*,String);
int flixel_graphics_atlas_FlxAtlas_get_width(flixel__graphics__atlas__FlxAtlas);
int flixel_graphics_atlas_FlxAtlas_set_width(flixel__graphics__atlas__FlxAtlas,int);
int flixel_graphics_atlas_FlxAtlas_get_height(flixel__graphics__atlas__FlxAtlas);
int flixel_graphics_atlas_FlxAtlas_set_height(flixel__graphics__atlas__FlxAtlas,int);
void flixel_util__FlxSignal_FlxBaseSignal_add(flixel__util___FlxSignal__FlxBaseSignal,vdynamic*);

int flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects__$1(vclosure* r0,vdynamic* r1,vdynamic* r2) {
	vvirtual *r3, *r4;
	int r5;
	r3 = hl_to_virtual(&t$vrt_c3bf32e,(vdynamic*)r1);
	r4 = hl_to_virtual(&t$vrt_c3bf32e,(vdynamic*)r2);
	r5 = r0->hasValue ? ((int (*)(vdynamic*,vvirtual*,vvirtual*))r0->fun)((vdynamic*)r0->value,r3,r4) : ((int (*)(vvirtual*,vvirtual*))r0->fun)(r3,r4);
	return r5;
}

void flixel_graphics_atlas_FlxAtlas_initRoot(flixel__graphics__atlas__FlxAtlas r0) {
	String r12;
	bool *r11, *r13;
	flixel__util__FlxPool_flixel_math_FlxRect r8;
	bool r4;
	flixel__graphics__atlas__FlxNode r10;
	flixel__math__FlxRect r7;
	double r6;
	flixel__math__$FlxRect r9;
	int r1, r3, r5;
	r1 = r0->minWidth;
	r3 = r0->minHeight;
	r4 = r0->powerOfTwo;
	if( !r4 ) goto label$54c6871_2_10;
	r6 = (double)r1;
	r5 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r6);
	r1 = r5;
	r6 = (double)r3;
	r5 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r6);
	r3 = r5;
	label$54c6871_2_10:
	r9 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r8 = r9->_pool;
	if( r8 == NULL ) hl_null_access();
	r7 = flixel_util_FlxPool_flixel_math_FlxRect_get(r8);
	if( r7 == NULL ) hl_null_access();
	r6 = 0.;
	r7->x = r6;
	r6 = 0.;
	r7->y = r6;
	r6 = (double)r1;
	r7->width = r6;
	r6 = (double)r3;
	r7->height = r6;
	r4 = false;
	r7->_inPool = r4;
	r10 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	flixel_graphics_atlas_FlxNode_new(r10,r7,r0,r11,r12,r13);
	r0->root = r10;
	return;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_addNode(flixel__graphics__atlas__FlxAtlas r0,vdynamic* r1,String r2) {
	String r3;
	haxe__ds__StringMap r8;
	bool r7;
	flixel__graphics__atlas__FlxNode r6, r10;
	vdynamic *r4;
	openfl__display__BitmapData r9;
	r3 = flixel_system_FlxAssets_resolveKey(r1,r2);
	if( r3 ) goto label$54c6871_3_4;
	r6 = NULL;
	return r6;
	label$54c6871_3_4:
	r7 = flixel_graphics_atlas_FlxAtlas_hasNodeWithName(r0,r3);
	if( !r7 ) goto label$54c6871_3_11;
	r8 = r0->nodes;
	if( r8 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r8,r3);
	r6 = (flixel__graphics__atlas__FlxNode)r4;
	return r6;
	label$54c6871_3_11:
	r9 = flixel_system_FlxAssets_resolveBitmapData(r1);
	if( r9 ) goto label$54c6871_3_15;
	r6 = NULL;
	return r6;
	label$54c6871_3_15:
	r6 = r0->root;
	if( r6 == NULL ) hl_null_access();
	r6 = r6->left;
	if( r6 ) goto label$54c6871_3_21;
	r6 = flixel_graphics_atlas_FlxAtlas_insertFirstNodeInRoot(r0,r9,r3);
	return r6;
	label$54c6871_3_21:
	r6 = r0->root;
	if( r6 == NULL ) hl_null_access();
	r6 = r6->right;
	if( r6 ) goto label$54c6871_3_27;
	r6 = flixel_graphics_atlas_FlxAtlas_expand(r0,r9,r3);
	return r6;
	label$54c6871_3_27:
	r6 = flixel_graphics_atlas_FlxAtlas_tryInsert(r0,r9,r3);
	if( !r6 ) goto label$54c6871_3_30;
	return r6;
	label$54c6871_3_30:
	flixel_graphics_atlas_FlxAtlas_wrapRoot(r0);
	r10 = flixel_graphics_atlas_FlxAtlas_expand(r0,r9,r3);
	return r10;
}

void flixel_graphics_atlas_FlxAtlas_wrapRoot(flixel__graphics__atlas__FlxAtlas r0) {
	String r15;
	bool *r14, *r16;
	flixel__util__FlxPool_flixel_math_FlxRect r10;
	bool r13;
	flixel__graphics__atlas__FlxNode r1, r5;
	flixel__math__FlxRect r4;
	double r3, r7, r8, r9, r12;
	flixel__math__$FlxRect r11;
	int r6;
	r1 = r0->root;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->rect;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r6 = (int)r3;
	r7 = (double)r6;
	r4 = r1->rect;
	if( r4 == NULL ) hl_null_access();
	r8 = r4->height;
	r6 = (int)r8;
	r9 = (double)r6;
	r11 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r10 = r11->_pool;
	if( r10 == NULL ) hl_null_access();
	r4 = flixel_util_FlxPool_flixel_math_FlxRect_get(r10);
	if( r4 == NULL ) hl_null_access();
	r12 = 0.;
	r4->x = r12;
	r12 = 0.;
	r4->y = r12;
	r4->width = r7;
	r4->height = r9;
	r13 = false;
	r4->_inPool = r13;
	r5 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	flixel_graphics_atlas_FlxNode_new(r5,r4,r0,r14,r15,r16);
	r0->root = r5;
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r5->left = r1;
	return;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_tryInsert(flixel__graphics__atlas__FlxAtlas r0,openfl__display__BitmapData r1,String r2) {
	bool *r21;
	bool r6, r9, r17, r20;
	flixel__graphics__atlas__FlxNode r7, r10;
	flixel__math__FlxRect r12;
	double r11, r13, r15, r16;
	int r3, r4, r5, r8, r14, r18, r19;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->width;
	r4 = r0->border;
	r3 = r3 + r4;
	r4 = r1->height;
	r5 = r0->border;
	r4 = r4 + r5;
	r6 = false;
	r7 = flixel_graphics_atlas_FlxAtlas_findNodeToInsert(r0,r3,r4);
	r9 = r0->allowRotation;
	if( !r9 ) goto label$54c6871_5_50;
	r10 = flixel_graphics_atlas_FlxAtlas_findNodeToInsert(r0,r4,r3);
	if( !r10 ) goto label$54c6871_5_50;
	if( r10 == NULL ) hl_null_access();
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->width;
	r5 = (int)r11;
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r13 = r12->height;
	r14 = (int)r13;
	r8 = r5 * r14;
	if( !r7 ) goto label$54c6871_5_42;
	if( !r7 ) goto label$54c6871_5_40;
	if( r7 == NULL ) hl_null_access();
	r12 = r7->rect;
	if( r12 == NULL ) hl_null_access();
	r15 = r12->width;
	r14 = (int)r15;
	r12 = r7->rect;
	if( r12 == NULL ) hl_null_access();
	r16 = r12->height;
	r19 = (int)r16;
	r18 = r14 * r19;
	if( r18 > r8 ) goto label$54c6871_5_38;
	r17 = false;
	goto label$54c6871_5_39;
	label$54c6871_5_38:
	r17 = true;
	label$54c6871_5_39:
	goto label$54c6871_5_41;
	label$54c6871_5_40:
	r17 = false;
	label$54c6871_5_41:
	goto label$54c6871_5_43;
	label$54c6871_5_42:
	r17 = true;
	label$54c6871_5_43:
	if( !r17 ) goto label$54c6871_5_50;
	r7 = r10;
	r17 = true;
	r6 = r17;
	r14 = r3;
	r3 = r4;
	r4 = r14;
	label$54c6871_5_50:
	if( !r7 ) goto label$54c6871_5_56;
	r9 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r7,r3,r4);
	r20 = r6;
	r21 = &r20;
	r10 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r7,r3,r4,r9,r1,r2,r21);
	return r10;
	label$54c6871_5_56:
	r10 = NULL;
	return r10;
}

bool flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(flixel__graphics__atlas__FlxAtlas r0,flixel__graphics__atlas__FlxNode r1,int r2,int r3) {
	bool r9;
	flixel__math__FlxRect r5;
	double r4, r7;
	int r6, r8;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->rect;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->width;
	r6 = (int)r4;
	r6 = r6 - r2;
	r5 = r1->rect;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->height;
	r8 = (int)r7;
	r8 = r8 - r3;
	if( r6 > r8 ) goto label$54c6871_6_14;
	r9 = false;
	goto label$54c6871_6_15;
	label$54c6871_6_14:
	r9 = true;
	label$54c6871_6_15:
	return r9;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_divideNode(flixel__graphics__atlas__FlxAtlas r0,flixel__graphics__atlas__FlxNode r1,int r2,int r3,bool r4,openfl__display__BitmapData r5,String r6,bool* r7) {
	bool *r31;
	flixel__util__FlxPool_flixel_math_FlxRect r27;
	String r15, r16;
	haxe__ds__StringMap r63;
	vvirtual *r55;
	openfl__geom__Rectangle r58;
	bool r8, r14, r17, r43, r47, r48, r49;
	flixel__graphics__atlas__FlxNode r10, r11, r12, r13, r20;
	openfl__geom__ColorTransform r56;
	$Math r53;
	openfl__geom__Matrix r51, r54;
	flixel__math__FlxRect r19, r30, r42;
	double r18, r22, r23, r24, r25, r26, r29, r32, r34, r35, r36, r37, r38, r39, r40, r41, r44, r45, r46;
	vdynamic *r57;
	openfl__geom__Point r59, r60, r62;
	flixel__graphics__atlas__$FlxAtlas r52;
	openfl__display__BitmapData r50, r61;
	flixel__math__$FlxRect r28;
	int r21, r33;
	if( r7 ) goto label$54c6871_7_3;
	r8 = false;
	goto label$54c6871_7_4;
	label$54c6871_7_3:
	r8 = *r7;
	label$54c6871_7_4:
	if( !r1 ) goto label$54c6871_7_403;
	r10 = NULL;
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	r16 = NULL;
	if( r6 != r16 && (!r6 || !r16 || String___compare(r6,(vdynamic*)r16) != 0) ) goto label$54c6871_7_13;
	r14 = false;
	goto label$54c6871_7_14;
	label$54c6871_7_13:
	r14 = true;
	label$54c6871_7_14:
	if( !r4 ) goto label$54c6871_7_168;
	if( r1 == NULL ) hl_null_access();
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->x;
	r21 = (int)r18;
	r22 = (double)r21;
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r23 = r19->y;
	r21 = (int)r23;
	r24 = (double)r21;
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r25 = r19->height;
	r21 = (int)r25;
	r26 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r19 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r19 == NULL ) hl_null_access();
	r19->x = r22;
	r19->y = r24;
	r29 = (double)r2;
	r19->width = r29;
	r19->height = r26;
	r17 = false;
	r19->_inPool = r17;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r19,r0,r7,r15,r31);
	r10 = r20;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->width;
	r21 = (int)r29;
	r21 = r21 - r2;
	r33 = 0;
	if( r33 >= r21 ) goto label$54c6871_7_95;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r21 = (int)r32;
	r21 = r21 + r2;
	r34 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r35 = r30->y;
	r21 = (int)r35;
	r36 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r37 = r30->width;
	r21 = (int)r37;
	r21 = r21 - r2;
	r38 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r39 = r30->height;
	r21 = (int)r39;
	r40 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r30 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r30 == NULL ) hl_null_access();
	r30->x = r34;
	r30->y = r36;
	r30->width = r38;
	r30->height = r40;
	r17 = false;
	r30->_inPool = r17;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r30,r0,r7,r15,r31);
	r11 = r20;
	label$54c6871_7_95:
	r30 = r10->rect;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r21 = (int)r32;
	r34 = (double)r21;
	r30 = r10->rect;
	if( r30 == NULL ) hl_null_access();
	r35 = r30->y;
	r21 = (int)r35;
	r36 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r30 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r30 == NULL ) hl_null_access();
	r30->x = r34;
	r30->y = r36;
	r37 = (double)r2;
	r30->width = r37;
	r37 = (double)r3;
	r30->height = r37;
	r17 = false;
	r30->_inPool = r17;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r17 = r14;
	r7 = &r17;
	r43 = r8;
	r31 = &r43;
	flixel_graphics_atlas_FlxNode_new(r20,r30,r0,r7,r6,r31);
	r12 = r20;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r37 = r42->height;
	r21 = (int)r37;
	r21 = r21 - r3;
	r33 = 0;
	if( r33 >= r21 ) goto label$54c6871_7_167;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r38 = r42->x;
	r21 = (int)r38;
	r39 = (double)r21;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r40 = r42->y;
	r21 = (int)r40;
	r21 = r21 + r3;
	r41 = (double)r21;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r44 = r42->height;
	r21 = (int)r44;
	r21 = r21 - r3;
	r45 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r42 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r42 == NULL ) hl_null_access();
	r42->x = r39;
	r42->y = r41;
	r46 = (double)r2;
	r42->width = r46;
	r42->height = r45;
	r47 = false;
	r42->_inPool = r47;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r42,r0,r7,r15,r31);
	r13 = r20;
	label$54c6871_7_167:
	goto label$54c6871_7_320;
	label$54c6871_7_168:
	if( r1 == NULL ) hl_null_access();
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->x;
	r21 = (int)r18;
	r22 = (double)r21;
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r23 = r19->y;
	r21 = (int)r23;
	r24 = (double)r21;
	r19 = r1->rect;
	if( r19 == NULL ) hl_null_access();
	r25 = r19->width;
	r21 = (int)r25;
	r26 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r19 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r19 == NULL ) hl_null_access();
	r19->x = r22;
	r19->y = r24;
	r19->width = r26;
	r29 = (double)r3;
	r19->height = r29;
	r47 = false;
	r19->_inPool = r47;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r19,r0,r7,r15,r31);
	r10 = r20;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r29 = r30->height;
	r21 = (int)r29;
	r21 = r21 - r3;
	r33 = 0;
	if( r33 >= r21 ) goto label$54c6871_7_248;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r21 = (int)r32;
	r34 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r35 = r30->y;
	r21 = (int)r35;
	r21 = r21 + r3;
	r36 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r37 = r30->width;
	r21 = (int)r37;
	r38 = (double)r21;
	r30 = r1->rect;
	if( r30 == NULL ) hl_null_access();
	r39 = r30->height;
	r21 = (int)r39;
	r21 = r21 - r3;
	r40 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r30 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r30 == NULL ) hl_null_access();
	r30->x = r34;
	r30->y = r36;
	r30->width = r38;
	r30->height = r40;
	r47 = false;
	r30->_inPool = r47;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r30,r0,r7,r15,r31);
	r11 = r20;
	label$54c6871_7_248:
	r30 = r10->rect;
	if( r30 == NULL ) hl_null_access();
	r32 = r30->x;
	r21 = (int)r32;
	r34 = (double)r21;
	r30 = r10->rect;
	if( r30 == NULL ) hl_null_access();
	r35 = r30->y;
	r21 = (int)r35;
	r36 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r30 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r30 == NULL ) hl_null_access();
	r30->x = r34;
	r30->y = r36;
	r37 = (double)r2;
	r30->width = r37;
	r37 = (double)r3;
	r30->height = r37;
	r47 = false;
	r30->_inPool = r47;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r47 = r14;
	r7 = &r47;
	r48 = r8;
	r31 = &r48;
	flixel_graphics_atlas_FlxNode_new(r20,r30,r0,r7,r6,r31);
	r12 = r20;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r37 = r42->width;
	r21 = (int)r37;
	r21 = r21 - r2;
	r33 = 0;
	if( r33 >= r21 ) goto label$54c6871_7_320;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r38 = r42->x;
	r21 = (int)r38;
	r21 = r21 + r2;
	r39 = (double)r21;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r40 = r42->y;
	r21 = (int)r40;
	r41 = (double)r21;
	r42 = r10->rect;
	if( r42 == NULL ) hl_null_access();
	r44 = r42->width;
	r21 = (int)r44;
	r21 = r21 - r2;
	r45 = (double)r21;
	r28 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r27 = r28->_pool;
	if( r27 == NULL ) hl_null_access();
	r42 = flixel_util_FlxPool_flixel_math_FlxRect_get(r27);
	if( r42 == NULL ) hl_null_access();
	r42->x = r39;
	r42->y = r41;
	r42->width = r45;
	r46 = (double)r3;
	r42->height = r46;
	r49 = false;
	r42->_inPool = r49;
	r20 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r7 = NULL;
	r15 = NULL;
	r31 = NULL;
	flixel_graphics_atlas_FlxNode_new(r20,r42,r0,r7,r15,r31);
	r13 = r20;
	label$54c6871_7_320:
	r10->left = r12;
	r10->right = r13;
	r1->left = r10;
	r1->right = r11;
	if( !r6 ) goto label$54c6871_7_402;
	if( !r5 ) goto label$54c6871_7_402;
	flixel_graphics_atlas_FlxAtlas_expandBitmapData(r0);
	if( !r8 ) goto label$54c6871_7_374;
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r51 = r52->matrix;
	if( r51 == NULL ) hl_null_access();
	openfl_geom_Matrix_identity(r51);
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r51 = r52->matrix;
	if( r51 == NULL ) hl_null_access();
	r53 = ($Math)g$_Math;
	r18 = r53->PI;
	r22 = 2.;
	r18 = r18 / r22;
	openfl_geom_Matrix_rotate(r51,r18);
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r51 = r52->matrix;
	r19 = r12->rect;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->x;
	if( r5 == NULL ) hl_null_access();
	r21 = r5->height;
	r33 = (int)r18;
	r21 = r21 + r33;
	r19 = r12->rect;
	if( r19 == NULL ) hl_null_access();
	r22 = r19->y;
	if( r51 == NULL ) hl_null_access();
	r23 = (double)r21;
	r33 = (int)r22;
	r24 = (double)r33;
	openfl_geom_Matrix_translate(r51,r23,r24);
	r50 = r0->bitmapData;
	if( r50 == NULL ) hl_null_access();
	if( r5 ) goto label$54c6871_7_362;
	r55 = NULL;
	goto label$54c6871_7_366;
	label$54c6871_7_362:
	r55 = r5->f$40;
	if( r55 ) goto label$54c6871_7_366;
	r55 = hl_to_virtual(&t$vrt_f233a05,(vdynamic*)r5);
	r5->f$40 = r55;
	label$54c6871_7_366:
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r54 = r52->matrix;
	r56 = NULL;
	r57 = NULL;
	r58 = NULL;
	r7 = NULL;
	openfl_display_BitmapData_draw(r50,r55,r54,r56,r57,r58,r7);
	goto label$54c6871_7_398;
	label$54c6871_7_374:
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r59 = r52->point;
	r19 = r12->rect;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->x;
	r21 = (int)r18;
	r19 = r12->rect;
	if( r19 == NULL ) hl_null_access();
	r22 = r19->y;
	if( r59 == NULL ) hl_null_access();
	r23 = (double)r21;
	r33 = (int)r22;
	r24 = (double)r33;
	openfl_geom_Point_setTo(r59,r23,r24);
	r50 = r0->bitmapData;
	if( r50 == NULL ) hl_null_access();
	if( r5 == NULL ) hl_null_access();
	r58 = r5->rect;
	r52 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r60 = r52->point;
	r61 = NULL;
	r62 = NULL;
	r7 = NULL;
	openfl_display_BitmapData_copyPixels(r50,r5,r58,r60,r61,r62,r7);
	label$54c6871_7_398:
	flixel_graphics_atlas_FlxAtlas_addNodeToAtlasFrames(r0,r12);
	r63 = r0->nodes;
	if( r63 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r63,r6,((vdynamic*)r12));
	label$54c6871_7_402:
	return r12;
	label$54c6871_7_403:
	r10 = NULL;
	return r10;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_insertFirstNodeInRoot(flixel__graphics__atlas__FlxAtlas r0,openfl__display__BitmapData r1,String r2) {
	bool *r12;
	bool r8;
	flixel__graphics__atlas__FlxNode r3;
	double r10;
	int r4, r5, r6, r7, r9, r11;
	r3 = r0->root;
	if( r3 == NULL ) hl_null_access();
	r3 = r3->left;
	if( r3 ) goto label$54c6871_8_61;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->width;
	r5 = r0->border;
	r4 = r4 + r5;
	r5 = r1->height;
	r6 = r0->border;
	r5 = r5 + r6;
	r6 = r4;
	r7 = r5;
	r8 = r0->powerOfTwo;
	if( !r8 ) goto label$54c6871_8_21;
	r10 = (double)r4;
	r9 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r10);
	r6 = r9;
	r10 = (double)r5;
	r9 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r10);
	r7 = r9;
	label$54c6871_8_21:
	r9 = r0->minWidth;
	if( r6 >= r9 ) goto label$54c6871_8_25;
	r9 = r0->minWidth;
	r6 = r9;
	label$54c6871_8_25:
	r9 = r0->minHeight;
	if( r7 >= r9 ) goto label$54c6871_8_29;
	r9 = r0->minHeight;
	r7 = r9;
	label$54c6871_8_29:
	r8 = r0->powerOfTwo;
	if( !r8 ) goto label$54c6871_8_37;
	r10 = (double)r6;
	r9 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r10);
	r6 = r9;
	r10 = (double)r7;
	r9 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r10);
	r7 = r9;
	label$54c6871_8_37:
	r9 = r0->maxWidth;
	r11 = 0;
	if( r11 >= r9 ) goto label$54c6871_8_42;
	r11 = r0->maxWidth;
	if( r11 < r6 ) goto label$54c6871_8_47;
	label$54c6871_8_42:
	r9 = r0->maxHeight;
	r11 = 0;
	if( r11 >= r9 ) goto label$54c6871_8_49;
	r11 = r0->maxHeight;
	if( r11 >= r7 ) goto label$54c6871_8_49;
	label$54c6871_8_47:
	r3 = NULL;
	return r3;
	label$54c6871_8_49:
	r3 = r0->root;
	if( r3 == NULL ) hl_null_access();
	r9 = flixel_graphics_atlas_FlxNode_set_width(r3,r6);
	r3 = r0->root;
	if( r3 == NULL ) hl_null_access();
	r9 = flixel_graphics_atlas_FlxNode_set_height(r3,r7);
	r3 = r0->root;
	r8 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r3,r4,r5);
	r3 = r0->root;
	r12 = NULL;
	r3 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r3,r4,r5,r8,r1,r2,r12);
	return r3;
	label$54c6871_8_61:
	r3 = NULL;
	return r3;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_expand(flixel__graphics__atlas__FlxAtlas r0,openfl__display__BitmapData r1,String r2) {
	bool *r46;
	bool r23, r31, r32, r33, r34, r38, r39, r40, r47, r48, r49, r50;
	flixel__graphics__atlas__FlxNode r4, r42, r45;
	flixel__math__FlxRect r9;
	double r8, r10, r12, r13, r14, r16, r18, r25, r27, r28, r29, r30;
	int r5, r6, r7, r11, r15, r17, r19, r20, r21, r22, r24, r26, r35, r36, r37, r41, r43, r44;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r4 = r4->right;
	if( r4 ) goto label$54c6871_9_294;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->width;
	r6 = r0->border;
	r5 = r5 + r6;
	r6 = r1->height;
	r7 = r0->border;
	r6 = r6 + r7;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->width;
	r7 = (int)r8;
	r7 = r7 + r5;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r10 = r9->height;
	r11 = (int)r10;
	r12 = (double)r11;
	r13 = (double)r6;
	r12 = Math_max(r12,r13);
	r11 = (int)r12;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r13 = r9->width;
	r15 = (int)r13;
	r14 = (double)r15;
	r16 = (double)r5;
	r14 = Math_max(r14,r16);
	r15 = (int)r14;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r16 = r9->height;
	r17 = (int)r16;
	r17 = r17 + r6;
	r19 = r7;
	r20 = r11;
	r21 = r15;
	r22 = r17;
	r23 = r0->allowRotation;
	if( !r23 ) goto label$54c6871_9_89;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r18 = r9->width;
	r24 = (int)r18;
	r24 = r24 + r6;
	r19 = r24;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r25 = r9->height;
	r24 = (int)r25;
	r27 = (double)r24;
	r28 = (double)r5;
	r27 = Math_max(r27,r28);
	r24 = (int)r27;
	r20 = r24;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r28 = r9->width;
	r24 = (int)r28;
	r29 = (double)r24;
	r30 = (double)r6;
	r29 = Math_max(r29,r30);
	r24 = (int)r29;
	r21 = r24;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->rect;
	if( r9 == NULL ) hl_null_access();
	r30 = r9->height;
	r24 = (int)r30;
	r24 = r24 + r5;
	r22 = r24;
	label$54c6871_9_89:
	r23 = r0->powerOfTwo;
	if( !r23 ) goto label$54c6871_9_121;
	r18 = (double)r7;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r7 = r24;
	r19 = r24;
	r18 = (double)r11;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r11 = r24;
	r20 = r24;
	r18 = (double)r15;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r15 = r24;
	r21 = r24;
	r18 = (double)r17;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r17 = r24;
	r22 = r24;
	r23 = r0->allowRotation;
	if( !r23 ) goto label$54c6871_9_121;
	r18 = (double)r19;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r19 = r24;
	r18 = (double)r20;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r20 = r24;
	r18 = (double)r21;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r21 = r24;
	r18 = (double)r22;
	r24 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r18);
	r22 = r24;
	label$54c6871_9_121:
	r23 = true;
	r31 = true;
	r32 = r0->allowRotation;
	r33 = r0->allowRotation;
	r24 = r0->maxWidth;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_130;
	r26 = r0->maxWidth;
	if( r26 < r7 ) goto label$54c6871_9_135;
	label$54c6871_9_130:
	r24 = r0->maxHeight;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_137;
	r26 = r0->maxHeight;
	if( r26 >= r11 ) goto label$54c6871_9_137;
	label$54c6871_9_135:
	r34 = false;
	r23 = r34;
	label$54c6871_9_137:
	r24 = r0->maxWidth;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_142;
	r26 = r0->maxWidth;
	if( r26 < r15 ) goto label$54c6871_9_147;
	label$54c6871_9_142:
	r24 = r0->maxHeight;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_149;
	r26 = r0->maxHeight;
	if( r26 >= r17 ) goto label$54c6871_9_149;
	label$54c6871_9_147:
	r34 = false;
	r31 = r34;
	label$54c6871_9_149:
	r24 = r0->maxWidth;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_154;
	r26 = r0->maxWidth;
	if( r26 < r19 ) goto label$54c6871_9_159;
	label$54c6871_9_154:
	r24 = r0->maxHeight;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_161;
	r26 = r0->maxHeight;
	if( r26 >= r20 ) goto label$54c6871_9_161;
	label$54c6871_9_159:
	r34 = false;
	r32 = r34;
	label$54c6871_9_161:
	r24 = r0->maxWidth;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_166;
	r26 = r0->maxWidth;
	if( r26 < r21 ) goto label$54c6871_9_171;
	label$54c6871_9_166:
	r24 = r0->maxHeight;
	r26 = 0;
	if( r26 >= r24 ) goto label$54c6871_9_173;
	r26 = r0->maxHeight;
	if( r26 >= r22 ) goto label$54c6871_9_173;
	label$54c6871_9_171:
	r34 = false;
	r33 = r34;
	label$54c6871_9_173:
	if( r23 ) goto label$54c6871_9_179;
	if( r31 ) goto label$54c6871_9_179;
	if( r32 ) goto label$54c6871_9_179;
	if( r33 ) goto label$54c6871_9_179;
	r4 = NULL;
	return r4;
	label$54c6871_9_179:
	r24 = r7 * r11;
	r26 = r15 * r17;
	r35 = r19 * r20;
	r36 = r21 * r22;
	r34 = false;
	r38 = false;
	r39 = false;
	if( !r23 ) goto label$54c6871_9_189;
	if( !r32 ) goto label$54c6871_9_189;
	if( r35 < r24 ) goto label$54c6871_9_191;
	label$54c6871_9_189:
	if( r23 ) goto label$54c6871_9_198;
	if( !r32 ) goto label$54c6871_9_198;
	label$54c6871_9_191:
	r24 = r36;
	r7 = r19;
	r11 = r20;
	r40 = true;
	r23 = r40;
	r40 = true;
	r34 = r40;
	label$54c6871_9_198:
	if( !r31 ) goto label$54c6871_9_201;
	if( !r33 ) goto label$54c6871_9_201;
	if( r36 < r26 ) goto label$54c6871_9_203;
	label$54c6871_9_201:
	if( r31 ) goto label$54c6871_9_210;
	if( !r33 ) goto label$54c6871_9_210;
	label$54c6871_9_203:
	r26 = r36;
	r15 = r21;
	r17 = r22;
	r40 = true;
	r31 = r40;
	r40 = true;
	r38 = r40;
	label$54c6871_9_210:
	if( r23 ) goto label$54c6871_9_216;
	if( !r31 ) goto label$54c6871_9_216;
	r41 = 1;
	r37 = r26 + r41;
	r24 = r37;
	goto label$54c6871_9_221;
	label$54c6871_9_216:
	if( !r23 ) goto label$54c6871_9_221;
	if( r31 ) goto label$54c6871_9_221;
	r41 = 1;
	r37 = r24 + r41;
	r26 = r37;
	label$54c6871_9_221:
	r4 = NULL;
	r42 = r0->root;
	r37 = r5;
	r41 = r6;
	if( r26 < r24 ) goto label$54c6871_9_260;
	if( !r34 ) goto label$54c6871_9_229;
	r37 = r6;
	r41 = r5;
	label$54c6871_9_229:
	if( r42 == NULL ) hl_null_access();
	r9 = r42->rect;
	if( r9 == NULL ) hl_null_access();
	r18 = r9->width;
	r43 = (int)r18;
	r43 = r43 + r37;
	r9 = r42->rect;
	if( r9 == NULL ) hl_null_access();
	r25 = r9->height;
	r27 = (double)r43;
	r44 = (int)r25;
	r28 = (double)r44;
	r29 = (double)r41;
	r28 = Math_max(r28,r29);
	r40 = true;
	r46 = NULL;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r27,r28,r40,r46);
	r45 = r0->root;
	if( r45 == NULL ) hl_null_access();
	r45 = r45->right;
	r40 = true;
	r47 = r34;
	r46 = &r47;
	r45 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r45,r37,r41,r40,r1,r2,r46);
	r27 = (double)r7;
	r28 = (double)r11;
	r40 = false;
	r48 = true;
	r46 = &r48;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r27,r28,r40,r46);
	goto label$54c6871_9_293;
	label$54c6871_9_260:
	if( !r38 ) goto label$54c6871_9_263;
	r37 = r6;
	r41 = r5;
	label$54c6871_9_263:
	if( r42 == NULL ) hl_null_access();
	r9 = r42->rect;
	if( r9 == NULL ) hl_null_access();
	r18 = r9->width;
	r43 = (int)r18;
	r25 = (double)r43;
	r27 = (double)r37;
	r25 = Math_max(r25,r27);
	r9 = r42->rect;
	if( r9 == NULL ) hl_null_access();
	r27 = r9->height;
	r43 = (int)r27;
	r43 = r43 + r41;
	r29 = (double)r43;
	r40 = false;
	r46 = NULL;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r25,r29,r40,r46);
	r45 = r0->root;
	if( r45 == NULL ) hl_null_access();
	r45 = r45->right;
	r40 = true;
	r49 = r38;
	r46 = &r49;
	r45 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r45,r37,r41,r40,r1,r2,r46);
	r28 = (double)r15;
	r29 = (double)r17;
	r40 = false;
	r50 = true;
	r46 = &r50;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r28,r29,r40,r46);
	label$54c6871_9_293:
	return r45;
	label$54c6871_9_294:
	r4 = NULL;
	return r4;
}

void flixel_graphics_atlas_FlxAtlas_expandRoot(flixel__graphics__atlas__FlxAtlas r0,double r1,double r2,bool r3,bool* r4) {
	bool *r20;
	String r19;
	flixel__util__FlxPool_flixel_math_FlxRect r15;
	bool r5, r13;
	flixel__graphics__atlas__FlxNode r9, r18, r21;
	flixel__math__FlxRect r8, r17;
	double r7, r10, r12, r14;
	openfl__display__BitmapData r23;
	flixel__math__$FlxRect r16;
	int r11, r22;
	if( r4 ) goto label$54c6871_10_3;
	r5 = false;
	goto label$54c6871_10_4;
	label$54c6871_10_3:
	r5 = *r4;
	label$54c6871_10_4:
	r9 = r0->root;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->rect;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	r11 = (int)r7;
	r12 = (double)r11;
	if( r12 < r1 ) goto label$54c6871_10_24;
	r9 = r0->root;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->rect;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->height;
	r11 = (int)r10;
	r14 = (double)r11;
	if( r2 > r14 ) goto label$54c6871_10_22;
	r13 = false;
	goto label$54c6871_10_23;
	label$54c6871_10_22:
	r13 = true;
	label$54c6871_10_23:
	goto label$54c6871_10_25;
	label$54c6871_10_24:
	r13 = true;
	label$54c6871_10_25:
	if( !r13 ) goto label$54c6871_10_78;
	r9 = r0->root;
	r16 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r15 = r16->_pool;
	if( r15 == NULL ) hl_null_access();
	r8 = flixel_util_FlxPool_flixel_math_FlxRect_get(r15);
	if( r8 == NULL ) hl_null_access();
	r10 = 0.;
	r8->x = r10;
	r10 = 0.;
	r8->y = r10;
	r8->width = r1;
	r8->height = r2;
	r13 = false;
	r8->_inPool = r13;
	r18 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r4 = NULL;
	r19 = NULL;
	r20 = NULL;
	flixel_graphics_atlas_FlxNode_new(r18,r8,r0,r4,r19,r20);
	r0->root = r18;
	if( !r5 ) goto label$54c6871_10_59;
	r18 = r0->root;
	if( r9 == NULL ) hl_null_access();
	r17 = r9->rect;
	if( r17 == NULL ) hl_null_access();
	r10 = r17->width;
	r11 = (int)r10;
	r17 = r9->rect;
	if( r17 == NULL ) hl_null_access();
	r12 = r17->height;
	r22 = (int)r12;
	r13 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r18,r11,r22);
	r3 = r13;
	label$54c6871_10_59:
	r18 = r0->root;
	if( r9 == NULL ) hl_null_access();
	r17 = r9->rect;
	if( r17 == NULL ) hl_null_access();
	r10 = r17->width;
	r11 = (int)r10;
	r17 = r9->rect;
	if( r17 == NULL ) hl_null_access();
	r12 = r17->height;
	r22 = (int)r12;
	r23 = NULL;
	r19 = NULL;
	r4 = NULL;
	r21 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r18,r11,r22,r3,r23,r19,r4);
	r21 = r0->root;
	if( r21 == NULL ) hl_null_access();
	r21 = r21->left;
	if( r21 == NULL ) hl_null_access();
	r21->left = r9;
	label$54c6871_10_78:
	return;
}

void flixel_graphics_atlas_FlxAtlas_expandBitmapData(flixel__graphics__atlas__FlxAtlas r0) {
	bool *r13;
	openfl__geom__Rectangle r21;
	bool r6, r10;
	flixel__graphics__atlas__FlxNode r5;
	flixel__math__FlxRect r4;
	double r3, r9, r12, r19;
	int *r15;
	flixel__graphics__atlas__$FlxAtlas r18;
	openfl__geom__Point r17, r23;
	int r7, r8, r11, r14;
	openfl__display__BitmapData r2, r16, r20, r22;
	r2 = r0->bitmapData;
	if( !r2 ) goto label$54c6871_11_16;
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->rect;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r2 = r0->bitmapData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->width;
	r8 = (int)r3;
	if( r7 == r8 ) goto label$54c6871_11_14;
	r6 = false;
	goto label$54c6871_11_15;
	label$54c6871_11_14:
	r6 = true;
	label$54c6871_11_15:
	goto label$54c6871_11_17;
	label$54c6871_11_16:
	r6 = false;
	label$54c6871_11_17:
	if( !r6 ) goto label$54c6871_11_32;
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->rect;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->height;
	r2 = r0->bitmapData;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->height;
	r8 = (int)r3;
	if( r7 == r8 ) goto label$54c6871_11_30;
	r10 = false;
	goto label$54c6871_11_31;
	label$54c6871_11_30:
	r10 = true;
	label$54c6871_11_31:
	goto label$54c6871_11_33;
	label$54c6871_11_32:
	r10 = false;
	label$54c6871_11_33:
	if( !r10 ) goto label$54c6871_11_35;
	return;
	label$54c6871_11_35:
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->rect;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r7 = (int)r3;
	r5 = r0->root;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->rect;
	if( r4 == NULL ) hl_null_access();
	r9 = r4->height;
	r2 = (openfl__display__BitmapData)hl_alloc_obj(&t$openfl_display_BitmapData);
	r11 = (int)r9;
	r10 = true;
	r13 = &r10;
	r14 = 0;
	r15 = &r14;
	openfl_display_BitmapData_new(r2,r7,r11,r13,r15);
	r16 = r0->bitmapData;
	if( !r16 ) goto label$54c6871_11_71;
	r18 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r17 = r18->point;
	if( r17 == NULL ) hl_null_access();
	r12 = 0.;
	r19 = 0.;
	openfl_geom_Point_setTo(r17,r12,r19);
	r20 = r0->bitmapData;
	r22 = r0->bitmapData;
	if( r22 == NULL ) hl_null_access();
	r21 = r22->rect;
	r18 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r17 = r18->point;
	r22 = NULL;
	r23 = NULL;
	r13 = NULL;
	openfl_display_BitmapData_copyPixels(r2,r20,r21,r17,r22,r23,r13);
	label$54c6871_11_71:
	r16 = r0->bitmapData;
	r16 = flixel_util_FlxDestroyUtil_dispose(r16);
	r16 = flixel_graphics_atlas_FlxAtlas_set_bitmapData(r0,r16);
	r16 = flixel_graphics_atlas_FlxAtlas_set_bitmapData(r0,r2);
	return;
}

int flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(flixel__graphics__atlas__FlxAtlas r0,double r1) {
	int r2, r3, r4, r5;
	r2 = (int)r1;
	r4 = 0;
	if( r4 >= r2 ) goto label$54c6871_12_9;
	r5 = 1;
	r4 = r2 - r5;
	r3 = r2 & r4;
	r4 = 0;
	if( r3 != r4 ) goto label$54c6871_12_9;
	return r2;
	label$54c6871_12_9:
	r3 = 1;
	label$54c6871_12_10:
	if( r3 >= r2 ) goto label$54c6871_12_16;
	r5 = 1;
	r4 = r3 << r5;
	r3 = r4;
	goto label$54c6871_12_10;
	label$54c6871_12_16:
	return r3;
}

flixel__graphics__frames__FlxTileFrames flixel_graphics_atlas_FlxAtlas_addNodeWithSpacesAndBorders(flixel__graphics__atlas__FlxAtlas r0,vdynamic* r1,String r2,flixel__math__FlxBasePoint r3,flixel__math__FlxBasePoint r4,flixel__math__FlxBasePoint r5,flixel__math__FlxRect r6) {
	String r7, r9;
	flixel__graphics__frames__FlxTileFrames r10;
	haxe__ds__StringMap r14;
	bool r13;
	flixel__$FlxG r12;
	flixel__system__frontEnds__BitmapFrontEnd r11;
	flixel__graphics__atlas__FlxNode r15;
	double r18, r19, r20, r21;
	vdynamic *r8;
	openfl__display__BitmapData r16, r17;
	r7 = flixel_system_FlxAssets_resolveKey(r1,r2);
	if( r7 ) goto label$54c6871_13_4;
	r10 = NULL;
	return r10;
	label$54c6871_13_4:
	r12 = (flixel__$FlxG)g$_flixel_FlxG;
	r11 = r12->bitmap;
	if( r11 == NULL ) hl_null_access();
	r9 = flixel_system_frontEnds_BitmapFrontEnd_getKeyWithSpacesAndBorders(r11,r7,r3,r4,r5,r6);
	r13 = flixel_graphics_atlas_FlxAtlas_hasNodeWithName(r0,r9);
	if( !r13 ) goto label$54c6871_13_17;
	r14 = r0->nodes;
	if( r14 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_get(r14,r9);
	r15 = (flixel__graphics__atlas__FlxNode)r8;
	if( r15 == NULL ) hl_null_access();
	r10 = flixel_graphics_atlas_FlxNode_getTileFrames(r15,r3,r4,r5);
	return r10;
	label$54c6871_13_17:
	r16 = flixel_system_FlxAssets_resolveBitmapData(r1);
	if( r16 ) goto label$54c6871_13_21;
	r10 = NULL;
	return r10;
	label$54c6871_13_21:
	r17 = flixel_util_FlxBitmapDataUtil_addSpacesAndBorders(r16,r3,r4,r5,r6);
	r15 = flixel_graphics_atlas_FlxAtlas_addNode(r0,((vdynamic*)r17),r9);
	if( r15 ) goto label$54c6871_13_26;
	r10 = NULL;
	return r10;
	label$54c6871_13_26:
	if( !r5 ) goto label$54c6871_13_41;
	r18 = 2.;
	if( r5 == NULL ) hl_null_access();
	r19 = r5->y;
	r18 = r18 * r19;
	if( r3 == NULL ) hl_null_access();
	r19 = r3->x;
	r20 = 2.;
	r21 = r5->x;
	r20 = r20 * r21;
	r19 = r19 + r20;
	r19 = ((double (*)(flixel__math__FlxBasePoint,double))r3->$type->vobj_proto[3])(r3,r19);
	r19 = r3->y;
	r19 = r19 + r18;
	r19 = ((double (*)(flixel__math__FlxBasePoint,double))r3->$type->vobj_proto[4])(r3,r19);
	label$54c6871_13_41:
	if( r15 == NULL ) hl_null_access();
	r10 = flixel_graphics_atlas_FlxNode_getTileFrames(r15,r3,r4,r5);
	return r10;
}

flixel__graphics__frames__FlxAtlasFrames flixel_graphics_atlas_FlxAtlas_getAtlasFrames(flixel__graphics__atlas__FlxAtlas r0) {
	haxe__ds__StringMap r7;
	vvirtual *r6, *r8;
	flixel__math__FlxBasePoint r5;
	bool r9;
	flixel__graphics__frames__FlxAtlasFrames r3, r4;
	flixel__graphics__atlas__FlxNode r10;
	flixel__graphics__FlxGraphic r1;
	r1 = flixel_graphics_atlas_FlxAtlas_get_graphic(r0);
	if( r1 == NULL ) hl_null_access();
	r3 = flixel_graphics_FlxGraphic_get_atlasFrames(r1);
	r4 = flixel_graphics_FlxGraphic_get_atlasFrames(r1);
	if( r4 ) goto label$54c6871_14_9;
	r4 = (flixel__graphics__frames__FlxAtlasFrames)hl_alloc_obj(&t$flixel_graphics_frames_FlxAtlasFrames);
	r5 = NULL;
	flixel_graphics_frames_FlxAtlasFrames_new(r4,r1,r5);
	r3 = r4;
	label$54c6871_14_9:
	r7 = r0->nodes;
	if( r7 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_iterator(r7);
	r8 = hl_to_virtual(&t$vrt_ccb1296,(vdynamic*)r6);
	label$54c6871_14_13:
	if( r8 == NULL ) hl_null_access();
	if( hl_vfields(r8)[0] ) r9 = ((bool (*)(vdynamic*))hl_vfields(r8)[0])(r8->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r8->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r9 = (bool)ret.v.i;
	}
	if( !r9 ) goto label$54c6871_14_20;
	if( hl_vfields(r8)[1] ) r10 = ((flixel__graphics__atlas__FlxNode (*)(vdynamic*))hl_vfields(r8)[1])(r8->value); else {
		r10 = (flixel__graphics__atlas__FlxNode)hl_dyn_call_obj(r8->value,&t$fun_7e17e0a,151160317/*next*/,NULL,NULL);
	}
	flixel_graphics_atlas_FlxAtlas_addNodeToAtlasFrames(r0,r10);
	goto label$54c6871_14_13;
	label$54c6871_14_20:
	return r3;
}

void flixel_graphics_atlas_FlxAtlas_addNodeToAtlasFrames(flixel__graphics__atlas__FlxAtlas r0,flixel__graphics__atlas__FlxNode r1) {
	bool *r38, *r39;
	flixel__util__FlxPool_flixel_math_FlxRect r19;
	String r7;
	haxe__ds__StringMap r6;
	flixel__math__FlxBasePoint r26, r33;
	bool r5;
	flixel__graphics__frames__FlxAtlasFrames r4;
	flixel__util__FlxPool_flixel_math_FlxBasePoint r27;
	flixel__math__FlxRect r9, r22;
	flixel__graphics__FlxGraphic r3;
	flixel__graphics__frames__FlxFrame r36;
	double r8, r11, r12, r13, r14, r15, r17, r18, r21, r23, r24, r25, r29, r31, r34, r35;
	int *r37;
	double *r30, *r32;
	flixel__math__$FlxBasePoint r28;
	flixel__math__$FlxRect r20;
	int r10, r16;
	r3 = r0->_graphic;
	if( !r3 ) goto label$54c6871_15_7;
	r3 = r0->_graphic;
	if( r3 == NULL ) hl_null_access();
	r4 = flixel_graphics_FlxGraphic_get_atlasFrames(r3);
	if( !r4 ) goto label$54c6871_15_7;
	if( r1 ) goto label$54c6871_15_8;
	label$54c6871_15_7:
	return;
	label$54c6871_15_8:
	r3 = r0->_graphic;
	if( r3 == NULL ) hl_null_access();
	r4 = flixel_graphics_FlxGraphic_get_atlasFrames(r3);
	if( r1 == NULL ) hl_null_access();
	r5 = r1->filled;
	if( !r5 ) goto label$54c6871_15_141;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->framesHash;
	if( r6 == NULL ) hl_null_access();
	r7 = r1->key;
	r5 = haxe_ds_StringMap_exists(r6,r7);
	if( r5 ) goto label$54c6871_15_141;
	r9 = r1->rect;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->x;
	r10 = (int)r8;
	r11 = (double)r10;
	r9 = r1->rect;
	if( r9 == NULL ) hl_null_access();
	r12 = r9->y;
	r10 = (int)r12;
	r13 = (double)r10;
	r9 = r1->rect;
	if( r9 == NULL ) hl_null_access();
	r14 = r9->width;
	r10 = (int)r14;
	r16 = r0->border;
	r10 = r10 - r16;
	r15 = (double)r10;
	r9 = r1->rect;
	if( r9 == NULL ) hl_null_access();
	r17 = r9->height;
	r10 = (int)r17;
	r16 = r0->border;
	r10 = r10 - r16;
	r18 = (double)r10;
	r20 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r19 = r20->_pool;
	if( r19 == NULL ) hl_null_access();
	r9 = flixel_util_FlxPool_flixel_math_FlxRect_get(r19);
	if( r9 == NULL ) hl_null_access();
	r9->x = r11;
	r9->y = r13;
	r9->width = r15;
	r9->height = r18;
	r5 = false;
	r9->_inPool = r5;
	r5 = r1->rotated;
	if( !r5 ) goto label$54c6871_15_86;
	r22 = r1->rect;
	if( r22 == NULL ) hl_null_access();
	r21 = r22->height;
	r10 = (int)r21;
	r16 = r0->border;
	r10 = r10 - r16;
	r23 = (double)r10;
	r22 = r1->rect;
	if( r22 == NULL ) hl_null_access();
	r24 = r22->width;
	r10 = (int)r24;
	r16 = r0->border;
	r10 = r10 - r16;
	r25 = (double)r10;
	r28 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r27 = r28->pool;
	if( r27 == NULL ) hl_null_access();
	r26 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r27);
	if( r26 == NULL ) hl_null_access();
	r29 = r23;
	r30 = &r29;
	r31 = r25;
	r32 = &r31;
	r26 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r26->$type->vobj_proto[0])(r26,r30,r32);
	if( r26 == NULL ) hl_null_access();
	r5 = false;
	r26->_inPool = r5;
	r33 = r26;
	goto label$54c6871_15_114;
	label$54c6871_15_86:
	r22 = r1->rect;
	if( r22 == NULL ) hl_null_access();
	r21 = r22->width;
	r10 = (int)r21;
	r16 = r0->border;
	r10 = r10 - r16;
	r23 = (double)r10;
	r22 = r1->rect;
	if( r22 == NULL ) hl_null_access();
	r24 = r22->height;
	r10 = (int)r24;
	r16 = r0->border;
	r10 = r10 - r16;
	r25 = (double)r10;
	r28 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r27 = r28->pool;
	if( r27 == NULL ) hl_null_access();
	r26 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r27);
	if( r26 == NULL ) hl_null_access();
	r34 = r23;
	r30 = &r34;
	r35 = r25;
	r32 = &r35;
	r26 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r26->$type->vobj_proto[0])(r26,r30,r32);
	if( r26 == NULL ) hl_null_access();
	r5 = false;
	r26->_inPool = r5;
	r33 = r26;
	label$54c6871_15_114:
	r28 = (flixel__math__$FlxBasePoint)g$_flixel_math_FlxBasePoint;
	r27 = r28->pool;
	if( r27 == NULL ) hl_null_access();
	r26 = flixel_util_FlxPool_flixel_math_FlxBasePoint_get(r27);
	if( r26 == NULL ) hl_null_access();
	r10 = 0;
	r21 = (double)r10;
	r30 = &r21;
	r10 = 0;
	r23 = (double)r10;
	r32 = &r23;
	r26 = ((flixel__math__FlxBasePoint (*)(flixel__math__FlxBasePoint,double*,double*))r26->$type->vobj_proto[0])(r26,r30,r32);
	if( r26 == NULL ) hl_null_access();
	r5 = false;
	r26->_inPool = r5;
	r5 = r1->rotated;
	if( !r5 ) goto label$54c6871_15_133;
	r10 = -90;
	goto label$54c6871_15_134;
	label$54c6871_15_133:
	r10 = 0;
	label$54c6871_15_134:
	r7 = r1->key;
	r16 = r10;
	r37 = &r16;
	r38 = NULL;
	r39 = NULL;
	r30 = NULL;
	r36 = flixel_graphics_frames_FlxFramesCollection_addAtlasFrame(((flixel__graphics__frames__FlxFramesCollection)r4),r9,r33,r26,r7,r37,r38,r39,r30);
	label$54c6871_15_141:
	return;
}

bool flixel_graphics_atlas_FlxAtlas_hasNodeWithName(flixel__graphics__atlas__FlxAtlas r0,String r1) {
	haxe__ds__StringMap r3;
	bool r2;
	r3 = r0->nodes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	return r2;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_getNode(flixel__graphics__atlas__FlxAtlas r0,String r1) {
	haxe__ds__StringMap r3;
	flixel__graphics__atlas__FlxNode r4;
	vdynamic *r2;
	r3 = r0->nodes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_get(r3,r1);
	r4 = (flixel__graphics__atlas__FlxNode)r2;
	return r4;
}

flixel__graphics__atlas__FlxAtlas flixel_graphics_atlas_FlxAtlas_addNodes(flixel__graphics__atlas__FlxAtlas r0,hl__types__ArrayObj r1,hl__types__ArrayObj r2) {
	String r17;
	vvirtual *r13;
	hl__types__ArrayObj r4;
	vdynamic *r10;
	flixel__graphics__atlas__FlxAtlas r9;
	varray *r16;
	openfl__display__BitmapData r15;
	int r3, r6, r7, r8, r11, r12, r14;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->length;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->length;
	if( r6 == r3 ) goto label$54c6871_18_7;
	r9 = NULL;
	return r9;
	label$54c6871_18_7:
	r4 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r4);
	r0->_tempStorage = r4;
	r7 = 0;
	r8 = r6;
	label$54c6871_18_12:
	if( r7 >= r8 ) goto label$54c6871_18_39;
	r11 = r7;
	++r7;
	r4 = r0->_tempStorage;
	if( r4 == NULL ) hl_null_access();
	r13 = hl_alloc_virtual(&t$vrt_c3bf32e);
	if( r1 == NULL ) hl_null_access();
	r14 = r1->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$54c6871_18_24;
	r15 = NULL;
	goto label$54c6871_18_27;
	label$54c6871_18_24:
	r16 = r1->array;
	r10 = ((vdynamic**)(r16 + 1))[r11];
	r15 = (openfl__display__BitmapData)r10;
	label$54c6871_18_27:
	if( hl_vfields(r13)[0] ) *(openfl__display__BitmapData*)(hl_vfields(r13)[0]) = (openfl__display__BitmapData)r15; else hl_dyn_setp(r13->value,4897849/*bmd*/,&t$openfl_display_BitmapData,r15);
	if( r2 == NULL ) hl_null_access();
	r14 = r2->length;
	if( ((unsigned)r11) < ((unsigned)r14) ) goto label$54c6871_18_33;
	r17 = NULL;
	goto label$54c6871_18_36;
	label$54c6871_18_33:
	r16 = r2->array;
	r10 = ((vdynamic**)(r16 + 1))[r11];
	r17 = (String)r10;
	label$54c6871_18_36:
	if( hl_vfields(r13)[1] ) *(String*)(hl_vfields(r13)[1]) = (String)r17; else hl_dyn_setp(r13->value,534930647/*keyStr*/,&t$String,r17);
	r12 = hl_types_ArrayObj_push(r4,((vdynamic*)r13));
	goto label$54c6871_18_12;
	label$54c6871_18_39:
	r4 = r0->_tempStorage;
	flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects(r0,r4);
	return r0;
}

void flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects(flixel__graphics__atlas__FlxAtlas r0,hl__types__ArrayObj r1) {
	String r16;
	vvirtual *r13;
	hl__types__ArrayObj r3;
	flixel__graphics__atlas__FlxNode r10;
	vclosure *r4, *r5;
	vdynamic *r14;
	varray *r15;
	openfl__display__BitmapData r11;
	int r6, r7, r8, r9, r12;
	if( r1 == NULL ) hl_null_access();
	r4 = hl_alloc_closure_ptr(&t$fun_6b79aed,flixel_graphics_atlas_FlxAtlas_bitmapSorter,r0);
	if( r4 ) goto label$54c6871_19_5;
	r5 = NULL;
	goto label$54c6871_19_6;
	label$54c6871_19_5:
	r5 = hl_alloc_closure_ptr(&t$fun_aa7bcde,flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects__$1,r4);
	label$54c6871_19_6:
	hl_types_ArrayObj_sort(r1,r5);
	r6 = r1->length;
	r7 = 0;
	r8 = r6;
	label$54c6871_19_10:
	if( r7 >= r8 ) goto label$54c6871_19_35;
	r9 = r7;
	++r7;
	if( r1 == NULL ) hl_null_access();
	r12 = r1->length;
	if( ((unsigned)r9) < ((unsigned)r12) ) goto label$54c6871_19_19;
	r13 = NULL;
	goto label$54c6871_19_22;
	label$54c6871_19_19:
	r15 = r1->array;
	r14 = ((vdynamic**)(r15 + 1))[r9];
	r13 = hl_to_virtual(&t$vrt_c3bf32e,(vdynamic*)r14);
	label$54c6871_19_22:
	if( r13 == NULL ) hl_null_access();
	r11 = hl_vfields(r13)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r13)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r13->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	r12 = r1->length;
	if( ((unsigned)r9) < ((unsigned)r12) ) goto label$54c6871_19_28;
	r13 = NULL;
	goto label$54c6871_19_31;
	label$54c6871_19_28:
	r15 = r1->array;
	r14 = ((vdynamic**)(r15 + 1))[r9];
	r13 = hl_to_virtual(&t$vrt_c3bf32e,(vdynamic*)r14);
	label$54c6871_19_31:
	if( r13 == NULL ) hl_null_access();
	r16 = hl_vfields(r13)[1] ? (*(String*)(hl_vfields(r13)[1])) : (String)hl_dyn_getp(r13->value,534930647/*keyStr*/,&t$String);
	r10 = flixel_graphics_atlas_FlxAtlas_addNode(r0,((vdynamic*)r11),r16);
	goto label$54c6871_19_10;
	label$54c6871_19_35:
	r3 = NULL;
	r0->_tempStorage = r3;
	return;
}

int flixel_graphics_atlas_FlxAtlas_bitmapSorter(flixel__graphics__atlas__FlxAtlas r0,vvirtual* r1,vvirtual* r2) {
	bool r3;
	openfl__display__BitmapData r5;
	int r4, r6, r7;
	r3 = r0->allowRotation;
	if( !r3 ) goto label$54c6871_20_20;
	if( r1 == NULL ) hl_null_access();
	r5 = hl_vfields(r1)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r1)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r1->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r4 = r5->width;
	r5 = hl_vfields(r1)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r1)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r1->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r6 = r5->height;
	r4 = r4 * r6;
	if( r2 == NULL ) hl_null_access();
	r5 = hl_vfields(r2)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r2)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r2->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r6 = r5->width;
	r5 = hl_vfields(r2)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r2)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r2->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r7 = r5->height;
	r6 = r6 * r7;
	r7 = r6 - r4;
	return r7;
	label$54c6871_20_20:
	if( r2 == NULL ) hl_null_access();
	r5 = hl_vfields(r2)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r2)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r2->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r4 = r5->width;
	if( r1 == NULL ) hl_null_access();
	r5 = hl_vfields(r1)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r1)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r1->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r6 = r5->width;
	if( r4 != r6 ) goto label$54c6871_20_37;
	r5 = hl_vfields(r2)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r2)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r2->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r4 = r5->height;
	r5 = hl_vfields(r1)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r1)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r1->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r6 = r5->height;
	r4 = r4 - r6;
	return r4;
	label$54c6871_20_37:
	r5 = hl_vfields(r2)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r2)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r2->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r4 = r5->width;
	r5 = hl_vfields(r1)[0] ? (*(openfl__display__BitmapData*)(hl_vfields(r1)[0])) : (openfl__display__BitmapData)hl_dyn_getp(r1->value,4897849/*bmd*/,&t$openfl_display_BitmapData);
	if( r5 == NULL ) hl_null_access();
	r6 = r5->width;
	r4 = r4 - r6;
	return r4;
}

flixel__graphics__atlas__FlxAtlas flixel_graphics_atlas_FlxAtlas_createQueue(flixel__graphics__atlas__FlxAtlas r0) {
	hl__types__ArrayObj r1;
	r1 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r1);
	r0->_tempStorage = r1;
	return r0;
}

flixel__graphics__atlas__FlxAtlas flixel_graphics_atlas_FlxAtlas_addToQueue(flixel__graphics__atlas__FlxAtlas r0,openfl__display__BitmapData r1,String r2) {
	vvirtual *r6;
	hl__types__ArrayObj r4;
	int r5;
	r4 = r0->_tempStorage;
	if( r4 ) goto label$54c6871_22_5;
	r4 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r4);
	r0->_tempStorage = r4;
	label$54c6871_22_5:
	r4 = r0->_tempStorage;
	if( r4 == NULL ) hl_null_access();
	r6 = hl_alloc_virtual(&t$vrt_c3bf32e);
	if( hl_vfields(r6)[0] ) *(openfl__display__BitmapData*)(hl_vfields(r6)[0]) = (openfl__display__BitmapData)r1; else hl_dyn_setp(r6->value,4897849/*bmd*/,&t$openfl_display_BitmapData,r1);
	if( hl_vfields(r6)[1] ) *(String*)(hl_vfields(r6)[1]) = (String)r2; else hl_dyn_setp(r6->value,534930647/*keyStr*/,&t$String,r2);
	r5 = hl_types_ArrayObj_push(r4,((vdynamic*)r6));
	return r0;
}

flixel__graphics__atlas__FlxAtlas flixel_graphics_atlas_FlxAtlas_generateFromQueue(flixel__graphics__atlas__FlxAtlas r0) {
	hl__types__ArrayObj r2;
	r2 = r0->_tempStorage;
	if( !r2 ) goto label$54c6871_23_4;
	r2 = r0->_tempStorage;
	flixel_graphics_atlas_FlxAtlas_addFromAtlasObjects(r0,r2);
	label$54c6871_23_4:
	return r0;
}

void flixel_graphics_atlas_FlxAtlas_onClear(flixel__graphics__atlas__FlxAtlas r0,flixel__FlxState r1) {
	bool r3;
	flixel__graphics__FlxGraphic r4;
	int r5, r6;
	r3 = r0->persist;
	if( !r3 ) goto label$54c6871_24_9;
	r4 = r0->_graphic;
	if( !r4 ) goto label$54c6871_24_10;
	r4 = r0->_graphic;
	if( r4 == NULL ) hl_null_access();
	r5 = flixel_graphics_FlxGraphic_get_useCount(r4);
	r6 = 0;
	if( r6 < r5 ) goto label$54c6871_24_10;
	label$54c6871_24_9:
	flixel_graphics_atlas_FlxAtlas_destroy(r0);
	label$54c6871_24_10:
	return;
}

void flixel_graphics_atlas_FlxAtlas_destroy(flixel__graphics__atlas__FlxAtlas r0) {
	String r6;
	flixel__util___FlxSignal__FlxSignal1 r10;
	haxe__ds__StringMap r8;
	hl__types__ArrayObj r1;
	flixel__$FlxG r5;
	flixel__system__frontEnds__BitmapFrontEnd r4;
	flixel__graphics__atlas__FlxNode r3;
	flixel__system__frontEnds__SignalFrontEnd r11;
	flixel__graphics__FlxGraphic r9;
	vclosure *r12;
	openfl__display__BitmapData r7;
	r1 = NULL;
	r0->_tempStorage = r1;
	r3 = r0->root;
	flixel_graphics_atlas_FlxAtlas_deleteSubtree(r0,r3);
	r3 = NULL;
	r0->root = r3;
	r5 = (flixel__$FlxG)g$_flixel_FlxG;
	r4 = r5->bitmap;
	if( r4 == NULL ) hl_null_access();
	r6 = r0->name;
	flixel_system_frontEnds_BitmapFrontEnd_removeByKey(r4,r6);
	r7 = NULL;
	r7 = flixel_graphics_atlas_FlxAtlas_set_bitmapData(r0,r7);
	r8 = NULL;
	r0->nodes = r8;
	r9 = NULL;
	r0->_graphic = r9;
	r5 = (flixel__$FlxG)g$_flixel_FlxG;
	r11 = r5->signals;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->preStateCreate;
	if( r10 == NULL ) hl_null_access();
	r12 = hl_alloc_closure_ptr(&t$fun_050deb7,flixel_graphics_atlas_FlxAtlas_onClear,r0);
	flixel_util__FlxSignal_FlxBaseSignal_remove(((flixel__util___FlxSignal__FlxBaseSignal)r10),((vdynamic*)r12));
	return;
}

void flixel_graphics_atlas_FlxAtlas_clear(flixel__graphics__atlas__FlxAtlas r0) {
	String r5;
	haxe__ds__StringMap r7;
	flixel__$FlxG r4;
	flixel__system__frontEnds__BitmapFrontEnd r3;
	flixel__graphics__atlas__FlxNode r2;
	flixel__graphics__FlxGraphic r8;
	openfl__display__BitmapData r6;
	r2 = r0->root;
	flixel_graphics_atlas_FlxAtlas_deleteSubtree(r0,r2);
	flixel_graphics_atlas_FlxAtlas_initRoot(r0);
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->bitmap;
	if( r3 == NULL ) hl_null_access();
	r5 = r0->name;
	flixel_system_frontEnds_BitmapFrontEnd_removeByKey(r3,r5);
	r6 = NULL;
	r6 = flixel_graphics_atlas_FlxAtlas_set_bitmapData(r0,r6);
	r7 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r7);
	r0->nodes = r7;
	r8 = NULL;
	r0->_graphic = r8;
	return;
}

String flixel_graphics_atlas_FlxAtlas_getLibGdxData(flixel__graphics__atlas__FlxAtlas r0) {
	String r1, r2, r3, r4, r18, r21, r23;
	haxe__ds__StringMap r6;
	vvirtual *r5, *r8;
	bool r9;
	flixel__graphics__atlas__FlxNode r10;
	flixel__math__FlxRect r12;
	double r11, r14, r17, r19, r20, r22;
	int *r15;
	vdynamic *r7;
	vbyte *r16;
	int r13;
	r1 = (String)s$68b329d;
	r3 = r0->name;
	r4 = (String)s$68b329d;
	r3 = String___add__(r3,r4);
	r2 = String___add__(r1,r3);
	r3 = (String)s$format_RGBA8888_;
	r2 = String___add__(r2,r3);
	r3 = (String)s$filter_Linear_Linear_;
	r2 = String___add__(r2,r3);
	r3 = (String)s$repeat_none_;
	r2 = String___add__(r2,r3);
	r1 = r2;
	r6 = r0->nodes;
	if( r6 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_iterator(r6);
	r8 = hl_to_virtual(&t$vrt_ccb1296,(vdynamic*)r5);
	label$54c6871_27_16:
	if( r8 == NULL ) hl_null_access();
	if( hl_vfields(r8)[0] ) r9 = ((bool (*)(vdynamic*))hl_vfields(r8)[0])(r8->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r8->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r9 = (bool)ret.v.i;
	}
	if( !r9 ) goto label$54c6871_27_157;
	if( hl_vfields(r8)[1] ) r10 = ((flixel__graphics__atlas__FlxNode (*)(vdynamic*))hl_vfields(r8)[1])(r8->value); else {
		r10 = (flixel__graphics__atlas__FlxNode)hl_dyn_call_obj(r8->value,&t$fun_7e17e0a,151160317/*next*/,NULL,NULL);
	}
	if( r10 == NULL ) hl_null_access();
	r3 = r10->key;
	r4 = (String)s$68b329d;
	r3 = String___add__(r3,r4);
	r2 = String___add__(r1,r3);
	r3 = (String)s$_rotate_;
	r9 = r10->rotated;
	r7 = hl_alloc_dynbool(r9);
	r4 = Std_string(r7);
	r3 = String___add__(r3,r4);
	r4 = (String)s$68b329d;
	r3 = String___add__(r3,r4);
	r2 = String___add__(r2,r3);
	r1 = r2;
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->x;
	r2 = (String)s$_xy_;
	r13 = (int)r11;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r3 = String___alloc__(r16,r13);
	r2 = String___add__(r2,r3);
	r3 = (String)s$fc763cb;
	r2 = String___add__(r2,r3);
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r14 = r12->y;
	r13 = (int)r14;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r18 = String___alloc__(r16,r13);
	r4 = String___add__(r2,r18);
	r18 = (String)s$68b329d;
	r4 = String___add__(r4,r18);
	r3 = String___add__(r1,r4);
	r1 = r3;
	r9 = r0->allowRotation;
	if( !r9 ) goto label$54c6871_27_106;
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r17 = r12->height;
	r3 = (String)s$53fb549;
	r13 = (int)r17;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r4 = String___alloc__(r16,r13);
	r3 = String___add__(r3,r4);
	r4 = (String)s$fc763cb;
	r3 = String___add__(r3,r4);
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r19 = r12->width;
	r13 = (int)r19;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r21 = String___alloc__(r16,r13);
	r18 = String___add__(r3,r21);
	r21 = (String)s$68b329d;
	r18 = String___add__(r18,r21);
	r4 = String___add__(r1,r18);
	r1 = r4;
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r20 = r12->height;
	r4 = (String)s$orig_;
	r13 = (int)r20;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r18 = String___alloc__(r16,r13);
	r4 = String___add__(r4,r18);
	r18 = (String)s$fc763cb;
	r4 = String___add__(r4,r18);
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r22 = r12->width;
	r13 = (int)r22;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r23 = String___alloc__(r16,r13);
	r21 = String___add__(r4,r23);
	r23 = (String)s$68b329d;
	r21 = String___add__(r21,r23);
	r18 = String___add__(r1,r21);
	goto label$54c6871_27_151;
	label$54c6871_27_106:
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r17 = r12->width;
	r3 = (String)s$53fb549;
	r13 = (int)r17;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r4 = String___alloc__(r16,r13);
	r3 = String___add__(r3,r4);
	r4 = (String)s$fc763cb;
	r3 = String___add__(r3,r4);
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r19 = r12->height;
	r13 = (int)r19;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r21 = String___alloc__(r16,r13);
	r18 = String___add__(r3,r21);
	r21 = (String)s$68b329d;
	r18 = String___add__(r18,r21);
	r4 = String___add__(r1,r18);
	r1 = r4;
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r20 = r12->width;
	r4 = (String)s$orig_;
	r13 = (int)r20;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r18 = String___alloc__(r16,r13);
	r4 = String___add__(r4,r18);
	r18 = (String)s$fc763cb;
	r4 = String___add__(r4,r18);
	r12 = r10->rect;
	if( r12 == NULL ) hl_null_access();
	r22 = r12->height;
	r13 = (int)r22;
	r15 = &r13;
	r16 = hl_itos(r13,r15);
	r23 = String___alloc__(r16,r13);
	r21 = String___add__(r4,r23);
	r23 = (String)s$68b329d;
	r21 = String___add__(r21,r23);
	r18 = String___add__(r1,r21);
	label$54c6871_27_151:
	r4 = (String)s$_offset_0_0_;
	r3 = String___add__(r18,r4);
	r4 = (String)s$_index_1_;
	r3 = String___add__(r3,r4);
	r1 = r3;
	goto label$54c6871_27_16;
	label$54c6871_27_157:
	return r1;
}

void flixel_graphics_atlas_FlxAtlas_deleteSubtree(flixel__graphics__atlas__FlxAtlas r0,flixel__graphics__atlas__FlxNode r1) {
	String r4;
	flixel__graphics__atlas__FlxNode r3, r5;
	flixel__math__FlxRect r6;
	flixel__graphics__atlas__FlxAtlas r7;
	if( !r1 ) goto label$54c6871_28_20;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->left;
	if( !r3 ) goto label$54c6871_28_6;
	r3 = r1->left;
	flixel_graphics_atlas_FlxAtlas_deleteSubtree(r0,r3);
	label$54c6871_28_6:
	r3 = r1->right;
	if( !r3 ) goto label$54c6871_28_10;
	r3 = r1->right;
	flixel_graphics_atlas_FlxAtlas_deleteSubtree(r0,r3);
	label$54c6871_28_10:
	r4 = NULL;
	r1->key = r4;
	r5 = NULL;
	r1->left = r5;
	r5 = NULL;
	r1->right = r5;
	r6 = NULL;
	r1->rect = r6;
	r7 = NULL;
	r1->atlas = r7;
	label$54c6871_28_20:
	return;
}

flixel__graphics__atlas__FlxNode flixel_graphics_atlas_FlxAtlas_findNodeToInsert(flixel__graphics__atlas__FlxAtlas r0,int r1,int r2) {
	hl__types__ArrayObj r3, r6;
	bool r7, r8, r9, r13;
	flixel__graphics__atlas__FlxNode r5, r10, r14;
	flixel__math__FlxRect r16;
	double r15, r17;
	vdynamic *r20;
	int r11, r12, r18, r19;
	r3 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r3);
	r5 = r0->root;
	r6 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r6);
	r7 = false;
	r8 = false;
	r9 = true;
	r10 = NULL;
	r11 = r0->maxWidth;
	r12 = r0->maxHeight;
	r11 = r11 * r12;
	r12 = 1;
	r11 = r11 + r12;
	label$54c6871_29_14:
	if( !r9 ) goto label$54c6871_29_114;
	if( r5 == NULL ) hl_null_access();
	r13 = r5->filled;
	if( r13 ) goto label$54c6871_29_45;
	r14 = r5->left;
	if( r14 ) goto label$54c6871_29_45;
	r14 = r5->right;
	if( r14 ) goto label$54c6871_29_45;
	r16 = r5->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->width;
	r17 = (double)r1;
	if( !(r15 >= r17) ) goto label$54c6871_29_45;
	r16 = r5->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->height;
	r17 = (double)r2;
	if( !(r15 >= r17) ) goto label$54c6871_29_45;
	r16 = r5->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->width;
	r12 = (int)r15;
	r16 = r5->rect;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->height;
	r19 = (int)r17;
	r18 = r12 * r19;
	if( r18 >= r11 ) goto label$54c6871_29_45;
	r11 = r18;
	r10 = r5;
	label$54c6871_29_45:
	r14 = r5->right;
	if( !r14 ) goto label$54c6871_29_64;
	r14 = r5->right;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->width;
	r17 = (double)r1;
	if( !(r15 >= r17) ) goto label$54c6871_29_61;
	r16 = r14->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->height;
	r17 = (double)r2;
	if( !(r15 >= r17) ) goto label$54c6871_29_61;
	r13 = true;
	goto label$54c6871_29_62;
	label$54c6871_29_61:
	r13 = false;
	label$54c6871_29_62:
	r7 = r13;
	goto label$54c6871_29_66;
	label$54c6871_29_64:
	r13 = false;
	r7 = r13;
	label$54c6871_29_66:
	r14 = r5->left;
	if( !r14 ) goto label$54c6871_29_85;
	r14 = r5->left;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->width;
	r17 = (double)r1;
	if( !(r15 >= r17) ) goto label$54c6871_29_82;
	r16 = r14->rect;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->height;
	r17 = (double)r2;
	if( !(r15 >= r17) ) goto label$54c6871_29_82;
	r13 = true;
	goto label$54c6871_29_83;
	label$54c6871_29_82:
	r13 = false;
	label$54c6871_29_83:
	r8 = r13;
	goto label$54c6871_29_87;
	label$54c6871_29_85:
	r13 = false;
	r8 = r13;
	label$54c6871_29_87:
	if( !r7 ) goto label$54c6871_29_95;
	if( !r8 ) goto label$54c6871_29_95;
	if( r3 == NULL ) hl_null_access();
	r14 = r5->right;
	r12 = hl_types_ArrayObj_push(r3,((vdynamic*)r14));
	r14 = r5->left;
	r5 = r14;
	goto label$54c6871_29_113;
	label$54c6871_29_95:
	if( !r8 ) goto label$54c6871_29_99;
	r14 = r5->left;
	r5 = r14;
	goto label$54c6871_29_113;
	label$54c6871_29_99:
	if( !r7 ) goto label$54c6871_29_103;
	r14 = r5->right;
	r5 = r14;
	goto label$54c6871_29_113;
	label$54c6871_29_103:
	if( r3 == NULL ) hl_null_access();
	r12 = r3->length;
	r18 = 0;
	if( r18 >= r12 ) goto label$54c6871_29_111;
	r20 = hl_types_ArrayObj_pop(r3);
	r14 = (flixel__graphics__atlas__FlxNode)r20;
	r5 = r14;
	goto label$54c6871_29_113;
	label$54c6871_29_111:
	r13 = false;
	r9 = r13;
	label$54c6871_29_113:
	goto label$54c6871_29_14;
	label$54c6871_29_114:
	return r10;
}

openfl__display__BitmapData flixel_graphics_atlas_FlxAtlas_set_bitmapData(flixel__graphics__atlas__FlxAtlas r0,openfl__display__BitmapData r1) {
	flixel__graphics__FlxGraphic r3;
	openfl__display__BitmapData r2;
	if( !r1 ) goto label$54c6871_30_6;
	r3 = r0->_graphic;
	if( !r3 ) goto label$54c6871_30_6;
	r3 = r0->_graphic;
	if( r3 == NULL ) hl_null_access();
	r2 = flixel_graphics_FlxGraphic_set_bitmap(r3,r1);
	label$54c6871_30_6:
	r0->bitmapData = r1;
	return r1;
}

flixel__graphics__FlxGraphic flixel_graphics_atlas_FlxAtlas_get_graphic(flixel__graphics__atlas__FlxAtlas r0) {
	String r7;
	bool *r6;
	bool r5, r8;
	flixel__$FlxG r3;
	flixel__system__frontEnds__BitmapFrontEnd r2;
	flixel__graphics__FlxGraphic r1;
	openfl__display__BitmapData r4;
	r1 = r0->_graphic;
	if( !r1 ) goto label$54c6871_31_4;
	r1 = r0->_graphic;
	return r1;
	label$54c6871_31_4:
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->bitmap;
	if( r2 == NULL ) hl_null_access();
	r4 = r0->bitmapData;
	r5 = false;
	r6 = &r5;
	r7 = r0->name;
	r1 = flixel_system_frontEnds_BitmapFrontEnd_add(r2,((vdynamic*)r4),r6,r7);
	r0->_graphic = r1;
	r1 = r0->_graphic;
	if( r1 == NULL ) hl_null_access();
	r8 = r0->persist;
	r1->persist = r8;
	r1 = r0->_graphic;
	return r1;
}

bool flixel_graphics_atlas_FlxAtlas_set_persist(flixel__graphics__atlas__FlxAtlas r0,bool r1) {
	flixel__graphics__FlxGraphic r2;
	r2 = r0->_graphic;
	if( !r2 ) goto label$54c6871_32_5;
	r2 = r0->_graphic;
	if( r2 == NULL ) hl_null_access();
	r2->persist = r1;
	label$54c6871_32_5:
	r0->persist = r1;
	return r1;
}

int flixel_graphics_atlas_FlxAtlas_set_minWidth(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	int r2, r3;
	r3 = r0->maxWidth;
	if( r3 < r1 ) goto label$54c6871_33_6;
	r0->minWidth = r1;
	r3 = flixel_graphics_atlas_FlxAtlas_get_width(r0);
	if( r3 >= r1 ) goto label$54c6871_33_6;
	r2 = flixel_graphics_atlas_FlxAtlas_set_width(r0,r1);
	label$54c6871_33_6:
	r2 = r0->minWidth;
	return r2;
}

int flixel_graphics_atlas_FlxAtlas_set_minHeight(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	int r2, r3;
	r3 = r0->maxHeight;
	if( r3 < r1 ) goto label$54c6871_34_6;
	r0->minHeight = r1;
	r3 = flixel_graphics_atlas_FlxAtlas_get_height(r0);
	if( r3 >= r1 ) goto label$54c6871_34_6;
	r2 = flixel_graphics_atlas_FlxAtlas_set_height(r0,r1);
	label$54c6871_34_6:
	r2 = r0->minHeight;
	return r2;
}

int flixel_graphics_atlas_FlxAtlas_get_width(flixel__graphics__atlas__FlxAtlas r0) {
	flixel__graphics__atlas__FlxNode r1;
	flixel__math__FlxRect r3;
	double r2;
	int r4;
	r1 = r0->root;
	if( !r1 ) goto label$54c6871_35_9;
	r1 = r0->root;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->rect;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->width;
	r4 = (int)r2;
	return r4;
	label$54c6871_35_9:
	r4 = 0;
	return r4;
}

int flixel_graphics_atlas_FlxAtlas_set_width(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	bool *r16;
	bool r5, r9;
	flixel__graphics__atlas__FlxNode r7, r11;
	flixel__math__FlxRect r8;
	double r6, r10, r12, r13, r14;
	int r3, r4, r15;
	r4 = flixel_graphics_atlas_FlxAtlas_get_width(r0);
	if( r4 >= r1 ) goto label$54c6871_36_48;
	r5 = r0->powerOfTwo;
	if( !r5 ) goto label$54c6871_36_7;
	r6 = (double)r1;
	r3 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r6);
	r1 = r3;
	label$54c6871_36_7:
	r4 = r0->maxWidth;
	if( r4 < r1 ) goto label$54c6871_36_48;
	r7 = r0->root;
	if( !r7 ) goto label$54c6871_36_22;
	r7 = r0->root;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->rect;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->width;
	r3 = (int)r6;
	if( r3 < r1 ) goto label$54c6871_36_20;
	r9 = false;
	goto label$54c6871_36_21;
	label$54c6871_36_20:
	r9 = true;
	label$54c6871_36_21:
	goto label$54c6871_36_23;
	label$54c6871_36_22:
	r9 = false;
	label$54c6871_36_23:
	if( !r9 ) goto label$54c6871_36_48;
	r7 = r0->root;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->rect;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->height;
	r3 = (int)r6;
	r7 = r0->root;
	r11 = r0->root;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->rect;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->width;
	r4 = (int)r10;
	r11 = r0->root;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->rect;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->height;
	r13 = (double)r1;
	r14 = (double)r3;
	r15 = (int)r12;
	r9 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r7,r4,r15);
	r16 = NULL;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r13,r14,r9,r16);
	label$54c6871_36_48:
	return r1;
}

int flixel_graphics_atlas_FlxAtlas_get_height(flixel__graphics__atlas__FlxAtlas r0) {
	flixel__graphics__atlas__FlxNode r1;
	flixel__math__FlxRect r3;
	double r2;
	int r4;
	r1 = r0->root;
	if( !r1 ) goto label$54c6871_37_9;
	r1 = r0->root;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->rect;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->height;
	r4 = (int)r2;
	return r4;
	label$54c6871_37_9:
	r4 = 0;
	return r4;
}

int flixel_graphics_atlas_FlxAtlas_set_height(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	bool *r16;
	bool r5, r9;
	flixel__graphics__atlas__FlxNode r7, r11;
	flixel__math__FlxRect r8;
	double r6, r10, r12, r13, r14;
	int r3, r4, r15;
	r4 = flixel_graphics_atlas_FlxAtlas_get_height(r0);
	if( r4 >= r1 ) goto label$54c6871_38_48;
	r5 = r0->powerOfTwo;
	if( !r5 ) goto label$54c6871_38_7;
	r6 = (double)r1;
	r3 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r6);
	r1 = r3;
	label$54c6871_38_7:
	r4 = r0->maxHeight;
	if( r4 < r1 ) goto label$54c6871_38_48;
	r7 = r0->root;
	if( !r7 ) goto label$54c6871_38_22;
	r7 = r0->root;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->rect;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->height;
	r3 = (int)r6;
	if( r3 < r1 ) goto label$54c6871_38_20;
	r9 = false;
	goto label$54c6871_38_21;
	label$54c6871_38_20:
	r9 = true;
	label$54c6871_38_21:
	goto label$54c6871_38_23;
	label$54c6871_38_22:
	r9 = false;
	label$54c6871_38_23:
	if( !r9 ) goto label$54c6871_38_48;
	r7 = r0->root;
	if( r7 == NULL ) hl_null_access();
	r8 = r7->rect;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->width;
	r3 = (int)r6;
	r7 = r0->root;
	r11 = r0->root;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->rect;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->width;
	r4 = (int)r10;
	r11 = r0->root;
	if( r11 == NULL ) hl_null_access();
	r8 = r11->rect;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->height;
	r13 = (double)r3;
	r14 = (double)r1;
	r15 = (int)r12;
	r9 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r7,r4,r15);
	r16 = NULL;
	flixel_graphics_atlas_FlxAtlas_expandRoot(r0,r13,r14,r9,r16);
	label$54c6871_38_48:
	return r1;
}

int flixel_graphics_atlas_FlxAtlas_set_maxWidth(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	flixel__graphics__atlas__FlxNode r4;
	int r2, r3;
	r3 = r0->minWidth;
	if( r1 < r3 ) goto label$54c6871_39_7;
	r4 = r0->root;
	if( !r4 ) goto label$54c6871_39_6;
	r3 = flixel_graphics_atlas_FlxAtlas_get_width(r0);
	if( r1 < r3 ) goto label$54c6871_39_7;
	label$54c6871_39_6:
	r0->maxWidth = r1;
	label$54c6871_39_7:
	r2 = r0->maxWidth;
	return r2;
}

int flixel_graphics_atlas_FlxAtlas_set_maxHeight(flixel__graphics__atlas__FlxAtlas r0,int r1) {
	flixel__graphics__atlas__FlxNode r4;
	int r2, r3;
	r3 = r0->minHeight;
	if( r1 < r3 ) goto label$54c6871_40_7;
	r4 = r0->root;
	if( !r4 ) goto label$54c6871_40_6;
	r3 = flixel_graphics_atlas_FlxAtlas_get_height(r0);
	if( r1 < r3 ) goto label$54c6871_40_7;
	label$54c6871_40_6:
	r0->maxHeight = r1;
	label$54c6871_40_7:
	r2 = r0->maxHeight;
	return r2;
}

bool flixel_graphics_atlas_FlxAtlas_set_powerOfTwo(flixel__graphics__atlas__FlxAtlas r0,bool r1) {
	String r20;
	bool *r19, *r21;
	flixel__util__FlxPool_flixel_math_FlxRect r15;
	bool r3;
	flixel__graphics__atlas__FlxNode r4, r18, r22, r24;
	flixel__math__FlxRect r6, r17;
	double r5, r8, r10, r13, r14, r23, r26;
	openfl__display__BitmapData r28;
	flixel__math__$FlxRect r16;
	int r7, r9, r11, r12, r25, r27;
	r3 = r0->powerOfTwo;
	if( r1 == r3 ) goto label$54c6871_41_106;
	if( !r1 ) goto label$54c6871_41_106;
	r4 = r0->root;
	if( !r4 ) goto label$54c6871_41_106;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->rect;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->width;
	r7 = (int)r5;
	r8 = (double)r7;
	r7 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r8);
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->rect;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->height;
	r9 = (int)r8;
	r10 = (double)r9;
	r9 = flixel_graphics_atlas_FlxAtlas_getNextPowerOfTwo(r0,r10);
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->rect;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->width;
	r12 = (int)r10;
	if( r7 != r12 ) goto label$54c6871_41_39;
	r4 = r0->root;
	if( r4 == NULL ) hl_null_access();
	r6 = r4->rect;
	if( r6 == NULL ) hl_null_access();
	r13 = r6->height;
	r12 = (int)r13;
	if( r9 != r12 ) goto label$54c6871_41_37;
	r3 = false;
	goto label$54c6871_41_38;
	label$54c6871_41_37:
	r3 = true;
	label$54c6871_41_38:
	goto label$54c6871_41_40;
	label$54c6871_41_39:
	r3 = true;
	label$54c6871_41_40:
	if( !r3 ) goto label$54c6871_41_106;
	r11 = r0->maxWidth;
	r12 = 0;
	if( r12 >= r11 ) goto label$54c6871_41_46;
	r12 = r0->maxWidth;
	if( r12 < r7 ) goto label$54c6871_41_51;
	label$54c6871_41_46:
	r11 = r0->maxHeight;
	r12 = 0;
	if( r12 >= r11 ) goto label$54c6871_41_53;
	r12 = r0->maxHeight;
	if( r12 >= r9 ) goto label$54c6871_41_53;
	label$54c6871_41_51:
	r3 = false;
	return r3;
	label$54c6871_41_53:
	r4 = r0->root;
	r16 = (flixel__math__$FlxRect)g$_flixel_math_FlxRect;
	r15 = r16->_pool;
	if( r15 == NULL ) hl_null_access();
	r6 = flixel_util_FlxPool_flixel_math_FlxRect_get(r15);
	if( r6 == NULL ) hl_null_access();
	r13 = 0.;
	r6->x = r13;
	r13 = 0.;
	r6->y = r13;
	r13 = (double)r7;
	r6->width = r13;
	r13 = (double)r9;
	r6->height = r13;
	r3 = false;
	r6->_inPool = r3;
	r18 = (flixel__graphics__atlas__FlxNode)hl_alloc_obj(&t$flixel_graphics_atlas_FlxNode);
	r19 = NULL;
	r20 = NULL;
	r21 = NULL;
	flixel_graphics_atlas_FlxNode_new(r18,r6,r0,r19,r20,r21);
	r0->root = r18;
	if( r4 == NULL ) hl_null_access();
	r18 = r4->left;
	if( !r18 ) goto label$54c6871_41_106;
	r18 = r0->root;
	r17 = r4->rect;
	if( r17 == NULL ) hl_null_access();
	r13 = r17->width;
	r11 = (int)r13;
	r17 = r4->rect;
	if( r17 == NULL ) hl_null_access();
	r14 = r17->height;
	r12 = (int)r14;
	r22 = r0->root;
	r17 = r4->rect;
	if( r17 == NULL ) hl_null_access();
	r23 = r17->width;
	r25 = (int)r23;
	r17 = r4->rect;
	if( r17 == NULL ) hl_null_access();
	r26 = r17->height;
	r27 = (int)r26;
	r3 = flixel_graphics_atlas_FlxAtlas_needToDivideHorizontally(r0,r22,r25,r27);
	r28 = NULL;
	r20 = NULL;
	r19 = NULL;
	r24 = flixel_graphics_atlas_FlxAtlas_divideNode(r0,r18,r11,r12,r3,r28,r20,r19);
	r24 = r0->root;
	if( r24 == NULL ) hl_null_access();
	r24 = r24->left;
	if( r24 == NULL ) hl_null_access();
	r24->left = r4;
	label$54c6871_41_106:
	r0->powerOfTwo = r1;
	return r1;
}

void flixel_graphics_atlas_FlxAtlas_new(flixel__graphics__atlas__FlxAtlas r0,String r1,bool* r2,int* r3,bool* r4,flixel__math__FlxBasePoint r5,flixel__math__FlxBasePoint r6) {
	flixel__util___FlxSignal__FlxSignal1 r22;
	haxe__ds__StringMap r12;
	flixel__math__FlxBasePoint r14;
	bool r7, r9, r10;
	flixel__$FlxG r24;
	flixel__system__frontEnds__SignalFrontEnd r23;
	vclosure *r25;
	double r16, r17, r18, r19;
	flixel__graphics__atlas__$FlxAtlas r15;
	int r8, r11, r20, r21;
	if( r2 ) goto label$54c6871_42_3;
	r7 = false;
	goto label$54c6871_42_4;
	label$54c6871_42_3:
	r7 = *r2;
	label$54c6871_42_4:
	if( r3 ) goto label$54c6871_42_7;
	r8 = 1;
	goto label$54c6871_42_8;
	label$54c6871_42_7:
	r8 = *r3;
	label$54c6871_42_8:
	if( r4 ) goto label$54c6871_42_11;
	r9 = false;
	goto label$54c6871_42_12;
	label$54c6871_42_11:
	r9 = *r4;
	label$54c6871_42_12:
	r10 = false;
	r0->powerOfTwo = r10;
	r10 = false;
	r0->allowRotation = r10;
	r11 = 1024;
	r0->maxHeight = r11;
	r11 = 1024;
	r0->maxWidth = r11;
	r11 = 128;
	r0->minHeight = r11;
	r11 = 128;
	r0->minWidth = r11;
	r11 = 1;
	r0->border = r11;
	r10 = false;
	r0->persist = r10;
	r12 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r12);
	r0->nodes = r12;
	r0->name = r1;
	r10 = flixel_graphics_atlas_FlxAtlas_set_powerOfTwo(r0,r7);
	r0->border = r8;
	if( r5 ) goto label$54c6871_42_38;
	r15 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r14 = r15->defaultMinSize;
	r5 = r14;
	label$54c6871_42_38:
	if( r6 ) goto label$54c6871_42_42;
	r15 = (flixel__graphics__atlas__$FlxAtlas)g$_flixel_graphics_atlas_FlxAtlas;
	r14 = r15->defaultMaxSize;
	r6 = r14;
	label$54c6871_42_42:
	if( r5 == NULL ) hl_null_access();
	r16 = r5->x;
	r11 = (int)r16;
	r11 = flixel_graphics_atlas_FlxAtlas_set_minWidth(r0,r11);
	r17 = r5->y;
	r11 = (int)r17;
	r11 = flixel_graphics_atlas_FlxAtlas_set_minHeight(r0,r11);
	if( r6 == NULL ) hl_null_access();
	r18 = r6->x;
	r19 = r5->x;
	if( !(r19 < r18) ) goto label$54c6871_42_56;
	r18 = r6->x;
	r20 = (int)r18;
	goto label$54c6871_42_57;
	label$54c6871_42_56:
	r20 = r0->minWidth;
	label$54c6871_42_57:
	r20 = flixel_graphics_atlas_FlxAtlas_set_maxWidth(r0,r20);
	r18 = r6->y;
	r19 = r5->x;
	if( !(r19 < r18) ) goto label$54c6871_42_64;
	r18 = r6->y;
	r21 = (int)r18;
	goto label$54c6871_42_65;
	label$54c6871_42_64:
	r21 = r0->minHeight;
	label$54c6871_42_65:
	r21 = flixel_graphics_atlas_FlxAtlas_set_maxHeight(r0,r21);
	r0->allowRotation = r9;
	flixel_graphics_atlas_FlxAtlas_initRoot(r0);
	r24 = (flixel__$FlxG)g$_flixel_FlxG;
	r23 = r24->signals;
	if( r23 == NULL ) hl_null_access();
	r22 = r23->preStateCreate;
	if( r22 == NULL ) hl_null_access();
	r25 = hl_alloc_closure_ptr(&t$fun_050deb7,flixel_graphics_atlas_FlxAtlas_onClear,r0);
	flixel_util__FlxSignal_FlxBaseSignal_add(((flixel__util___FlxSignal__FlxBaseSignal)r22),((vdynamic*)r25));
	return;
}

