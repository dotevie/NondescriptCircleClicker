// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/FlxState.h>
void flixel_group_FlxTypedGroup_draw(flixel__group__FlxTypedGroup);
void flixel_FlxSubState_draw(flixel__FlxSubState);
#include <flixel/system/frontEnds/InputFrontEnd.h>
#include <flixel/FlxG.h>
extern hl_type t$fun_70803ed;
extern hl_type t$_dyn;
void flixel_FlxSubState_destroy(flixel__FlxSubState);
extern flixel__$FlxG g$_flixel_FlxG;
void flixel_system_frontEnds_InputFrontEnd_onStateSwitch(flixel__system__frontEnds__InputFrontEnd);
extern hl_type t$vrt_39c5c14;
vdynamic* flixel_util_FlxDestroyUtil_destroy(vvirtual*);
void flixel_group_FlxTypedGroup_destroy(flixel__group__FlxTypedGroup);
#include <flixel/system/frontEnds/CameraFrontEnd.h>
int flixel_system_frontEnds_CameraFrontEnd_get_bgColor(flixel__system__frontEnds__CameraFrontEnd);
int flixel_system_frontEnds_CameraFrontEnd_set_bgColor(flixel__system__frontEnds__CameraFrontEnd,int);
extern hl_type t$flixel_util__FlxSignal_FlxSignal1;
void flixel_util__FlxSignal_FlxSignal1_new(flixel__util___FlxSignal__FlxSignal1);
void flixel_group_FlxTypedGroup_new(flixel__group__FlxTypedGroup,int*);

void flixel_FlxState_create(flixel__FlxState r0) {
	return;
}

void flixel_FlxState_draw(flixel__FlxState r0) {
	bool r2;
	flixel__FlxSubState r3;
	r2 = r0->persistentDraw;
	if( r2 ) goto label$b1f80b4_2_4;
	r3 = r0->subState;
	if( r3 ) goto label$b1f80b4_2_5;
	label$b1f80b4_2_4:
	flixel_group_FlxTypedGroup_draw(((flixel__group__FlxTypedGroup)r0));
	label$b1f80b4_2_5:
	r3 = r0->subState;
	if( !r3 ) goto label$b1f80b4_2_10;
	r3 = r0->subState;
	if( r3 == NULL ) hl_null_access();
	flixel_FlxSubState_draw(r3);
	label$b1f80b4_2_10:
	return;
}

void flixel_FlxState_openSubState(flixel__FlxState r0,flixel__FlxSubState r1) {
	bool r2;
	r2 = true;
	r0->_requestSubStateReset = r2;
	r0->_requestedSubState = r1;
	return;
}

void flixel_FlxState_closeSubState(flixel__FlxState r0) {
	bool r1;
	r1 = true;
	r0->_requestSubStateReset = r1;
	return;
}

void flixel_FlxState_resetSubState(flixel__FlxState r0) {
	flixel__util___FlxSignal__FlxSignal1 r4;
	bool r7;
	flixel__$FlxG r9;
	flixel__system__frontEnds__InputFrontEnd r8;
	vclosure *r3, *r6;
	vdynamic *r5;
	flixel__FlxSubState r2;
	r2 = r0->subState;
	if( !r2 ) goto label$b1f80b4_5_25;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->closeCallback;
	if( !r3 ) goto label$b1f80b4_5_11;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->closeCallback;
	if( r3 == NULL ) hl_null_access();
	r3->hasValue ? ((void (*)(vdynamic*))r3->fun)((vdynamic*)r3->value) : ((void (*)(void))r3->fun)();
	label$b1f80b4_5_11:
	r4 = r0->_subStateClosed;
	if( !r4 ) goto label$b1f80b4_5_20;
	r4 = r0->_subStateClosed;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->dispatch;
	r6 = (vclosure*)hl_dyn_castp(&r5,&t$_dyn,&t$fun_70803ed);
	if( r6 == NULL ) hl_null_access();
	r2 = r0->subState;
	r6->hasValue ? ((void (*)(vdynamic*,flixel__FlxSubState))r6->fun)((vdynamic*)r6->value,r2) : ((void (*)(flixel__FlxSubState))r6->fun)(r2);
	label$b1f80b4_5_20:
	r7 = r0->destroySubStates;
	if( !r7 ) goto label$b1f80b4_5_25;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	flixel_FlxSubState_destroy(r2);
	label$b1f80b4_5_25:
	r2 = r0->_requestedSubState;
	r0->subState = r2;
	r2 = NULL;
	r0->_requestedSubState = r2;
	r2 = r0->subState;
	if( !r2 ) goto label$b1f80b4_5_69;
	r7 = r0->persistentUpdate;
	if( r7 ) goto label$b1f80b4_5_37;
	r9 = (flixel__$FlxG)g$_flixel_FlxG;
	r8 = r9->inputs;
	if( r8 == NULL ) hl_null_access();
	flixel_system_frontEnds_InputFrontEnd_onStateSwitch(r8);
	label$b1f80b4_5_37:
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r2->_parentState = r0;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->_created;
	if( r7 ) goto label$b1f80b4_5_51;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r7 = true;
	r2->_created = r7;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	flixel_FlxState_create(((flixel__FlxState)r2));
	label$b1f80b4_5_51:
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->openCallback;
	if( !r3 ) goto label$b1f80b4_5_60;
	r2 = r0->subState;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->openCallback;
	if( r3 == NULL ) hl_null_access();
	r3->hasValue ? ((void (*)(vdynamic*))r3->fun)((vdynamic*)r3->value) : ((void (*)(void))r3->fun)();
	label$b1f80b4_5_60:
	r4 = r0->_subStateOpened;
	if( !r4 ) goto label$b1f80b4_5_69;
	r4 = r0->_subStateOpened;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->dispatch;
	r6 = (vclosure*)hl_dyn_castp(&r5,&t$_dyn,&t$fun_70803ed);
	if( r6 == NULL ) hl_null_access();
	r2 = r0->subState;
	r6->hasValue ? ((void (*)(vdynamic*,flixel__FlxSubState))r6->fun)((vdynamic*)r6->value,r2) : ((void (*)(flixel__FlxSubState))r6->fun)(r2);
	label$b1f80b4_5_69:
	return;
}

void flixel_FlxState_destroy(flixel__FlxState r0) {
	flixel__util___FlxSignal__FlxSignal1 r2;
	vvirtual *r3;
	vdynamic *r1;
	flixel__FlxSubState r5;
	r2 = r0->_subStateOpened;
	r3 = hl_to_virtual(&t$vrt_39c5c14,(vdynamic*)r2);
	r1 = flixel_util_FlxDestroyUtil_destroy(r3);
	r2 = r0->_subStateClosed;
	r3 = hl_to_virtual(&t$vrt_39c5c14,(vdynamic*)r2);
	r1 = flixel_util_FlxDestroyUtil_destroy(r3);
	r5 = r0->subState;
	if( !r5 ) goto label$b1f80b4_6_13;
	r5 = r0->subState;
	if( r5 == NULL ) hl_null_access();
	flixel_FlxSubState_destroy(r5);
	r5 = NULL;
	r0->subState = r5;
	label$b1f80b4_6_13:
	flixel_group_FlxTypedGroup_destroy(((flixel__group__FlxTypedGroup)r0));
	return;
}

bool flixel_FlxState_switchTo(flixel__FlxState r0,flixel__FlxState r1) {
	bool r2;
	r2 = true;
	return r2;
}

void flixel_FlxState_startOutro(flixel__FlxState r0,vclosure* r1) {
	if( r1 == NULL ) hl_null_access();
	r1->hasValue ? ((void (*)(vdynamic*))r1->fun)((vdynamic*)r1->value) : ((void (*)(void))r1->fun)();
	return;
}

void flixel_FlxState_onFocusLost(flixel__FlxState r0) {
	return;
}

void flixel_FlxState_onFocus(flixel__FlxState r0) {
	return;
}

void flixel_FlxState_onResize(flixel__FlxState r0,int r1,int r2) {
	return;
}

void flixel_FlxState_tryUpdate(flixel__FlxState r0,double r1) {
	bool r3;
	flixel__FlxSubState r4;
	r3 = r0->persistentUpdate;
	if( r3 ) goto label$b1f80b4_12_4;
	r4 = r0->subState;
	if( r4 ) goto label$b1f80b4_12_5;
	label$b1f80b4_12_4:
	((void (*)(flixel__FlxState,double))r0->$type->vobj_proto[3])(r0,r1);
	label$b1f80b4_12_5:
	r3 = r0->_requestSubStateReset;
	if( !r3 ) goto label$b1f80b4_12_10;
	r3 = false;
	r0->_requestSubStateReset = r3;
	flixel_FlxState_resetSubState(r0);
	label$b1f80b4_12_10:
	r4 = r0->subState;
	if( !r4 ) goto label$b1f80b4_12_15;
	r4 = r0->subState;
	if( r4 == NULL ) hl_null_access();
	flixel_FlxState_tryUpdate(((flixel__FlxState)r4),r1);
	label$b1f80b4_12_15:
	return;
}

int flixel_FlxState_get_bgColor(flixel__FlxState r0) {
	flixel__system__frontEnds__CameraFrontEnd r2;
	flixel__$FlxG r3;
	int r1;
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->cameras;
	if( r2 == NULL ) hl_null_access();
	r1 = flixel_system_frontEnds_CameraFrontEnd_get_bgColor(r2);
	return r1;
}

int flixel_FlxState_set_bgColor(flixel__FlxState r0,int r1) {
	flixel__system__frontEnds__CameraFrontEnd r3;
	flixel__$FlxG r4;
	int r2;
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->cameras;
	if( r3 == NULL ) hl_null_access();
	r2 = flixel_system_frontEnds_CameraFrontEnd_set_bgColor(r3,r1);
	return r2;
}

flixel__util___FlxSignal__FlxSignal1 flixel_FlxState_get_subStateOpened(flixel__FlxState r0) {
	flixel__util___FlxSignal__FlxSignal1 r2;
	r2 = r0->_subStateOpened;
	if( r2 ) goto label$b1f80b4_15_5;
	r2 = (flixel__util___FlxSignal__FlxSignal1)hl_alloc_obj(&t$flixel_util__FlxSignal_FlxSignal1);
	flixel_util__FlxSignal_FlxSignal1_new(r2);
	r0->_subStateOpened = r2;
	label$b1f80b4_15_5:
	r2 = r0->_subStateOpened;
	return r2;
}

flixel__util___FlxSignal__FlxSignal1 flixel_FlxState_get_subStateClosed(flixel__FlxState r0) {
	flixel__util___FlxSignal__FlxSignal1 r2;
	r2 = r0->_subStateClosed;
	if( r2 ) goto label$b1f80b4_16_5;
	r2 = (flixel__util___FlxSignal__FlxSignal1)hl_alloc_obj(&t$flixel_util__FlxSignal_FlxSignal1);
	flixel_util__FlxSignal_FlxSignal1_new(r2);
	r0->_subStateClosed = r2;
	label$b1f80b4_16_5:
	r2 = r0->_subStateClosed;
	return r2;
}

void flixel_FlxState_new(flixel__FlxState r0,int* r1) {
	bool r3;
	int r2, r5;
	if( r1 ) goto label$b1f80b4_17_3;
	r2 = 0;
	goto label$b1f80b4_17_4;
	label$b1f80b4_17_3:
	r2 = *r1;
	label$b1f80b4_17_4:
	r3 = false;
	r0->_requestSubStateReset = r3;
	r3 = true;
	r0->destroySubStates = r3;
	r3 = true;
	r0->persistentDraw = r3;
	r3 = false;
	r0->persistentUpdate = r3;
	r5 = r2;
	r1 = &r5;
	flixel_group_FlxTypedGroup_new(((flixel__group__FlxTypedGroup)r0),r1);
	return;
}

