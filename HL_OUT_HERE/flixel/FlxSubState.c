// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/FlxSubState.h>
#include <flixel/FlxG.h>
#include <flixel/FlxCamera.h>
#include <openfl/display/Graphics.h>
extern flixel__$FlxG g$_flixel_FlxG;
hl__types__ArrayObj flixel_FlxBasic_get_cameras(flixel__FlxBasic);
void flixel_FlxCamera_fill(flixel__FlxCamera,int,bool*,double*,openfl__display__Graphics);
void flixel_system_FlxBGSprite_draw(flixel__system__FlxBGSprite);
void flixel_FlxState_draw(flixel__FlxState);
void flixel_FlxState_destroy(flixel__FlxState);
void flixel_FlxState_closeSubState(flixel__FlxState);
#include <openfl/display/BitmapData.h>
#include <flixel/FlxSprite.h>
openfl__display__BitmapData flixel_FlxSprite_get_pixels(flixel__FlxSprite);
void openfl_display_BitmapData_setPixel32(openfl__display__BitmapData,int,int,int);
void flixel_FlxState_new(flixel__FlxState,int*);
extern hl_type t$flixel_system_FlxBGSprite;
void flixel_system_FlxBGSprite_new(flixel__system__FlxBGSprite);

void flixel_FlxSubState_draw(flixel__FlxSubState r0) {
	bool *r11;
	hl__types__ArrayObj r5;
	bool r2;
	flixel__$FlxG r3;
	openfl__display__Graphics r13;
	flixel__system__FlxBGSprite r14;
	double *r12;
	vdynamic *r9;
	varray *r10;
	flixel__FlxCamera r8;
	int r4, r6, r7;
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->renderBlit;
	if( !r2 ) goto label$3113bb8_1_25;
	r4 = 0;
	r5 = flixel_FlxBasic_get_cameras(((flixel__FlxBasic)r0));
	label$3113bb8_1_5:
	if( r5 == NULL ) hl_null_access();
	r7 = r5->length;
	if( r4 >= r7 ) goto label$3113bb8_1_24;
	r7 = r5->length;
	if( ((unsigned)r4) < ((unsigned)r7) ) goto label$3113bb8_1_13;
	r8 = NULL;
	goto label$3113bb8_1_16;
	label$3113bb8_1_13:
	r10 = r5->array;
	r9 = ((vdynamic**)(r10 + 1))[r4];
	r8 = (flixel__FlxCamera)r9;
	label$3113bb8_1_16:
	++r4;
	if( r8 == NULL ) hl_null_access();
	r6 = r0->_bgColor;
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	flixel_FlxCamera_fill(r8,r6,r11,r12,r13);
	goto label$3113bb8_1_5;
	label$3113bb8_1_24:
	goto label$3113bb8_1_28;
	label$3113bb8_1_25:
	r14 = r0->_bgSprite;
	if( r14 == NULL ) hl_null_access();
	flixel_system_FlxBGSprite_draw(r14);
	label$3113bb8_1_28:
	flixel_FlxState_draw(((flixel__FlxState)r0));
	return;
}

void flixel_FlxSubState_destroy(flixel__FlxSubState r0) {
	flixel__FlxState r3;
	vclosure *r2;
	flixel__system__FlxBGSprite r4;
	flixel_FlxState_destroy(((flixel__FlxState)r0));
	r2 = NULL;
	r0->closeCallback = r2;
	r2 = NULL;
	r0->openCallback = r2;
	r3 = NULL;
	r0->_parentState = r3;
	r4 = NULL;
	r0->_bgSprite = r4;
	return;
}

void flixel_FlxSubState_close(flixel__FlxSubState r0) {
	flixel__FlxState r2;
	flixel__FlxSubState r3;
	r2 = r0->_parentState;
	if( !r2 ) goto label$3113bb8_3_9;
	r2 = r0->_parentState;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->subState;
	if( r3 != r0 ) goto label$3113bb8_3_9;
	r2 = r0->_parentState;
	if( r2 == NULL ) hl_null_access();
	flixel_FlxState_closeSubState(r2);
	label$3113bb8_3_9:
	return;
}

int flixel_FlxSubState_get_bgColor(flixel__FlxSubState r0) {
	int r1;
	r1 = r0->_bgColor;
	return r1;
}

int flixel_FlxSubState_set_bgColor(flixel__FlxSubState r0,int r1) {
	bool r3;
	flixel__$FlxG r4;
	flixel__system__FlxBGSprite r5;
	int r7, r8;
	openfl__display__BitmapData r6;
	r4 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r4->renderTile;
	if( !r3 ) goto label$3113bb8_5_12;
	r5 = r0->_bgSprite;
	if( !r5 ) goto label$3113bb8_5_12;
	r5 = r0->_bgSprite;
	if( r5 == NULL ) hl_null_access();
	r6 = flixel_FlxSprite_get_pixels(((flixel__FlxSprite)r5));
	if( r6 == NULL ) hl_null_access();
	r7 = 0;
	r8 = 0;
	openfl_display_BitmapData_setPixel32(r6,r7,r8,r1);
	label$3113bb8_5_12:
	r0->_bgColor = r1;
	return r1;
}

void flixel_FlxSubState_new(flixel__FlxSubState r0,int* r1) {
	bool r3;
	flixel__$FlxG r6;
	vclosure *r5;
	flixel__system__FlxBGSprite r7;
	int r2, r8;
	if( r1 ) goto label$3113bb8_6_3;
	r2 = 0;
	goto label$3113bb8_6_4;
	label$3113bb8_6_3:
	r2 = *r1;
	label$3113bb8_6_4:
	r3 = false;
	r0->_created = r3;
	r1 = NULL;
	flixel_FlxState_new(((flixel__FlxState)r0),r1);
	r5 = NULL;
	r0->closeCallback = r5;
	r5 = NULL;
	r0->openCallback = r5;
	r6 = (flixel__$FlxG)g$_flixel_FlxG;
	r3 = r6->renderTile;
	if( !r3 ) goto label$3113bb8_6_18;
	r7 = (flixel__system__FlxBGSprite)hl_alloc_obj(&t$flixel_system_FlxBGSprite);
	flixel_system_FlxBGSprite_new(r7);
	r0->_bgSprite = r7;
	label$3113bb8_6_18:
	r8 = flixel_FlxSubState_set_bgColor(r0,r2);
	return;
}

