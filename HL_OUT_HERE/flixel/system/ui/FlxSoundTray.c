// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/system/ui/FlxSoundTray.h>
#include <flixel/FlxG.h>
#include <flixel/util/FlxSaveStatus.h>
#include <flixel/util/FlxSave.h>
#include <flixel/system/frontEnds/SoundFrontEnd.h>
double openfl_display_DisplayObject_get_y(openfl__display__DisplayObject);
double openfl_display_DisplayObject_get_height(openfl__display__DisplayObject);
extern flixel__$FlxG g$_flixel_FlxG;
double openfl_display_DisplayObject_set_y(openfl__display__DisplayObject,double);
bool openfl_display_DisplayObject_set_visible(openfl__display__DisplayObject,bool);
extern hl_type t$_bool;
bool flixel_util_FlxSave_flush(flixel__util__FlxSave,int*);
#include <openfl/media/Sound.h>
#include <flixel/sound/FlxSound.h>
#include <flixel/sound/FlxSoundGroup.h>
openfl__media__Sound flixel_system_FlxAssets_getSound(String);
flixel__sound__FlxSound flixel_system_frontEnds_SoundFrontEnd_load(flixel__system__frontEnds__SoundFrontEnd,vdynamic*,double*,bool*,flixel__sound__FlxSoundGroup,bool*,bool*,String,vclosure*,vclosure*);
flixel__sound__FlxSound flixel_sound_FlxSound_play(flixel__sound__FlxSound,bool*,double*,vdynamic*);
#include <hl/natives.h>
double openfl_display_DisplayObject_set_alpha(openfl__display__DisplayObject,double);
#include <openfl/display/MovieClip.h>
#include <flixel/FlxGame.h>
double openfl_display_DisplayObject_set_scaleX(openfl__display__DisplayObject,double);
double openfl_display_DisplayObject_set_scaleY(openfl__display__DisplayObject,double);
openfl__display__MovieClip openfl_Lib_get_current(void);
double openfl_display_DisplayObject_get_x(openfl__display__DisplayObject);
double openfl_display_DisplayObject_set_x(openfl__display__DisplayObject,double);
#include <openfl/text/TextField.h>
#include <openfl/text/TextFormat.h>
#include <flixel/system/FlxAssets.h>
extern String s$flixel_sounds_beep;
void openfl_display_Sprite_new(openfl__display__Sprite);
extern hl_type t$openfl_display_Bitmap;
extern hl_type t$openfl_display_BitmapData;
void openfl_display_BitmapData_new(openfl__display__BitmapData,int,int,bool*,int*);
void openfl_display_Bitmap_new(openfl__display__Bitmap,openfl__display__BitmapData,vdynamic*,bool*);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_addChild(openfl__display__DisplayObjectContainer,openfl__display__DisplayObject);
extern hl_type t$openfl_text_TextField;
void openfl_text_TextField_new(openfl__text__TextField);
double openfl_display_DisplayObject_get_width(openfl__display__DisplayObject);
double openfl_text_TextField_set_width(openfl__text__TextField,double);
double openfl_text_TextField_set_height(openfl__text__TextField,double);
bool openfl_text_TextField_set_multiline(openfl__text__TextField,bool);
bool openfl_text_TextField_set_wordWrap(openfl__text__TextField,bool);
bool openfl_text_TextField_set_selectable(openfl__text__TextField,bool);
extern hl_type t$openfl_text_TextFormat;
extern flixel__system__$FlxAssets g$_flixel_system_FlxAssets;
extern hl_type t$_i32;
void openfl_text_TextFormat_new(openfl__text__TextFormat,String,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,String,String,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*);
openfl__text__TextFormat openfl_text_TextField_set_defaultTextFormat(openfl__text__TextField,openfl__text__TextFormat);
extern String s$VOLUME;
String openfl_text_TextField_set_text(openfl__text__TextField,String);
double openfl_text_TextField_set_y(openfl__text__TextField,double);
extern hl_type t$hl_types_ArrayObj;
void hl_types_ArrayObj_new(hl__types__ArrayObj);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);

void flixel_system_ui_FlxSoundTray_update(flixel__system__ui__FlxSoundTray r0,double r1) {
	String r12, r13;
	venum *r9;
	bool r8, r14;
	flixel__$FlxG r7;
	flixel__system__frontEnds__SoundFrontEnd r16;
	flixel__util__FlxSave r10;
	double r3, r4, r5;
	int *r17;
	vdynamic *r15;
	int r6, r11;
	r3 = r0->_timer;
	r4 = 0.;
	if( !(r4 < r3) ) goto label$f6893e9_1_9;
	r3 = r0->_timer;
	r5 = 1000.;
	r4 = r1 / r5;
	r3 = r3 - r4;
	r0->_timer = r3;
	goto label$f6893e9_1_71;
	label$f6893e9_1_9:
	r3 = openfl_display_DisplayObject_get_y(((openfl__display__DisplayObject)r0));
	r4 = openfl_display_DisplayObject_get_height(((openfl__display__DisplayObject)r0));
	r4 = -r4;
	if( !(r4 < r3) ) goto label$f6893e9_1_71;
	r3 = openfl_display_DisplayObject_get_y(((openfl__display__DisplayObject)r0));
	r5 = 1000.;
	r4 = r1 / r5;
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r6 = r7->height;
	r5 = (double)r6;
	r4 = r4 * r5;
	r5 = 2.;
	r4 = r4 * r5;
	r3 = r3 - r4;
	r3 = openfl_display_DisplayObject_set_y(((openfl__display__DisplayObject)r0),r3);
	r3 = openfl_display_DisplayObject_get_y(((openfl__display__DisplayObject)r0));
	r4 = openfl_display_DisplayObject_get_height(((openfl__display__DisplayObject)r0));
	r4 = -r4;
	if( !(r4 >= r3) ) goto label$f6893e9_1_71;
	r8 = false;
	r8 = openfl_display_DisplayObject_set_visible(((openfl__display__DisplayObject)r0),r8);
	r8 = false;
	r0->active = r8;
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r10 = r7->save;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->status;
	if( r9 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r9);
	r11 = 1;
	if( r6 != r11 ) goto label$f6893e9_1_44;
	r12 = ((flixel_util_FlxSaveStatus_BOUND*)r9)->p0;
	r13 = ((flixel_util_FlxSaveStatus_BOUND*)r9)->p1;
	r14 = true;
	goto label$f6893e9_1_45;
	label$f6893e9_1_44:
	r14 = false;
	label$f6893e9_1_45:
	if( !r14 ) goto label$f6893e9_1_71;
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r10 = r7->save;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->data;
	if( r15 == NULL ) hl_null_access();
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r16 = r7->sound;
	if( r16 == NULL ) hl_null_access();
	r14 = r16->muted;
	hl_dyn_seti((vdynamic*)r15,140865507/*mute*/,&t$_bool,r14);
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r10 = r7->save;
	if( r10 == NULL ) hl_null_access();
	r15 = r10->data;
	if( r15 == NULL ) hl_null_access();
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r16 = r7->sound;
	if( r16 == NULL ) hl_null_access();
	r3 = r16->volume;
	hl_dyn_setd((vdynamic*)r15,525544164/*volume*/,r3);
	r7 = (flixel__$FlxG)g$_flixel_FlxG;
	r10 = r7->save;
	if( r10 == NULL ) hl_null_access();
	r17 = NULL;
	r14 = flixel_util_FlxSave_flush(r10,r17);
	label$f6893e9_1_71:
	return;
}

void flixel_system_ui_FlxSoundTray_show(flixel__system__ui__FlxSoundTray r0,bool* r1) {
	bool *r12, *r13;
	String r6;
	flixel__sound__FlxSoundGroup r11;
	hl__types__ArrayObj r22;
	bool r2, r4;
	flixel__$FlxG r9;
	flixel__system__frontEnds__SoundFrontEnd r8;
	openfl__media__Sound r5;
	openfl__display__Bitmap r25;
	double r17, r19;
	vclosure *r14, *r15;
	flixel__sound__FlxSound r7;
	vdynamic *r16, *r26;
	double *r10;
	varray *r27;
	int r18, r20, r21, r23, r24;
	if( r1 ) goto label$f6893e9_2_3;
	r2 = false;
	goto label$f6893e9_2_4;
	label$f6893e9_2_3:
	r2 = *r1;
	label$f6893e9_2_4:
	r4 = r0->silent;
	if( r4 ) goto label$f6893e9_2_29;
	if( !r2 ) goto label$f6893e9_2_9;
	r6 = r0->volumeUpSound;
	goto label$f6893e9_2_10;
	label$f6893e9_2_9:
	r6 = r0->volumeDownSound;
	label$f6893e9_2_10:
	r5 = flixel_system_FlxAssets_getSound(r6);
	if( !r5 ) goto label$f6893e9_2_29;
	r9 = (flixel__$FlxG)g$_flixel_FlxG;
	r8 = r9->sound;
	if( r8 == NULL ) hl_null_access();
	r10 = NULL;
	r1 = NULL;
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	r6 = NULL;
	r14 = NULL;
	r15 = NULL;
	r7 = flixel_system_frontEnds_SoundFrontEnd_load(r8,((vdynamic*)r5),r10,r1,r11,r12,r13,r6,r14,r15);
	if( r7 == NULL ) hl_null_access();
	r1 = NULL;
	r10 = NULL;
	r16 = NULL;
	r7 = flixel_sound_FlxSound_play(r7,r1,r10,r16);
	label$f6893e9_2_29:
	r17 = 1.;
	r0->_timer = r17;
	r17 = 0.;
	r17 = openfl_display_DisplayObject_set_y(((openfl__display__DisplayObject)r0),r17);
	r4 = true;
	r4 = openfl_display_DisplayObject_set_visible(((openfl__display__DisplayObject)r0),r4);
	r4 = true;
	r0->active = r4;
	r9 = (flixel__$FlxG)g$_flixel_FlxG;
	r8 = r9->sound;
	if( r8 == NULL ) hl_null_access();
	r17 = r8->volume;
	r19 = 10.;
	r17 = r17 * r19;
	r18 = hl_math_round(r17);
	r9 = (flixel__$FlxG)g$_flixel_FlxG;
	r8 = r9->sound;
	if( r8 == NULL ) hl_null_access();
	r4 = r8->muted;
	if( !r4 ) goto label$f6893e9_2_51;
	r20 = 0;
	r18 = r20;
	label$f6893e9_2_51:
	r20 = 0;
	r22 = r0->_bars;
	if( r22 == NULL ) hl_null_access();
	r21 = r22->length;
	label$f6893e9_2_55:
	if( r20 >= r21 ) goto label$f6893e9_2_86;
	r23 = r20;
	++r20;
	if( r23 >= r18 ) goto label$f6893e9_2_73;
	r22 = r0->_bars;
	if( r22 == NULL ) hl_null_access();
	r24 = r22->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$f6893e9_2_66;
	r25 = NULL;
	goto label$f6893e9_2_69;
	label$f6893e9_2_66:
	r27 = r22->array;
	r26 = ((vdynamic**)(r27 + 1))[r23];
	r25 = (openfl__display__Bitmap)r26;
	label$f6893e9_2_69:
	if( r25 == NULL ) hl_null_access();
	r17 = 1.;
	r17 = openfl_display_DisplayObject_set_alpha(((openfl__display__DisplayObject)r25),r17);
	goto label$f6893e9_2_85;
	label$f6893e9_2_73:
	r22 = r0->_bars;
	if( r22 == NULL ) hl_null_access();
	r24 = r22->length;
	if( ((unsigned)r23) < ((unsigned)r24) ) goto label$f6893e9_2_79;
	r25 = NULL;
	goto label$f6893e9_2_82;
	label$f6893e9_2_79:
	r27 = r22->array;
	r26 = ((vdynamic**)(r27 + 1))[r23];
	r25 = (openfl__display__Bitmap)r26;
	label$f6893e9_2_82:
	if( r25 == NULL ) hl_null_access();
	r17 = 0.5;
	r17 = openfl_display_DisplayObject_set_alpha(((openfl__display__DisplayObject)r25),r17);
	label$f6893e9_2_85:
	goto label$f6893e9_2_55;
	label$f6893e9_2_86:
	return;
}

void flixel_system_ui_FlxSoundTray_screenCenter(flixel__system__ui__FlxSoundTray r0) {
	flixel__$FlxG r9;
	openfl__display__MovieClip r5;
	openfl__display__Stage r4;
	double r1, r2, r6, r7;
	flixel__FlxGame r8;
	int r3;
	r1 = r0->_defaultScale;
	r1 = openfl_display_DisplayObject_set_scaleX(((openfl__display__DisplayObject)r0),r1);
	r1 = r0->_defaultScale;
	r1 = openfl_display_DisplayObject_set_scaleY(((openfl__display__DisplayObject)r0),r1);
	r1 = 0.5;
	r5 = openfl_Lib_get_current();
	if( r5 == NULL ) hl_null_access();
	r4 = r5->stage;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->stageWidth;
	r2 = (double)r3;
	r3 = r0->_width;
	r6 = (double)r3;
	r7 = r0->_defaultScale;
	r6 = r6 * r7;
	r2 = r2 - r6;
	r1 = r1 * r2;
	r9 = (flixel__$FlxG)g$_flixel_FlxG;
	r8 = r9->game;
	if( r8 == NULL ) hl_null_access();
	r2 = openfl_display_DisplayObject_get_x(((openfl__display__DisplayObject)r8));
	r1 = r1 - r2;
	r1 = openfl_display_DisplayObject_set_x(((openfl__display__DisplayObject)r0),r1);
	return;
}

void flixel_system_ui_FlxSoundTray_new(flixel__system__ui__FlxSoundTray r0) {
	bool *r9;
	String r2, r23, r24;
	openfl__text__TextFormat r17, r30;
	hl__types__ArrayObj r31;
	openfl__display__DisplayObject r13;
	bool r1, r16, r37;
	openfl__text__TextField r15;
	flixel__system__$FlxAssets r18;
	openfl__display__Bitmap r6, r14;
	double r3;
	vdynamic *r12, *r19, *r20, *r21, *r22, *r25, *r26, *r27, *r28, *r29;
	int *r11;
	openfl__display__BitmapData r7;
	int r4, r8, r10, r32, r33, r34, r35, r36;
	r1 = false;
	r0->silent = r1;
	r2 = (String)s$flixel_sounds_beep;
	r0->volumeDownSound = r2;
	r2 = (String)s$flixel_sounds_beep;
	r0->volumeUpSound = r2;
	r3 = 2.;
	r0->_defaultScale = r3;
	r4 = 80;
	r0->_width = r4;
	openfl_display_Sprite_new(((openfl__display__Sprite)r0));
	r1 = false;
	r1 = openfl_display_DisplayObject_set_visible(((openfl__display__DisplayObject)r0),r1);
	r3 = r0->_defaultScale;
	r3 = openfl_display_DisplayObject_set_scaleX(((openfl__display__DisplayObject)r0),r3);
	r3 = r0->_defaultScale;
	r3 = openfl_display_DisplayObject_set_scaleY(((openfl__display__DisplayObject)r0),r3);
	r6 = (openfl__display__Bitmap)hl_alloc_obj(&t$openfl_display_Bitmap);
	r7 = (openfl__display__BitmapData)hl_alloc_obj(&t$openfl_display_BitmapData);
	r4 = r0->_width;
	r8 = 30;
	r1 = true;
	r9 = &r1;
	r10 = 2130706432;
	r11 = &r10;
	openfl_display_BitmapData_new(r7,r4,r8,r9,r11);
	r12 = NULL;
	r9 = NULL;
	openfl_display_Bitmap_new(r6,r7,r12,r9);
	flixel_system_ui_FlxSoundTray_screenCenter(r0);
	r13 = openfl_display_DisplayObjectContainer_addChild(((openfl__display__DisplayObjectContainer)r0),((openfl__display__DisplayObject)r6));
	r15 = (openfl__text__TextField)hl_alloc_obj(&t$openfl_text_TextField);
	openfl_text_TextField_new(r15);
	r3 = openfl_display_DisplayObject_get_width(((openfl__display__DisplayObject)r6));
	r3 = openfl_text_TextField_set_width(r15,r3);
	r3 = openfl_display_DisplayObject_get_height(((openfl__display__DisplayObject)r6));
	r3 = openfl_text_TextField_set_height(r15,r3);
	r16 = true;
	r16 = openfl_text_TextField_set_multiline(r15,r16);
	r16 = true;
	r16 = openfl_text_TextField_set_wordWrap(r15,r16);
	r16 = false;
	r16 = openfl_text_TextField_set_selectable(r15,r16);
	r17 = (openfl__text__TextFormat)hl_alloc_obj(&t$openfl_text_TextFormat);
	r18 = (flixel__system__$FlxAssets)g$_flixel_system_FlxAssets;
	r2 = r18->FONT_DEFAULT;
	r4 = 10;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r4;
	r4 = 16777215;
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r4;
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = NULL;
	r24 = NULL;
	r25 = NULL;
	r26 = NULL;
	r27 = NULL;
	r28 = NULL;
	r29 = NULL;
	openfl_text_TextFormat_new(r17,r2,r12,r19,r20,r21,r22,r23,r24,r25,r26,r27,r28,r29);
	r4 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r4;
	r17->align = r12;
	r30 = openfl_text_TextField_set_defaultTextFormat(r15,r17);
	r13 = openfl_display_DisplayObjectContainer_addChild(((openfl__display__DisplayObjectContainer)r0),((openfl__display__DisplayObject)r15));
	r2 = (String)s$VOLUME;
	r2 = openfl_text_TextField_set_text(r15,r2);
	r3 = 16.;
	r3 = openfl_text_TextField_set_y(r15,r3);
	r4 = 10;
	r8 = 14;
	r31 = (hl__types__ArrayObj)hl_alloc_obj(&t$hl_types_ArrayObj);
	hl_types_ArrayObj_new(r31);
	r0->_bars = r31;
	r32 = 0;
	label$f6893e9_4_76:
	r34 = 10;
	if( r32 >= r34 ) goto label$f6893e9_4_107;
	r33 = r32;
	++r32;
	r14 = (openfl__display__Bitmap)hl_alloc_obj(&t$openfl_display_Bitmap);
	r7 = (openfl__display__BitmapData)hl_alloc_obj(&t$openfl_display_BitmapData);
	r34 = 4;
	r36 = 1;
	r35 = r33 + r36;
	r16 = false;
	r9 = &r16;
	r36 = -1;
	r11 = &r36;
	openfl_display_BitmapData_new(r7,r34,r35,r9,r11);
	r12 = NULL;
	r9 = NULL;
	openfl_display_Bitmap_new(r14,r7,r12,r9);
	r3 = (double)r4;
	r3 = openfl_display_DisplayObject_set_x(((openfl__display__DisplayObject)r14),r3);
	r3 = (double)r8;
	r3 = openfl_display_DisplayObject_set_y(((openfl__display__DisplayObject)r14),r3);
	r13 = openfl_display_DisplayObjectContainer_addChild(((openfl__display__DisplayObjectContainer)r0),((openfl__display__DisplayObject)r14));
	r31 = r0->_bars;
	if( r31 == NULL ) hl_null_access();
	r34 = hl_types_ArrayObj_push(r31,((vdynamic*)r14));
	r35 = 6;
	r34 = r4 + r35;
	r4 = r34;
	--r8;
	goto label$f6893e9_4_76;
	label$f6893e9_4_107:
	r3 = openfl_display_DisplayObject_get_height(((openfl__display__DisplayObject)r0));
	r3 = -r3;
	r3 = openfl_display_DisplayObject_set_y(((openfl__display__DisplayObject)r0),r3);
	r37 = false;
	r37 = openfl_display_DisplayObject_set_visible(((openfl__display__DisplayObject)r0),r37);
	return;
}

