// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/system/debug/console/ConsoleUtil.h>
extern hl_type t$hscript_Parser;
void hscript_Parser_new(hscript__Parser);
extern flixel__system__debug__console__$ConsoleUtil g$4c4ad89;
extern hl_type t$flixel_system_debug_console__ConsoleUtil_Interp;
void flixel_system_debug_console__ConsoleUtil_Interp_new(flixel__system__debug__console___ConsoleUtil__Interp);
extern String s$9eecb7d;
bool StringTools_endsWith(String,String);
extern hl_type t$_i32;
String String_substr(String,int,vdynamic*);
venum* hscript_Parser_parseString(hscript__Parser,String,String);
#include <hscript/Interp.h>
vdynamic* hscript_Interp_expr(hscript__Interp,venum*);
#include <haxe/ds/StringMap.h>
bool Reflect_isObject(vdynamic*);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
extern hl_type t$String;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl__Class g$_hl_Class;
bool Std_isOfType(vdynamic*,vdynamic*);
extern hl_type t$hl_Class;
extern hl_type t$_dyn;
hl__types__ArrayObj Type_getClassFields(hl__Class);
#include <hl/Enum.h>
extern hl__$Enum g$_hl_Enum;
extern hl_type t$hl_BaseType;
hl__types__ArrayObj Type_getEnumConstructs(hl__BaseType);
hl__Class Type_getClass(vdynamic*);
hl__types__ArrayObj Type_getInstanceFields(hl__Class);
extern String s$__constructs__;
bool hl_types_ArrayObj_remove(hl__types__ArrayObj,vdynamic*);
extern String s$get_;
bool StringTools_startsWith(String,String);
extern String s$set_;
bool hl_types_ArrayObj_contains(hl__types__ArrayObj,vdynamic*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
hl__types__ArrayObj flixel_system_debug_console_ConsoleUtil_sortFields(hl__types__ArrayObj);
extern String s$b14a7b8;
hl__types__ArrayObj flixel_util_FlxStringUtil_sortAlphabetically(hl__types__ArrayObj);
hl__types__ArrayObj hl_types_ArrayObj_concat(hl__types__ArrayObj,hl__types__ArrayObj);
#include <flixel/system/frontEnds/LogFrontEnd.h>
#include <flixel/FlxG.h>
#include <hl/types/ArrayDyn.h>
#include <flixel/system/debug/log/LogStyle.h>
extern flixel__$FlxG g$_flixel_FlxG;
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
extern flixel__system__debug__log__$LogStyle g$360f7aa;
void flixel_system_frontEnds_LogFrontEnd_advanced(flixel__system__frontEnds__LogFrontEnd,vdynamic*,flixel__system__debug__log__LogStyle,bool*);

void flixel_system_debug_console_ConsoleUtil_init() {
	hscript__Parser r0;
	bool r3;
	flixel__system__debug__console__$ConsoleUtil r2;
	flixel__system__debug__console___ConsoleUtil__Interp r4;
	r0 = (hscript__Parser)hl_alloc_obj(&t$hscript_Parser);
	hscript_Parser_new(r0);
	r2 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r2->parser = r0;
	r2 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r0 = r2->parser;
	if( r0 == NULL ) hl_null_access();
	r3 = true;
	r0->allowJSON = r3;
	r2 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r0 = r2->parser;
	if( r0 == NULL ) hl_null_access();
	r3 = true;
	r0->allowTypes = r3;
	r4 = (flixel__system__debug__console___ConsoleUtil__Interp)hl_alloc_obj(&t$flixel_system_debug_console__ConsoleUtil_Interp);
	flixel_system_debug_console__ConsoleUtil_Interp_new(r4);
	r2 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r2->interp = r4;
	return;
}

venum* flixel_system_debug_console_ConsoleUtil_parseCommand(String r0) {
	String r2, r3;
	hscript__Parser r8;
	venum *r7;
	flixel__system__debug__console__$ConsoleUtil r9;
	bool r1;
	vdynamic *r6;
	int r4, r5;
	r3 = (String)s$9eecb7d;
	r1 = StringTools_endsWith(r0,r3);
	if( !r1 ) goto label$81b5a9f_2_9;
	if( r0 == NULL ) hl_null_access();
	r4 = 0;
	r5 = -1;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r5;
	r2 = String_substr(r0,r4,r6);
	r0 = r2;
	label$81b5a9f_2_9:
	r9 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r8 = r9->parser;
	if( r8 == NULL ) hl_null_access();
	r3 = NULL;
	r7 = hscript_Parser_parseString(r8,r0,r3);
	return r7;
}

vdynamic* flixel_system_debug_console_ConsoleUtil_runCommand(String r0) {
	venum *r4;
	flixel__system__debug__console__$ConsoleUtil r3;
	flixel__system__debug__console___ConsoleUtil__Interp r2;
	vdynamic *r1;
	r3 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r2 = r3->interp;
	if( r2 == NULL ) hl_null_access();
	r4 = flixel_system_debug_console_ConsoleUtil_parseCommand(r0);
	r1 = hscript_Interp_expr(((hscript__Interp)r2),r4);
	return r1;
}

vdynamic* flixel_system_debug_console_ConsoleUtil_runExpr(venum* r0) {
	flixel__system__debug__console__$ConsoleUtil r3;
	flixel__system__debug__console___ConsoleUtil__Interp r2;
	vdynamic *r1;
	r3 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r2 = r3->interp;
	if( r2 == NULL ) hl_null_access();
	r1 = hscript_Interp_expr(((hscript__Interp)r2),r0);
	return r1;
}

void flixel_system_debug_console_ConsoleUtil_registerObject(String r0,vdynamic* r1) {
	haxe__ds__StringMap r4;
	flixel__system__debug__console__$ConsoleUtil r6;
	bool r3;
	flixel__system__debug__console___ConsoleUtil__Interp r5;
	if( !r1 ) goto label$81b5a9f_5_3;
	r3 = Reflect_isObject(r1);
	if( !r3 ) goto label$81b5a9f_5_9;
	label$81b5a9f_5_3:
	r6 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r5 = r6->interp;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->variables;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r0,r1);
	label$81b5a9f_5_9:
	return;
}

void flixel_system_debug_console_ConsoleUtil_registerFunction(String r0,vdynamic* r1) {
	haxe__ds__StringMap r6;
	hl_type *r2;
	flixel__system__debug__console__$ConsoleUtil r8;
	flixel__system__debug__console___ConsoleUtil__Interp r7;
	int r4, r5;
	r2 = r1 ? ((vdynamic*)r1)->t : &hlt_void;
	r4 = r2->kind;
	r5 = 10;
	if( r4 != r5 ) goto label$81b5a9f_6_10;
	r8 = (flixel__system__debug__console__$ConsoleUtil)g$4c4ad89;
	r7 = r8->interp;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->variables;
	if( r6 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r6,r0,r1);
	label$81b5a9f_6_10:
	return;
}

hl__types__ArrayObj flixel_system_debug_console_ConsoleUtil_getFields(vdynamic* r0) {
	String r10, r14, r15;
	hl__BaseType r7;
	hl__Class r9;
	hl__types__ArrayObj r1, r8, r13;
	hl_type *r3;
	bool r5;
	vdynamic *r6, *r16;
	int r4, r11, r12;
	varray *r2;
	r3 = &t$String;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r7 = (hl__BaseType)g$_hl_Class;
	r5 = Std_isOfType(r0,((vdynamic*)r7));
	if( !r5 ) goto label$81b5a9f_7_11;
	r9 = (hl__Class)hl_dyn_castp(&r0,&t$_dyn,&t$hl_Class);
	r8 = Type_getClassFields(r9);
	r1 = r8;
	goto label$81b5a9f_7_23;
	label$81b5a9f_7_11:
	r7 = (hl__BaseType)g$_hl_Enum;
	r5 = Std_isOfType(r0,((vdynamic*)r7));
	if( !r5 ) goto label$81b5a9f_7_18;
	r7 = (hl__BaseType)hl_dyn_castp(&r0,&t$_dyn,&t$hl_BaseType);
	r8 = Type_getEnumConstructs(r7);
	r1 = r8;
	goto label$81b5a9f_7_23;
	label$81b5a9f_7_18:
	r5 = Reflect_isObject(r0);
	if( !r5 ) goto label$81b5a9f_7_23;
	r9 = Type_getClass(r0);
	r8 = Type_getInstanceFields(r9);
	r1 = r8;
	label$81b5a9f_7_23:
	if( r1 == NULL ) hl_null_access();
	r10 = (String)s$__constructs__;
	r5 = hl_types_ArrayObj_remove(r1,((vdynamic*)r10));
	r3 = &t$String;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r8 = hl_types_ArrayObj_alloc(r2);
	r4 = 0;
	label$81b5a9f_7_31:
	if( r1 == NULL ) hl_null_access();
	r12 = r1->length;
	if( r4 >= r12 ) goto label$81b5a9f_7_63;
	r12 = r1->length;
	if( ((unsigned)r4) < ((unsigned)r12) ) goto label$81b5a9f_7_39;
	r10 = NULL;
	goto label$81b5a9f_7_42;
	label$81b5a9f_7_39:
	r2 = r1->array;
	r6 = ((vdynamic**)(r2 + 1))[r4];
	r10 = (String)r6;
	label$81b5a9f_7_42:
	++r4;
	r15 = (String)s$get_;
	r5 = StringTools_startsWith(r10,r15);
	if( r5 ) goto label$81b5a9f_7_49;
	r15 = (String)s$set_;
	r5 = StringTools_startsWith(r10,r15);
	if( !r5 ) goto label$81b5a9f_7_60;
	label$81b5a9f_7_49:
	if( r10 == NULL ) hl_null_access();
	r11 = 4;
	r16 = NULL;
	r14 = String_substr(r10,r11,r16);
	r5 = hl_types_ArrayObj_contains(r1,((vdynamic*)r14));
	if( r5 ) goto label$81b5a9f_7_59;
	if( r8 == NULL ) hl_null_access();
	r5 = hl_types_ArrayObj_contains(r8,((vdynamic*)r14));
	if( r5 ) goto label$81b5a9f_7_59;
	r11 = hl_types_ArrayObj_push(r8,((vdynamic*)r14));
	label$81b5a9f_7_59:
	goto label$81b5a9f_7_62;
	label$81b5a9f_7_60:
	if( r8 == NULL ) hl_null_access();
	r11 = hl_types_ArrayObj_push(r8,((vdynamic*)r10));
	label$81b5a9f_7_62:
	goto label$81b5a9f_7_31;
	label$81b5a9f_7_63:
	r13 = flixel_system_debug_console_ConsoleUtil_sortFields(r8);
	return r13;
}

hl__types__ArrayObj flixel_system_debug_console_ConsoleUtil_sortFields(hl__types__ArrayObj r0) {
	String r9, r12;
	hl__types__ArrayObj r1, r5, r6;
	hl_type *r3;
	bool r11, r13;
	vdynamic *r10;
	int r4, r7, r8;
	varray *r2;
	r3 = &t$String;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r1 = hl_types_ArrayObj_alloc(r2);
	r3 = &t$String;
	r4 = 0;
	r2 = hl_alloc_array(r3,r4);
	r5 = hl_types_ArrayObj_alloc(r2);
	r4 = 0;
	r6 = r0;
	label$81b5a9f_8_10:
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	if( r4 >= r8 ) goto label$81b5a9f_8_34;
	r8 = r6->length;
	if( ((unsigned)r4) < ((unsigned)r8) ) goto label$81b5a9f_8_18;
	r9 = NULL;
	goto label$81b5a9f_8_21;
	label$81b5a9f_8_18:
	r2 = r6->array;
	r10 = ((vdynamic**)(r2 + 1))[r4];
	r9 = (String)r10;
	label$81b5a9f_8_21:
	++r4;
	r12 = (String)s$b14a7b8;
	r11 = StringTools_startsWith(r9,r12);
	if( !r11 ) goto label$81b5a9f_8_29;
	if( r1 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r1,((vdynamic*)r9));
	r13 = false;
	goto label$81b5a9f_8_30;
	label$81b5a9f_8_29:
	r13 = true;
	label$81b5a9f_8_30:
	if( !r13 ) goto label$81b5a9f_8_33;
	if( r5 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r5,((vdynamic*)r9));
	label$81b5a9f_8_33:
	goto label$81b5a9f_8_10;
	label$81b5a9f_8_34:
	r6 = flixel_util_FlxStringUtil_sortAlphabetically(r5);
	r6 = flixel_util_FlxStringUtil_sortAlphabetically(r1);
	if( r5 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_concat(r5,r1);
	return r6;
}

void flixel_system_debug_console_ConsoleUtil_log(vdynamic* r0) {
	bool *r10;
	flixel__system__frontEnds__LogFrontEnd r2;
	hl__types__ArrayObj r8;
	hl_type *r6;
	bool r9;
	flixel__system__debug__log__$LogStyle r12;
	flixel__$FlxG r3;
	hl__types__ArrayDyn r4;
	flixel__system__debug__log__LogStyle r11;
	int r7;
	varray *r5;
	r3 = (flixel__$FlxG)g$_flixel_FlxG;
	r2 = r3->log;
	if( r2 == NULL ) hl_null_access();
	r6 = &t$_dyn;
	r7 = 1;
	r5 = hl_alloc_array(r6,r7);
	r7 = 0;
	((vdynamic**)(r5 + 1))[r7] = r0;
	r8 = hl_types_ArrayObj_alloc(r5);
	r9 = true;
	r10 = &r9;
	r4 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r8),r10);
	r12 = (flixel__system__debug__log__$LogStyle)g$360f7aa;
	r11 = r12->CONSOLE;
	r10 = NULL;
	flixel_system_frontEnds_LogFrontEnd_advanced(r2,((vdynamic*)r4),r11,r10);
	return;
}

