// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/system/debug/interaction/tools/Mover.h>
#include <flixel/system/debug/interaction/tools/_Mover/GraphicMoverTool.h>
flixel__system__debug__interaction__tools__Tool flixel_system_debug_interaction_tools_Tool_init(flixel__system__debug__interaction__tools__Tool,flixel__system__debug__interaction__Interaction);
extern hl_type t$flixel_math_FlxBasePoint;
void flixel_math_FlxBasePoint_new(flixel__math__FlxBasePoint,double*,double*);
extern String s$Mover;
extern String s$Shift;
extern flixel__system__debug__interaction__tools___Mover__$GraphicMoverTool g$af97da8;
void flixel_system_debug_interaction_tools_Tool_setButton(flixel__system__debug__interaction__tools__Tool,hl__Class);
extern hl_type t$flixel_system_debug_interaction_tools__Mover_GraphicMoverTool;
void flixel_system_debug_interaction_tools__Mover_GraphicMoverTool_new(flixel__system__debug__interaction__tools___Mover__GraphicMoverTool,int,int,vdynamic*,vdynamic*);
void flixel_system_debug_interaction_tools_Tool_setCursor(flixel__system__debug__interaction__tools__Tool,openfl__display__BitmapData);
bool flixel_system_debug_interaction_tools_Tool_isActive(flixel__system__debug__interaction__tools__Tool);
bool flixel_system_debug_interaction_Interaction_keyPressed(flixel__system__debug__interaction__Interaction,int);
void flixel_system_debug_interaction_tools_Mover_startDragging(flixel__system__debug__interaction__tools__Mover);
void flixel_system_debug_interaction_tools_Mover_doDragging(flixel__system__debug__interaction__tools__Mover);
void flixel_system_debug_interaction_tools_Mover_stopDragging(flixel__system__debug__interaction__tools__Mover);
#include <flixel/system/debug/interaction/tools/Pointer.h>
extern flixel__system__debug__interaction__tools__$Pointer g$3e1228d;
bool Std_isOfType(vdynamic*,vdynamic*);
extern hl_type t$flixel_system_debug_interaction_tools_Pointer;
extern hl_type t$flixel_system_debug_interaction_tools_Tool;
void flixel_system_debug_interaction_tools_Pointer_cancelSelection(flixel__system__debug__interaction__tools__Pointer);
#include <flixel/group/FlxTypedGroup.h>
#include <flixel/FlxObject.h>
extern flixel__$FlxObject g$_flixel_FlxObject;
void flixel_system_debug_interaction_tools_Tool_new(flixel__system__debug__interaction__tools__Tool);

flixel__system__debug__interaction__tools__Tool flixel_system_debug_interaction_tools_Mover_init(flixel__system__debug__interaction__tools__Mover r0,flixel__system__debug__interaction__Interaction r1) {
	String r10;
	flixel__system__debug__interaction__tools___Mover__$GraphicMoverTool r11;
	flixel__math__FlxBasePoint r3, r5;
	flixel__system__debug__interaction__tools___Mover__GraphicMoverTool r12;
	flixel__system__debug__interaction__tools__Tool r2;
	double r4, r7;
	vdynamic *r15, *r16;
	double *r6, *r8;
	int r13, r14;
	r2 = flixel_system_debug_interaction_tools_Tool_init(((flixel__system__debug__interaction__tools__Tool)r0),r1);
	r3 = (flixel__math__FlxBasePoint)hl_alloc_obj(&t$flixel_math_FlxBasePoint);
	if( r1 == NULL ) hl_null_access();
	r5 = r1->flixelPointer;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->x;
	r6 = &r4;
	r5 = r1->flixelPointer;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->x;
	r8 = &r7;
	flixel_math_FlxBasePoint_new(r3,r6,r8);
	r0->_lastCursorPosition = r3;
	r10 = (String)s$Mover;
	r0->_name = r10;
	r10 = (String)s$Shift;
	r0->_shortcut = r10;
	r11 = (flixel__system__debug__interaction__tools___Mover__$GraphicMoverTool)g$af97da8;
	flixel_system_debug_interaction_tools_Tool_setButton(((flixel__system__debug__interaction__tools__Tool)r0),((hl__Class)r11));
	r12 = (flixel__system__debug__interaction__tools___Mover__GraphicMoverTool)hl_alloc_obj(&t$flixel_system_debug_interaction_tools__Mover_GraphicMoverTool);
	r13 = 0;
	r14 = 0;
	r15 = NULL;
	r16 = NULL;
	flixel_system_debug_interaction_tools__Mover_GraphicMoverTool_new(r12,r13,r14,r15,r16);
	flixel_system_debug_interaction_tools_Tool_setCursor(((flixel__system__debug__interaction__tools__Tool)r0),((openfl__display__BitmapData)r12));
	return ((flixel__system__debug__interaction__tools__Tool)r0);
}

void flixel_system_debug_interaction_tools_Mover_update(flixel__system__debug__interaction__tools__Mover r0) {
	flixel__math__FlxBasePoint r6, r7;
	bool r2;
	flixel__system__debug__interaction__Interaction r3;
	double r5;
	int r4;
	r2 = flixel_system_debug_interaction_tools_Tool_isActive(((flixel__system__debug__interaction__tools__Tool)r0));
	if( r2 ) goto label$f18d39d_2_8;
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r4 = 16;
	r2 = flixel_system_debug_interaction_Interaction_keyPressed(r3,r4);
	if( r2 ) goto label$f18d39d_2_8;
	return;
	label$f18d39d_2_8:
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->pointerPressed;
	if( !r2 ) goto label$f18d39d_2_16;
	r2 = r0->_dragging;
	if( r2 ) goto label$f18d39d_2_16;
	flixel_system_debug_interaction_tools_Mover_startDragging(r0);
	goto label$f18d39d_2_29;
	label$f18d39d_2_16:
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->pointerPressed;
	if( !r2 ) goto label$f18d39d_2_24;
	r2 = r0->_dragging;
	if( !r2 ) goto label$f18d39d_2_24;
	flixel_system_debug_interaction_tools_Mover_doDragging(r0);
	goto label$f18d39d_2_29;
	label$f18d39d_2_24:
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->pointerJustReleased;
	if( !r2 ) goto label$f18d39d_2_29;
	flixel_system_debug_interaction_tools_Mover_stopDragging(r0);
	label$f18d39d_2_29:
	r6 = r0->_lastCursorPosition;
	if( r6 == NULL ) hl_null_access();
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->flixelPointer;
	if( r7 == NULL ) hl_null_access();
	r5 = r7->x;
	r5 = ((double (*)(flixel__math__FlxBasePoint,double))r6->$type->vobj_proto[3])(r6,r5);
	r6 = r0->_lastCursorPosition;
	if( r6 == NULL ) hl_null_access();
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->flixelPointer;
	if( r7 == NULL ) hl_null_access();
	r5 = r7->y;
	r5 = ((double (*)(flixel__math__FlxBasePoint,double))r6->$type->vobj_proto[4])(r6,r5);
	return;
}

void flixel_system_debug_interaction_tools_Mover_stopDragging(flixel__system__debug__interaction__tools__Mover r0) {
	bool r1;
	r1 = false;
	r0->_dragging = r1;
	return;
}

void flixel_system_debug_interaction_tools_Mover_startDragging(flixel__system__debug__interaction__tools__Mover r0) {
	flixel__system__debug__interaction__tools__Pointer r6;
	flixel__system__debug__interaction__tools__Tool r3;
	bool r2;
	flixel__system__debug__interaction__Interaction r4;
	flixel__system__debug__interaction__tools__$Pointer r5;
	r2 = r0->_dragging;
	if( !r2 ) goto label$f18d39d_4_3;
	return;
	label$f18d39d_4_3:
	r2 = true;
	r0->_dragging = r2;
	r2 = flixel_system_debug_interaction_tools_Tool_isActive(((flixel__system__debug__interaction__tools__Tool)r0));
	if( r2 ) goto label$f18d39d_4_19;
	r4 = r0->_brain;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->activeTool;
	r5 = (flixel__system__debug__interaction__tools__$Pointer)g$3e1228d;
	r2 = Std_isOfType(((vdynamic*)r3),((vdynamic*)r5));
	if( !r2 ) goto label$f18d39d_4_19;
	r4 = r0->_brain;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->activeTool;
	r6 = (flixel__system__debug__interaction__tools__Pointer)hl_dyn_castp(&r3,&t$flixel_system_debug_interaction_tools_Tool,&t$flixel_system_debug_interaction_tools_Pointer);
	if( r6 == NULL ) hl_null_access();
	flixel_system_debug_interaction_tools_Pointer_cancelSelection(r6);
	label$f18d39d_4_19:
	return;
}

void flixel_system_debug_interaction_tools_Mover_doDragging(flixel__system__debug__interaction__tools__Mover r0) {
	hl__types__ArrayObj r8;
	flixel__math__FlxBasePoint r2;
	bool r14;
	flixel__FlxObject r11;
	flixel__group__FlxTypedGroup r9;
	flixel__system__debug__interaction__Interaction r3;
	flixel__$FlxObject r15;
	double r1, r4, r6;
	vdynamic *r12;
	varray *r13;
	int r7, r10;
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->flixelPointer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->x;
	r2 = r0->_lastCursorPosition;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->x;
	r1 = r1 - r4;
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->flixelPointer;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->y;
	r2 = r0->_lastCursorPosition;
	if( r2 == NULL ) hl_null_access();
	r6 = r2->y;
	r4 = r4 - r6;
	r7 = 0;
	r3 = r0->_brain;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->selectedItems;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->members;
	label$f18d39d_5_24:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	if( r7 >= r10 ) goto label$f18d39d_5_49;
	r10 = r8->length;
	if( ((unsigned)r7) < ((unsigned)r10) ) goto label$f18d39d_5_32;
	r11 = NULL;
	goto label$f18d39d_5_35;
	label$f18d39d_5_32:
	r13 = r8->array;
	r12 = ((vdynamic**)(r13 + 1))[r7];
	r11 = (flixel__FlxObject)r12;
	label$f18d39d_5_35:
	++r7;
	r15 = (flixel__$FlxObject)g$_flixel_FlxObject;
	r14 = Std_isOfType(((vdynamic*)r11),((vdynamic*)r15));
	if( r14 ) goto label$f18d39d_5_40;
	goto label$f18d39d_5_24;
	label$f18d39d_5_40:
	if( !r11 ) goto label$f18d39d_5_48;
	if( r11 == NULL ) hl_null_access();
	r6 = r11->x;
	r6 = r6 + r1;
	r6 = ((double (*)(flixel__FlxObject,double))r11->$type->vobj_proto[22])(r11,r6);
	r6 = r11->y;
	r6 = r6 + r4;
	r6 = ((double (*)(flixel__FlxObject,double))r11->$type->vobj_proto[23])(r11,r6);
	label$f18d39d_5_48:
	goto label$f18d39d_5_24;
	label$f18d39d_5_49:
	return;
}

void flixel_system_debug_interaction_tools_Mover_new(flixel__system__debug__interaction__tools__Mover r0) {
	bool r1;
	r1 = false;
	r0->_dragging = r1;
	flixel_system_debug_interaction_tools_Tool_new(((flixel__system__debug__interaction__tools__Tool)r0));
	return;
}

