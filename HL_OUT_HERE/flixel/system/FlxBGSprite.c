// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/system/FlxBGSprite.h>
#include <flixel/system/frontEnds/BitmapFrontEnd.h>
#include <flixel/FlxG.h>
void flixel_FlxSprite_new(flixel__FlxSprite,vdynamic*,vdynamic*,vdynamic*);
extern flixel__$FlxG g$_flixel_FlxG;
extern String s$bg_graphic_;
String flixel_system_frontEnds_BitmapFrontEnd_getUniqueKey(flixel__system__frontEnds__BitmapFrontEnd,String);
flixel__FlxSprite flixel_FlxSprite_makeGraphic(flixel__FlxSprite,int,int,int*,bool*,String);
#include <flixel/FlxCamera.h>
hl__types__ArrayObj flixel_FlxBasic_get_cameras(flixel__FlxBasic);
#include <openfl/geom/Matrix.h>
void openfl_geom_Matrix_identity(openfl__geom__Matrix);
void openfl_geom_Matrix_scale(openfl__geom__Matrix,double,double);
void flixel_FlxCamera_drawPixels(flixel__FlxCamera,flixel__graphics__frames__FlxFrame,openfl__display__BitmapData,flixel__math__FlxMatrix,openfl__geom__ColorTransform,vdynamic*,vdynamic*,flixel__graphics__tile__FlxGraphicsShader);

void flixel_system_FlxBGSprite_new(flixel__system__FlxBGSprite r0) {
	String r12;
	bool *r11;
	flixel__math__FlxBasePoint r15;
	bool r10;
	flixel__$FlxG r14;
	flixel__system__frontEnds__BitmapFrontEnd r13;
	double r16;
	int *r9;
	vdynamic *r2, *r3, *r4;
	int r6, r7, r8;
	flixel__FlxSprite r5;
	r2 = NULL;
	r3 = NULL;
	r4 = NULL;
	flixel_FlxSprite_new(((flixel__FlxSprite)r0),r2,r3,r4);
	r6 = 1;
	r7 = 1;
	r8 = -1;
	r9 = &r8;
	r10 = true;
	r11 = &r10;
	r14 = (flixel__$FlxG)g$_flixel_FlxG;
	r13 = r14->bitmap;
	if( r13 == NULL ) hl_null_access();
	r12 = (String)s$bg_graphic_;
	r12 = flixel_system_frontEnds_BitmapFrontEnd_getUniqueKey(r13,r12);
	r5 = flixel_FlxSprite_makeGraphic(((flixel__FlxSprite)r0),r6,r7,r9,r11,r12);
	r15 = r0->scrollFactor;
	if( r15 == NULL ) hl_null_access();
	r6 = 0;
	r16 = (double)r6;
	r16 = ((double (*)(flixel__math__FlxBasePoint,double))r15->$type->vobj_proto[3])(r15,r16);
	r6 = 0;
	r16 = (double)r6;
	r16 = ((double (*)(flixel__math__FlxBasePoint,double))r15->$type->vobj_proto[4])(r15,r16);
	return;
}

void flixel_system_FlxBGSprite_draw(flixel__system__FlxBGSprite r0) {
	hl__types__ArrayObj r3;
	bool r9;
	flixel__graphics__tile__FlxGraphicsShader r20;
	openfl__geom__ColorTransform r17;
	flixel__graphics__frames__FlxFrame r15;
	double r11, r12, r13, r14;
	flixel__math__FlxMatrix r10;
	vdynamic *r7, *r18, *r19;
	openfl__display__BitmapData r16;
	varray *r8;
	flixel__FlxCamera r6;
	int r1, r4, r5;
	r1 = 0;
	r3 = flixel_FlxBasic_get_cameras(((flixel__FlxBasic)r0));
	label$9e49447_2_2:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r1 >= r5 ) goto label$9e49447_2_47;
	r5 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r5) ) goto label$9e49447_2_10;
	r6 = NULL;
	goto label$9e49447_2_13;
	label$9e49447_2_10:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r1];
	r6 = (flixel__FlxCamera)r7;
	label$9e49447_2_13:
	++r1;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->visible;
	if( !r9 ) goto label$9e49447_2_19;
	r9 = r6->exists;
	if( r9 ) goto label$9e49447_2_20;
	label$9e49447_2_19:
	goto label$9e49447_2_2;
	label$9e49447_2_20:
	r10 = r0->_matrix;
	if( r10 == NULL ) hl_null_access();
	openfl_geom_Matrix_identity(((openfl__geom__Matrix)r10));
	r10 = r0->_matrix;
	if( r10 == NULL ) hl_null_access();
	r4 = r6->width;
	r11 = (double)r4;
	r12 = r6->viewMarginX;
	r13 = 2.;
	r12 = r12 * r13;
	r11 = r11 - r12;
	r4 = r6->height;
	r12 = (double)r4;
	r13 = r6->viewMarginY;
	r14 = 2.;
	r13 = r13 * r14;
	r12 = r12 - r13;
	openfl_geom_Matrix_scale(((openfl__geom__Matrix)r10),r11,r12);
	r15 = r0->frame;
	r16 = NULL;
	r10 = r0->_matrix;
	r17 = r0->colorTransform;
	r18 = NULL;
	r19 = NULL;
	r20 = NULL;
	flixel_FlxCamera_drawPixels(r6,r15,r16,r10,r17,r18,r19,r20);
	goto label$9e49447_2_2;
	label$9e49447_2_47:
	return;
}

