// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <flixel/system/FlxBasePreloader.h>
#include <openfl/display/MovieClip.h>
void flixel_system__FlxBasePreloader_DefaultPreloader_onInit(flixel__system___FlxBasePreloader__DefaultPreloader);
openfl__display__MovieClip openfl_Lib_get_current(void);
extern hl_type t$_i32;
vdynamic* openfl_display_Stage_set_scaleMode(openfl__display__Stage,vdynamic*);
extern String s$enterFrame;
void flixel_system_FlxBasePreloader_onEnterFrame(flixel__system__FlxBasePreloader,openfl__events__Event);
extern hl_type t$fun_77a2e2c;
void wrapt$fun_c6e0b11(vclosure*,vdynamic*);
extern hl_type t$fun_c6e0b11;
void openfl_display_DisplayObject_addEventListener(openfl__display__DisplayObject,String,vclosure*,bool*,int*,bool*);
void flixel_system_FlxBasePreloader_checkSiteLock(flixel__system__FlxBasePreloader);
void flixel_system__FlxBasePreloader_DefaultPreloader_onUpdate(flixel__system___FlxBasePreloader__DefaultPreloader,int,int);
#include <_std/Date.h>
Date Date_now(void);
double Date_getTime(Date);
void openfl_display_DisplayObject_removeEventListener(openfl__display__DisplayObject,String,vclosure*,bool*);
void flixel_system__FlxBasePreloader_DefaultPreloader_onLoaded(flixel__system___FlxBasePreloader__DefaultPreloader);
#include <hl/types/ArrayDyn.h>
extern hl_type t$openfl_display_Bitmap;
extern hl_type t$_dyn;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
vdynamic* Type_createInstance(hl__Class,hl__types__ArrayDyn);
extern hl_type t$openfl_display_BitmapData;
void openfl_display_Bitmap_new(openfl__display__Bitmap,openfl__display__BitmapData,vdynamic*,bool*);
extern String s$fdbe4a3;
extern String s$11eb74f;
String String___add__(String,String);
extern String s$146dee0;
extern String s$14fec0a;
extern String s$ddc504d;
extern String s$Sorry_;
void flixel_system__FlxBasePreloader_DefaultPreloader_new(flixel__system___FlxBasePreloader__DefaultPreloader);
extern hl_type t$String;

void flixel_system_FlxBasePreloader_create(flixel__system__FlxBasePreloader r0) {
	return;
}

void flixel_system_FlxBasePreloader_onInit(flixel__system__FlxBasePreloader r0) {
	bool *r9, *r11;
	String r6;
	openfl__display__MovieClip r4;
	openfl__display__Stage r3;
	vclosure *r7, *r8;
	int *r10;
	vdynamic *r2;
	int r5;
	flixel_system__FlxBasePreloader_DefaultPreloader_onInit(((flixel__system___FlxBasePreloader__DefaultPreloader)r0));
	r4 = openfl_Lib_get_current();
	if( r4 == NULL ) hl_null_access();
	r3 = r4->stage;
	if( r3 == NULL ) hl_null_access();
	r5 = 2;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r5;
	r2 = openfl_display_Stage_set_scaleMode(r3,r2);
	r4 = openfl_Lib_get_current();
	if( r4 == NULL ) hl_null_access();
	r3 = r4->stage;
	if( r3 == NULL ) hl_null_access();
	r5 = 6;
	r2 = hl_alloc_dynamic(&t$_i32);
	r2->v.i = r5;
	r3->align = r2;
	((void (*)(flixel__system__FlxBasePreloader))r0->$type->vobj_proto[54])(r0);
	r6 = (String)s$enterFrame;
	r7 = hl_alloc_closure_ptr(&t$fun_77a2e2c,flixel_system_FlxBasePreloader_onEnterFrame,r0);
	if( r7 ) goto label$f1f5c60_2_21;
	r8 = NULL;
	goto label$f1f5c60_2_22;
	label$f1f5c60_2_21:
	r8 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r7);
	label$f1f5c60_2_22:
	r9 = NULL;
	r10 = NULL;
	r11 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r6,r8,r9,r10,r11);
	flixel_system_FlxBasePreloader_checkSiteLock(r0);
	return;
}

void flixel_system_FlxBasePreloader_onUpdate(flixel__system__FlxBasePreloader r0,int r1,int r2) {
	flixel_system__FlxBasePreloader_DefaultPreloader_onUpdate(((flixel__system___FlxBasePreloader__DefaultPreloader)r0),r1,r2);
	return;
}

void flixel_system_FlxBasePreloader_onEnterFrame(flixel__system__FlxBasePreloader r0,openfl__events__Event r1) {
	bool *r13;
	String r10;
	Date r3;
	bool r9;
	vclosure *r11, *r12;
	double r2, r4, r6, r7, r8;
	r3 = Date_now();
	if( r3 == NULL ) hl_null_access();
	r2 = Date_getTime(r3);
	r4 = r0->_startTime;
	r2 = r2 - r4;
	r4 = r0->minDisplayTime;
	r6 = 1000.;
	r4 = r4 * r6;
	r6 = r0->_percent;
	r8 = 0.;
	if( !(r8 < r4) ) goto label$f1f5c60_4_16;
	r7 = r0->_percent;
	r8 = r2 / r4;
	if( !(r8 < r7) ) goto label$f1f5c60_4_16;
	r7 = r2 / r4;
	r6 = r7;
	label$f1f5c60_4_16:
	r9 = r0->_destroyed;
	if( r9 ) goto label$f1f5c60_4_19;
	((void (*)(flixel__system__FlxBasePreloader,double))r0->$type->vobj_proto[56])(r0,r6);
	label$f1f5c60_4_19:
	r9 = r0->_loaded;
	if( !r9 ) goto label$f1f5c60_4_38;
	r8 = 0.;
	if( r8 >= r4 ) goto label$f1f5c60_4_26;
	r7 = r2 / r4;
	r8 = 1.;
	if( !(r7 >= r8) ) goto label$f1f5c60_4_38;
	label$f1f5c60_4_26:
	r10 = (String)s$enterFrame;
	r11 = hl_alloc_closure_ptr(&t$fun_77a2e2c,flixel_system_FlxBasePreloader_onEnterFrame,r0);
	if( r11 ) goto label$f1f5c60_4_31;
	r12 = NULL;
	goto label$f1f5c60_4_32;
	label$f1f5c60_4_31:
	r12 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r11);
	label$f1f5c60_4_32:
	r13 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r0),r10,r12,r13);
	flixel_system__FlxBasePreloader_DefaultPreloader_onLoaded(((flixel__system___FlxBasePreloader__DefaultPreloader)r0));
	((void (*)(flixel__system__FlxBasePreloader))r0->$type->vobj_proto[55])(r0);
	r9 = true;
	r0->_destroyed = r9;
	label$f1f5c60_4_38:
	return;
}

void flixel_system_FlxBasePreloader_destroy(flixel__system__FlxBasePreloader r0) {
	return;
}

void flixel_system_FlxBasePreloader_update(flixel__system__FlxBasePreloader r0,double r1) {
	return;
}

void flixel_system_FlxBasePreloader_onLoaded(flixel__system__FlxBasePreloader r0) {
	bool r1;
	double r2;
	r1 = true;
	r0->_loaded = r1;
	r2 = 1.;
	r0->_percent = r2;
	return;
}

openfl__display__Bitmap flixel_system_FlxBasePreloader_createBitmap(flixel__system__FlxBasePreloader r0,hl__Class r1,vclosure* r2) {
	bool *r11;
	hl__types__ArrayObj r9;
	hl_type *r7;
	bool r10;
	openfl__display__Bitmap r3;
	hl__types__ArrayDyn r5;
	vdynamic *r4, *r13;
	openfl__display__BitmapData r12;
	int r8;
	varray *r6;
	r3 = (openfl__display__Bitmap)hl_alloc_obj(&t$openfl_display_Bitmap);
	r7 = &t$_dyn;
	r8 = 2;
	r6 = hl_alloc_array(r7,r8);
	r8 = 0;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r8;
	r8 = 0;
	((vdynamic**)(r6 + 1))[r8] = r4;
	r8 = 0;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r8;
	r8 = 1;
	((vdynamic**)(r6 + 1))[r8] = r4;
	r9 = hl_types_ArrayObj_alloc(r6);
	r10 = true;
	r11 = &r10;
	r5 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r9),r11);
	r4 = Type_createInstance(r1,r5);
	r12 = (openfl__display__BitmapData)hl_dyn_castp(&r4,&t$_dyn,&t$openfl_display_BitmapData);
	r13 = NULL;
	r11 = NULL;
	openfl_display_Bitmap_new(r3,r12,r13,r11);
	if( r2 == NULL ) hl_null_access();
	r2->hasValue ? ((void (*)(vdynamic*,openfl__display__Bitmap))r2->fun)((vdynamic*)r2->value,r3) : ((void (*)(openfl__display__Bitmap))r2->fun)(r3);
	return r3;
}

openfl__display__BitmapData flixel_system_FlxBasePreloader_loadBitmapData(flixel__system__FlxBasePreloader r0,hl__Class r1,vclosure* r2) {
	bool *r10;
	hl__types__ArrayObj r8;
	hl_type *r6;
	bool r9;
	hl__types__ArrayDyn r4;
	vdynamic *r3;
	openfl__display__BitmapData r11;
	int r7;
	varray *r5;
	r6 = &t$_dyn;
	r7 = 2;
	r5 = hl_alloc_array(r6,r7);
	r7 = 0;
	r3 = hl_alloc_dynamic(&t$_i32);
	r3->v.i = r7;
	r7 = 0;
	((vdynamic**)(r5 + 1))[r7] = r3;
	r7 = 0;
	r3 = hl_alloc_dynamic(&t$_i32);
	r3->v.i = r7;
	r7 = 1;
	((vdynamic**)(r5 + 1))[r7] = r3;
	r8 = hl_types_ArrayObj_alloc(r5);
	r9 = true;
	r10 = &r9;
	r4 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r8),r10);
	r3 = Type_createInstance(r1,r4);
	r11 = (openfl__display__BitmapData)hl_dyn_castp(&r3,&t$_dyn,&t$openfl_display_BitmapData);
	if( r2 == NULL ) hl_null_access();
	r2->hasValue ? ((void (*)(vdynamic*,openfl__display__BitmapData))r2->fun)((vdynamic*)r2->value,r11) : ((void (*)(openfl__display__BitmapData))r2->fun)(r11);
	return r11;
}

void flixel_system_FlxBasePreloader_checkSiteLock(flixel__system__FlxBasePreloader r0) {
	return;
}

void flixel_system_FlxBasePreloader_new(flixel__system__FlxBasePreloader r0,double* r1,hl__types__ArrayObj r2) {
	String r6, r7;
	Date r13;
	hl__types__ArrayObj r10;
	hl_type *r12;
	bool r4;
	double r3, r5;
	varray *r11;
	int r8;
	if( r1 ) goto label$f1f5c60_11_3;
	r3 = 0.;
	goto label$f1f5c60_11_4;
	label$f1f5c60_11_3:
	r3 = *r1;
	label$f1f5c60_11_4:
	r4 = false;
	r0->_destroyed = r4;
	r4 = false;
	r0->_urlChecked = r4;
	r4 = false;
	r0->_loaded = r4;
	r5 = 0.;
	r0->_percent = r5;
	r6 = (String)s$fdbe4a3;
	r7 = (String)s$11eb74f;
	r6 = String___add__(r6,r7);
	r7 = (String)s$146dee0;
	r6 = String___add__(r6,r7);
	r7 = (String)s$14fec0a;
	r6 = String___add__(r6,r7);
	r7 = (String)s$ddc504d;
	r6 = String___add__(r6,r7);
	r0->siteLockBodyText = r6;
	r6 = (String)s$Sorry_;
	r0->siteLockTitleText = r6;
	r8 = 0;
	r0->siteLockURLIndex = r8;
	r5 = 0.;
	r0->minDisplayTime = r5;
	flixel_system__FlxBasePreloader_DefaultPreloader_new(((flixel__system___FlxBasePreloader__DefaultPreloader)r0));
	r0->minDisplayTime = r3;
	if( !r2 ) goto label$f1f5c60_11_33;
	r0->allowedURLs = r2;
	goto label$f1f5c60_11_38;
	label$f1f5c60_11_33:
	r12 = &t$String;
	r8 = 0;
	r11 = hl_alloc_array(r12,r8);
	r10 = hl_types_ArrayObj_alloc(r11);
	r0->allowedURLs = r10;
	label$f1f5c60_11_38:
	r13 = Date_now();
	if( r13 == NULL ) hl_null_access();
	r5 = Date_getTime(r13);
	r0->_startTime = r5;
	flixel_system_FlxBasePreloader_onLoaded(r0);
	return;
}

