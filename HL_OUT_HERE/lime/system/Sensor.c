// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/system/Sensor.h>
extern lime__system__$Sensor g$_lime_system_Sensor;
hl__types__ArrayObj hl_types_ArrayObj_copy(hl__types__ArrayObj);
extern hl_type t$lime_system_Sensor;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
void lime_system_Sensor_new(lime__system__Sensor,venum*,int);
void haxe_ds_IntMap_set(haxe__ds__IntMap,int,vdynamic*);
extern hl_type t$lime_app__Event_Float_Float_Float_Void;
void lime_app__Event_Float_Float_Float_Void_new(lime__app___Event_Float_Float_Float_Void);

hl__types__ArrayObj lime_system_Sensor_getSensors(venum* r0) {
	lime__system__Sensor r11;
	hl__types__ArrayObj r2, r8;
	hl_type *r6;
	lime__system__$Sensor r3;
	venum *r1;
	vdynamic *r4;
	int r7, r9, r10;
	varray *r5;
	if( r0 ) goto label$5047aa2_1_6;
	r3 = (lime__system__$Sensor)g$_lime_system_Sensor;
	r2 = r3->sensors;
	if( r2 == NULL ) hl_null_access();
	r2 = hl_types_ArrayObj_copy(r2);
	return r2;
	label$5047aa2_1_6:
	r6 = &t$lime_system_Sensor;
	r7 = 0;
	r5 = hl_alloc_array(r6,r7);
	r2 = hl_types_ArrayObj_alloc(r5);
	r7 = 0;
	r3 = (lime__system__$Sensor)g$_lime_system_Sensor;
	r8 = r3->sensors;
	label$5047aa2_1_13:
	if( r8 == NULL ) hl_null_access();
	r10 = r8->length;
	if( r7 >= r10 ) goto label$5047aa2_1_31;
	r10 = r8->length;
	if( ((unsigned)r7) < ((unsigned)r10) ) goto label$5047aa2_1_21;
	r11 = NULL;
	goto label$5047aa2_1_24;
	label$5047aa2_1_21:
	r5 = r8->array;
	r4 = ((vdynamic**)(r5 + 1))[r7];
	r11 = (lime__system__Sensor)r4;
	label$5047aa2_1_24:
	++r7;
	if( r11 == NULL ) hl_null_access();
	r1 = r11->type;
	if( r1 != r0 ) goto label$5047aa2_1_30;
	if( r2 == NULL ) hl_null_access();
	r9 = hl_types_ArrayObj_push(r2,((vdynamic*)r11));
	label$5047aa2_1_30:
	goto label$5047aa2_1_13;
	label$5047aa2_1_31:
	return r2;
}

lime__system__Sensor lime_system_Sensor_registerSensor(venum* r0,int r1) {
	lime__system__Sensor r2;
	hl__types__ArrayObj r5;
	lime__system__$Sensor r6;
	haxe__ds__IntMap r7;
	int r3;
	r2 = (lime__system__Sensor)hl_alloc_obj(&t$lime_system_Sensor);
	lime_system_Sensor_new(r2,r0,r1);
	r6 = (lime__system__$Sensor)g$_lime_system_Sensor;
	r5 = r6->sensors;
	if( r5 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_push(r5,((vdynamic*)r2));
	r6 = (lime__system__$Sensor)g$_lime_system_Sensor;
	r7 = r6->sensorByID;
	if( r7 == NULL ) hl_null_access();
	haxe_ds_IntMap_set(r7,r1,((vdynamic*)r2));
	return r2;
}

void lime_system_Sensor_new(lime__system__Sensor r0,venum* r1,int r2) {
	lime__app___Event_Float_Float_Float_Void r3;
	r3 = (lime__app___Event_Float_Float_Float_Void)hl_alloc_obj(&t$lime_app__Event_Float_Float_Float_Void);
	lime_app__Event_Float_Float_Float_Void_new(r3);
	r0->onUpdate = r3;
	r0->type = r1;
	r0->id = r2;
	return;
}

