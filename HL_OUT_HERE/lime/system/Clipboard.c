// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/system/Clipboard.h>
extern lime__system__$Clipboard g$_lime_system_Clipboard;
#include <hl/natives.h>
String String_fromUTF8(vbyte*);
int String___compare(String,vdynamic*);
void lime_app__Event_Void_Void_dispatch(lime__app___Event_Void_Void);

void lime_system_Clipboard___update() {
	String r0, r3;
	lime__app___Event_Void_Void r5;
	lime__system__$Clipboard r1;
	vbyte *r4;
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r0 = r1->_text;
	r3 = NULL;
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r1->_text = r3;
	r4 = lime_hl_clipboard_get_text();
	if( !r4 ) goto label$bf4a4ea_1_10;
	r3 = String_fromUTF8(r4);
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r1->_text = r3;
	label$bf4a4ea_1_10:
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r3 = r1->_text;
	if( r3 == r0 || (r3 && r0 && String___compare(r3,(vdynamic*)r0) == 0) ) goto label$bf4a4ea_1_17;
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r5 = r1->onUpdate;
	if( r5 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r5);
	label$bf4a4ea_1_17:
	return;
}

String lime_system_Clipboard_get_text() {
	String r0;
	lime__system__$Clipboard r1;
	r1 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r0 = r1->_text;
	return r0;
}

String lime_system_Clipboard_set_text(String r0) {
	String r1, r4;
	lime__app___Event_Void_Void r5;
	lime__system__$Clipboard r2;
	r2 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r1 = r2->_text;
	r2 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r2->_text = r0;
	lime_hl_clipboard_set_text(r0);
	r2 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r4 = r2->_text;
	if( r4 == r1 || (r4 && r1 && String___compare(r4,(vdynamic*)r1) == 0) ) goto label$bf4a4ea_3_12;
	r2 = (lime__system__$Clipboard)g$_lime_system_Clipboard;
	r5 = r2->onUpdate;
	if( r5 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r5);
	label$bf4a4ea_3_12:
	return r0;
}

