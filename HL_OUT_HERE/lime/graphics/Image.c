// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/graphics/Image.h>
#include <lime/utils/ArrayBufferView.h>
#include <hl/types/ArrayDyn.h>
#include <openfl/_Vector/IntVector.h>
#include <lime/utils/TAError.h>
extern venum* g$lime_graphics_ImageType_DATA;
extern hl_type t$lime_graphics_ImageBuffer;
void lime_graphics_ImageBuffer_new(lime__graphics__ImageBuffer,lime__utils__ArrayBufferView,int*,int*,int*,vdynamic*);
void lime__internal_graphics_ImageCanvasUtil_createCanvas(lime__graphics__Image,int,int);
extern hl_type t$_i32;
extern hl_type t$lime_math_Rectangle;
void lime_math_Rectangle_new(lime__math__Rectangle,double*,double*,double*,double*);
void lime_graphics_Image_fillRect(lime__graphics__Image,lime__math__Rectangle,int,vdynamic*);
extern hl_type t$lime_utils_ArrayBufferView;
void lime_utils_ArrayBufferView_new(lime__utils__ArrayBufferView,vdynamic*,int);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void lime_utils_ArrayBufferView_copyFromArray(lime__utils__ArrayBufferView,hl__types__ArrayDyn,int*);
extern hl_type t$_dyn;
extern hl_type t$hl_types_ArrayDyn;
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
extern String s$unimplemented;
extern venum* g$lime_utils_TAError_RangeError;
extern String s$ac96fc9;
void lime_graphics_Image___fromImageBuffer(lime__graphics__Image,lime__graphics__ImageBuffer);
extern hl_type t$lime_graphics_Image;
lime__graphics__ImageBuffer lime_graphics_ImageBuffer_clone(lime__graphics__ImageBuffer);
lime__math__Rectangle lime_graphics_Image___clipRect(lime__graphics__Image,lime__math__Rectangle);
void lime__internal_graphics_ImageCanvasUtil_colorTransform(lime__graphics__Image,lime__math__Rectangle,lime__utils__ArrayBufferView);
void lime__internal_graphics_ImageDataUtil_colorTransform(lime__graphics__Image,lime__math__Rectangle,lime__utils__ArrayBufferView);
void lime_math_Rectangle_offset(lime__math__Rectangle,double,double);
vdynamic* lime_math_Rectangle___toFlashRectangle(lime__math__Rectangle);
vdynamic* lime_math__ColorMatrix_ColorMatrix_Impl____toFlashColorTransform(lime__utils__ArrayBufferView);
#include <lime/math/Vector2.h>
#include <lime/graphics/ImageChannel.h>
extern venum* g$lime_graphics_ImageChannel_ALPHA;
bool lime_graphics_Image_get_transparent(lime__graphics__Image);
void lime__internal_graphics_ImageCanvasUtil_copyChannel(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,venum*,venum*);
void lime__internal_graphics_ImageDataUtil_copyChannel(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,venum*,venum*);
void lime_math_Vector2_offset(lime__math__Vector2,double,double);
vdynamic* lime_graphics_ImageBuffer_get_src(lime__graphics__ImageBuffer);
vdynamic* lime_math_Vector2___toFlashPoint(lime__math__Vector2);
double lime_math_Rectangle_get_right(lime__math__Rectangle);
double lime_math_Rectangle_get_bottom(lime__math__Rectangle);
void lime__internal_graphics_ImageCanvasUtil_convertToData(lime__graphics__Image,bool*);
void lime__internal_graphics_ImageDataUtil_copyPixels(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,lime__graphics__Image,lime__math__Vector2,bool*);
void lime__internal_graphics_ImageCanvasUtil_convertToCanvas(lime__graphics__Image,bool*);
void lime__internal_graphics_ImageCanvasUtil_copyPixels(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,lime__graphics__Image,lime__math__Vector2,bool*);
#include <lime/graphics/ImageFileFormat.h>
#include <lime/_internal/format/BMPType.h>
haxe__io__Bytes lime__internal_format_PNG_encode(lime__graphics__Image);
haxe__io__Bytes lime__internal_format_BMP_encode(lime__graphics__Image,venum*);
haxe__io__Bytes lime__internal_format_JPEG_encode(lime__graphics__Image,int);
void lime__internal_graphics_ImageCanvasUtil_fillRect(lime__graphics__Image,lime__math__Rectangle,int,int);
void lime__internal_graphics_ImageDataUtil_fillRect(lime__graphics__Image,lime__math__Rectangle,int,int);
void lime__internal_graphics_ImageCanvasUtil_floodFill(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_floodFill(lime__graphics__Image,int,int,int,int);
void lime_graphics_Image___fromBase64(lime__graphics__Image,String,String,vclosure*);
bool lime_graphics_Image___fromBytes(lime__graphics__Image,haxe__io__Bytes,vclosure*);
extern hl_type t$ref_i32;
vdynamic* lime_graphics_ImageBuffer_set_src(lime__graphics__ImageBuffer,vdynamic*);
extern venum* g$lime_graphics_ImageType_CANVAS;
bool lime_graphics_Image___fromFile(lime__graphics__Image,String,vclosure*,vclosure*);
lime__math__Rectangle lime__internal_graphics_ImageDataUtil_getColorBoundsRect(lime__graphics__Image,int,int,bool,int);
extern hl_type t$vrt_ab18abc;
int lime__internal_graphics_ImageCanvasUtil_getPixel(lime__graphics__Image,int,int,int);
int lime__internal_graphics_ImageDataUtil_getPixel(lime__graphics__Image,int,int,int);
int lime__internal_graphics_ImageCanvasUtil_getPixel32(lime__graphics__Image,int,int,int);
int lime__internal_graphics_ImageDataUtil_getPixel32(lime__graphics__Image,int,int,int);
haxe__io__Bytes lime__internal_graphics_ImageCanvasUtil_getPixels(lime__graphics__Image,lime__math__Rectangle,int);
haxe__io__Bytes lime__internal_graphics_ImageDataUtil_getPixels(lime__graphics__Image,lime__math__Rectangle,int);
lime__app__Future lime_app_Future_withValue(vdynamic*);
haxe__io__Bytes lime__internal_format_Base64_decode(String);
lime__app__Future lime_graphics_Image_loadFromBytes(haxe__io__Bytes);
extern String s$;
lime__app__Future lime_app_Future_withError(vdynamic*);
extern hl_type t$lime_app_Future;
extern hl_type t$fun_41ea2ae;
void lime_app_Future_new(lime__app__Future,vclosure*,bool*);
#include <lime/net/_HTTPRequest_lime_graphics_Image.h>
lime__app__Future lime_graphics_Image_loadFromFile__$1(lime__graphics__Image);
extern hl_type t$fun_bd66a1c;
extern hl_type t$lime_net__HTTPRequest_lime_graphics_Image;
void lime_net__HTTPRequest_lime_graphics_Image_new(lime__net___HTTPRequest_lime_graphics_Image,String);
#include <lime/net/_HTTPRequest_Bytes.h>
lime__app__Future lime_net__HTTPRequest_Bytes_load(lime__net___HTTPRequest_Bytes,String);
lime__app__Future wrapt$fun_8b3c6ac(vclosure*,vdynamic*);
extern hl_type t$fun_8b3c6ac;
lime__app__Future lime_app_Future_then(lime__app__Future,vclosure*);
void lime__internal_graphics_ImageCanvasUtil_merge(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_merge(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,int,int,int,int);
void lime__internal_graphics_ImageCanvasUtil_resize(lime__graphics__Image,int,int);
void lime__internal_graphics_ImageDataUtil_resize(lime__graphics__Image,int,int);
void lime__internal_graphics_ImageCanvasUtil_scroll(lime__graphics__Image,int,int);
lime__math__Rectangle lime_graphics_Image_get_rect(lime__graphics__Image);
extern hl_type t$lime_math_Vector2;
void lime_math_Vector2_new(lime__math__Vector2,double*,double*);
void lime__internal_graphics_ImageCanvasUtil_setPixel(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_setPixel(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageCanvasUtil_setPixel32(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_setPixel32(lime__graphics__Image,int,int,int,int);
#include <lime/utils/BytePointerData.h>
#include <lime/system/Endian.h>
extern venum* g$lime_system_Endian_BIG_ENDIAN;
void lime__internal_graphics_ImageCanvasUtil_setPixels(lime__graphics__Image,lime__math__Rectangle,lime__utils__BytePointerData,int,venum*);
void lime__internal_graphics_ImageDataUtil_setPixels(lime__graphics__Image,lime__math__Rectangle,lime__utils__BytePointerData,int,venum*);
int lime__internal_graphics_ImageDataUtil_threshold(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,String,int,int,int,bool,int);
#include <hl/natives.h>
#include <lime/system/CFFI.h>
extern lime__system__$CFFI g$_lime_system_CFFI;
#include <haxe/io/Encoding.h>
String haxe_io_Bytes_getString(haxe__io__Bytes,int,int,venum*);
extern String s$GIF87a;
int String___compare(String,vdynamic*);
extern String s$GIF89a;
int haxe_io_Bytes_get(haxe__io__Bytes,int);
extern String s$RIFF;
extern String s$WEBP;
void lime__internal_graphics_ImageDataUtil_setFormat(lime__graphics__Image,int);
void lime__internal_graphics_ImageDataUtil_resizeBuffer(lime__graphics__Image,int,int);
void lime__internal_graphics_ImageDataUtil_multiplyAlpha(lime__graphics__Image);
void lime__internal_graphics_ImageDataUtil_unmultiplyAlpha(lime__graphics__Image);

void lime_graphics_Image_new(lime__graphics__Image r0,lime__graphics__ImageBuffer r1,int* r2,int* r3,int* r4,int* r5,vdynamic* r6,venum* r7) {
	String r45;
	openfl___Vector__IntVector r33;
	venum *r14, *r46;
	haxe__io__Bytes r31, r37, r43;
	lime__graphics__ImageBuffer r15;
	hl__types__ArrayDyn r32, r36;
	double r23, r25, r27, r29, r47, r48, r50, r51;
	lime__math__Rectangle r22;
	lime__utils__ArrayBufferView r17, r35;
	double *r24, *r26, *r28, *r30;
	vdynamic *r18, *r21, *r34, *r38, *r49;
	int r8, r9, r10, r11, r12, r16, r19, r20, r39, r40, r41, r42, r44;
	if( r2 ) goto label$85f08ff_1_3;
	r8 = 0;
	goto label$85f08ff_1_4;
	label$85f08ff_1_3:
	r8 = *r2;
	label$85f08ff_1_4:
	if( r3 ) goto label$85f08ff_1_7;
	r9 = 0;
	goto label$85f08ff_1_8;
	label$85f08ff_1_7:
	r9 = *r3;
	label$85f08ff_1_8:
	if( r4 ) goto label$85f08ff_1_11;
	r10 = -1;
	goto label$85f08ff_1_12;
	label$85f08ff_1_11:
	r10 = *r4;
	label$85f08ff_1_12:
	if( r5 ) goto label$85f08ff_1_15;
	r11 = -1;
	goto label$85f08ff_1_16;
	label$85f08ff_1_15:
	r11 = *r5;
	label$85f08ff_1_16:
	r0->offsetX = r8;
	r0->offsetY = r9;
	r0->width = r10;
	r0->height = r11;
	r12 = 0;
	r0->version = r12;
	if( r7 ) goto label$85f08ff_1_25;
	r14 = (venum*)g$lime_graphics_ImageType_DATA;
	r7 = r14;
	label$85f08ff_1_25:
	r0->type = r7;
	if( r1 ) goto label$85f08ff_1_244;
	r16 = 0;
	if( r16 >= r10 ) goto label$85f08ff_1_243;
	r16 = 0;
	if( r16 >= r11 ) goto label$85f08ff_1_243;
	r14 = r0->type;
	if( r14 == NULL ) hl_null_access();
	r12 = HL__ENUM_INDEX__(r14);
	switch(r12) {
		default:
			goto label$85f08ff_1_243;
		case 0:
			r15 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
			r17 = NULL;
			r12 = r10;
			r2 = &r12;
			r16 = r11;
			r3 = &r16;
			r4 = NULL;
			r18 = NULL;
			lime_graphics_ImageBuffer_new(r15,r17,r2,r3,r4,r18);
			r0->buffer = r15;
			lime__internal_graphics_ImageCanvasUtil_createCanvas(r0,r10,r11);
			if( !r6 ) goto label$85f08ff_1_66;
			r19 = 0;
			r21 = hl_alloc_dynamic(&t$_i32);
			r21->v.i = r19;
			if( r6 == r21 || (r6 && r21 && (r6->v.i == r21->v.i)) ) goto label$85f08ff_1_66;
			r22 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
			r19 = 0;
			r23 = (double)r19;
			r24 = &r23;
			r19 = 0;
			r25 = (double)r19;
			r26 = &r25;
			r27 = (double)r10;
			r28 = &r27;
			r29 = (double)r11;
			r30 = &r29;
			lime_math_Rectangle_new(r22,r24,r26,r28,r30);
			r19 = r6 ? r6->v.i : 0;
			r18 = NULL;
			lime_graphics_Image_fillRect(r0,r22,r19,r18);
			label$85f08ff_1_66:
			goto label$85f08ff_1_243;
		case 1:
			r19 = r10 * r11;
			r20 = 4;
			r19 = r19 * r20;
			r18 = hl_alloc_dynamic(&t$_i32);
			r18->v.i = r19;
			r31 = NULL;
			r32 = NULL;
			r33 = NULL;
			r17 = NULL;
			r21 = NULL;
			if( !r18 ) goto label$85f08ff_1_81;
			r35 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
			r19 = 4;
			lime_utils_ArrayBufferView_new(r35,r18,r19);
			goto label$85f08ff_1_214;
			label$85f08ff_1_81:
			if( !r32 ) goto label$85f08ff_1_102;
			r35 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
			r19 = 0;
			r34 = hl_alloc_dynamic(&t$_i32);
			r34->v.i = r19;
			r19 = 4;
			lime_utils_ArrayBufferView_new(r35,r34,r19);
			r19 = 0;
			r35->byteOffset = r19;
			if( r32 == NULL ) hl_null_access();
			r19 = hl_types_ArrayDyn_get_length(r32);
			r35->length = r19;
			r19 = r35->length;
			r20 = r35->bytesPerElement;
			r19 = r19 * r20;
			r35->byteLength = r19;
			r19 = r35->byteLength;
			r37 = haxe_io_Bytes_alloc(r19);
			r35->buffer = r37;
			r2 = NULL;
			lime_utils_ArrayBufferView_copyFromArray(r35,r32,r2);
			goto label$85f08ff_1_214;
			label$85f08ff_1_102:
			if( !r33 ) goto label$85f08ff_1_126;
			r35 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
			r19 = 0;
			r34 = hl_alloc_dynamic(&t$_i32);
			r34->v.i = r19;
			r19 = 4;
			lime_utils_ArrayBufferView_new(r35,r34,r19);
			if( r33 == NULL ) hl_null_access();
			r38 = (vdynamic*)hl_dyn_getp((vdynamic*)r33,-269630230/*__array*/,&t$_dyn);
			r36 = (hl__types__ArrayDyn)hl_dyn_castp(&r38,&t$_dyn,&t$hl_types_ArrayDyn);
			r19 = 0;
			r35->byteOffset = r19;
			if( r36 == NULL ) hl_null_access();
			r19 = hl_types_ArrayDyn_get_length(r36);
			r35->length = r19;
			r19 = r35->length;
			r20 = r35->bytesPerElement;
			r19 = r19 * r20;
			r35->byteLength = r19;
			r19 = r35->byteLength;
			r37 = haxe_io_Bytes_alloc(r19);
			r35->buffer = r37;
			r2 = NULL;
			lime_utils_ArrayBufferView_copyFromArray(r35,r36,r2);
			goto label$85f08ff_1_214;
			label$85f08ff_1_126:
			if( !r17 ) goto label$85f08ff_1_160;
			r35 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
			r19 = 0;
			r34 = hl_alloc_dynamic(&t$_i32);
			r34->v.i = r19;
			r19 = 4;
			lime_utils_ArrayBufferView_new(r35,r34,r19);
			if( r17 == NULL ) hl_null_access();
			r37 = r17->buffer;
			r19 = r17->length;
			r20 = r17->byteOffset;
			r39 = r17->bytesPerElement;
			r40 = r35->bytesPerElement;
			r41 = r17->type;
			r42 = r35->type;
			if( r41 != r42 ) goto label$85f08ff_1_151;
			if( r37 == NULL ) hl_null_access();
			r41 = r37->length;
			r42 = r41 - r20;
			r43 = haxe_io_Bytes_alloc(r42);
			r35->buffer = r43;
			r43 = r35->buffer;
			if( r43 == NULL ) hl_null_access();
			r44 = 0;
			haxe_io_Bytes_blit(r43,r44,r37,r20,r42);
			goto label$85f08ff_1_153;
			label$85f08ff_1_151:
			r45 = (String)s$unimplemented;
			hl_throw((vdynamic*)r45);
			label$85f08ff_1_153:
			r41 = r35->bytesPerElement;
			r41 = r41 * r19;
			r35->byteLength = r41;
			r41 = 0;
			r35->byteOffset = r41;
			r35->length = r19;
			goto label$85f08ff_1_214;
			label$85f08ff_1_160:
			if( !r31 ) goto label$85f08ff_1_212;
			r35 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
			r19 = 0;
			r34 = hl_alloc_dynamic(&t$_i32);
			r34->v.i = r19;
			r19 = 4;
			lime_utils_ArrayBufferView_new(r35,r34,r19);
			r19 = 0;
			r39 = 0;
			if( r19 >= r39 ) goto label$85f08ff_1_171;
			r46 = (venum*)g$lime_utils_TAError_RangeError;
			hl_throw((vdynamic*)r46);
			label$85f08ff_1_171:
			r39 = r35->bytesPerElement;
			r20 = r39 == 0 ? 0 : r19 % r39;
			r39 = 0;
			if( r20 == r39 ) goto label$85f08ff_1_177;
			r46 = (venum*)g$lime_utils_TAError_RangeError;
			hl_throw((vdynamic*)r46);
			label$85f08ff_1_177:
			if( r31 == NULL ) hl_null_access();
			r20 = r31->length;
			r39 = r35->bytesPerElement;
			if( r21 ) goto label$85f08ff_1_194;
			r41 = r20 - r19;
			r40 = r41;
			r42 = r35->bytesPerElement;
			r41 = r42 == 0 ? 0 : r20 % r42;
			r42 = 0;
			if( r41 == r42 ) goto label$85f08ff_1_189;
			r46 = (venum*)g$lime_utils_TAError_RangeError;
			hl_throw((vdynamic*)r46);
			label$85f08ff_1_189:
			r42 = 0;
			if( r40 >= r42 ) goto label$85f08ff_1_193;
			r46 = (venum*)g$lime_utils_TAError_RangeError;
			hl_throw((vdynamic*)r46);
			label$85f08ff_1_193:
			goto label$85f08ff_1_202;
			label$85f08ff_1_194:
			r41 = r21 ? r21->v.i : 0;
			r42 = r35->bytesPerElement;
			r41 = r41 * r42;
			r40 = r41;
			r41 = r19 + r40;
			if( r20 >= r41 ) goto label$85f08ff_1_202;
			r46 = (venum*)g$lime_utils_TAError_RangeError;
			hl_throw((vdynamic*)r46);
			label$85f08ff_1_202:
			r35->buffer = r31;
			r35->byteOffset = r19;
			r35->byteLength = r40;
			r47 = (double)r40;
			r41 = r35->bytesPerElement;
			r48 = (double)r41;
			r47 = r47 / r48;
			r41 = (int)r47;
			r35->length = r41;
			goto label$85f08ff_1_214;
			label$85f08ff_1_212:
			r45 = (String)s$ac96fc9;
			hl_throw((vdynamic*)r45);
			label$85f08ff_1_214:
			r15 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
			r19 = r10;
			r2 = &r19;
			r20 = r11;
			r3 = &r20;
			r4 = NULL;
			r34 = NULL;
			lime_graphics_ImageBuffer_new(r15,r35,r2,r3,r4,r34);
			r0->buffer = r15;
			if( !r6 ) goto label$85f08ff_1_242;
			r39 = 0;
			r49 = hl_alloc_dynamic(&t$_i32);
			r49->v.i = r39;
			if( r6 == r49 || (r6 && r49 && (r6->v.i == r49->v.i)) ) goto label$85f08ff_1_242;
			r22 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
			r39 = 0;
			r47 = (double)r39;
			r24 = &r47;
			r39 = 0;
			r48 = (double)r39;
			r26 = &r48;
			r50 = (double)r10;
			r28 = &r50;
			r51 = (double)r11;
			r30 = &r51;
			lime_math_Rectangle_new(r22,r24,r26,r28,r30);
			r39 = r6 ? r6->v.i : 0;
			r34 = NULL;
			lime_graphics_Image_fillRect(r0,r22,r39,r34);
			label$85f08ff_1_242:
			goto label$85f08ff_1_243;
		case 2:
			break;
	}
	label$85f08ff_1_243:
	goto label$85f08ff_1_245;
	label$85f08ff_1_244:
	lime_graphics_Image___fromImageBuffer(r0,r1);
	label$85f08ff_1_245:
	return;
}

lime__graphics__Image lime_graphics_Image_clone(lime__graphics__Image r0) {
	lime__graphics__Image r3;
	venum *r13;
	lime__graphics__ImageBuffer r2;
	vdynamic *r12;
	int *r5, *r7, *r9, *r11;
	int r4, r6, r8, r10, r14, r15, r16, r17;
	r2 = r0->buffer;
	if( !r2 ) goto label$85f08ff_2_20;
	r3 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r2 = lime_graphics_ImageBuffer_clone(r2);
	r4 = r0->offsetX;
	r5 = &r4;
	r6 = r0->offsetY;
	r7 = &r6;
	r8 = r0->width;
	r9 = &r8;
	r10 = r0->height;
	r11 = &r10;
	r12 = NULL;
	r13 = r0->type;
	lime_graphics_Image_new(r3,r2,r5,r7,r9,r11,r12,r13);
	r14 = r0->version;
	r3->version = r14;
	return r3;
	label$85f08ff_2_20:
	r3 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r2 = NULL;
	r14 = r0->offsetX;
	r5 = &r14;
	r15 = r0->offsetY;
	r7 = &r15;
	r16 = r0->width;
	r9 = &r16;
	r17 = r0->height;
	r11 = &r17;
	r12 = NULL;
	r13 = r0->type;
	lime_graphics_Image_new(r3,r2,r5,r7,r9,r11,r12,r13);
	return r3;
}

void lime_graphics_Image_colorTransform(lime__graphics__Image r0,lime__math__Rectangle r1,lime__utils__ArrayBufferView r2) {
	venum *r8;
	lime__graphics__ImageBuffer r5;
	double r9, r10;
	lime__math__Rectangle r3;
	vdynamic *r6, *r11, *r12;
	int r7;
	r3 = lime_graphics_Image___clipRect(r0,r1);
	r5 = r0->buffer;
	if( !r5 ) goto label$85f08ff_3_4;
	if( r3 ) goto label$85f08ff_3_5;
	label$85f08ff_3_4:
	return;
	label$85f08ff_3_5:
	r8 = r0->type;
	if( r8 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r8);
	switch(r7) {
		default:
			goto label$85f08ff_3_29;
		case 0:
			lime__internal_graphics_ImageCanvasUtil_colorTransform(r0,r3,r2);
			goto label$85f08ff_3_29;
		case 1:
			lime__internal_graphics_ImageDataUtil_colorTransform(r0,r3,r2);
			goto label$85f08ff_3_29;
		case 2:
			if( r3 == NULL ) hl_null_access();
			r7 = r0->offsetX;
			r9 = (double)r7;
			r7 = r0->offsetY;
			r10 = (double)r7;
			lime_math_Rectangle_offset(r3,r9,r10);
			r5 = r0->buffer;
			if( r5 == NULL ) hl_null_access();
			r6 = r5->__srcBitmapData;
			if( r6 == NULL ) hl_null_access();
			r6 = (vdynamic*)hl_dyn_getp((vdynamic*)r6,-314583425/*colorTransform*/,&t$_dyn);
			if( r6 == NULL ) hl_null_access();
			r11 = lime_math_Rectangle___toFlashRectangle(r3);
			r12 = lime_math__ColorMatrix_ColorMatrix_Impl____toFlashColorTransform(r2);
			{
				vdynamic *args[] = {r11,r12};
				r6 = (vdynamic*)hl_dyn_call((vclosure*)r6,args,2);
			}
	}
	label$85f08ff_3_29:
	return;
}

void lime_graphics_Image_copyChannel(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,venum* r4,venum* r5) {
	venum *r10, *r15;
	bool r11;
	lime__graphics__ImageBuffer r8;
	double r12, r13;
	lime__math__Rectangle r6;
	vdynamic *r9, *r18, *r19, *r20, *r21, *r22;
	int r14, r16, r17;
	r6 = lime_graphics_Image___clipRect(r0,r2);
	r8 = r0->buffer;
	if( !r8 ) goto label$85f08ff_4_4;
	if( r6 ) goto label$85f08ff_4_5;
	label$85f08ff_4_4:
	return;
	label$85f08ff_4_5:
	r10 = (venum*)g$lime_graphics_ImageChannel_ALPHA;
	if( r5 != r10 ) goto label$85f08ff_4_10;
	r11 = lime_graphics_Image_get_transparent(r0);
	if( r11 ) goto label$85f08ff_4_10;
	return;
	label$85f08ff_4_10:
	if( r6 == NULL ) hl_null_access();
	r12 = r6->width;
	r13 = 0.;
	if( r13 >= r12 ) goto label$85f08ff_4_17;
	r12 = r6->height;
	r13 = 0.;
	if( !(r13 >= r12) ) goto label$85f08ff_4_18;
	label$85f08ff_4_17:
	return;
	label$85f08ff_4_18:
	r12 = r6->x;
	r13 = r6->width;
	r12 = r12 + r13;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->width;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_4_30;
	r14 = r1->width;
	r12 = (double)r14;
	r13 = r6->x;
	r12 = r12 - r13;
	r6->width = r12;
	label$85f08ff_4_30:
	r12 = r6->y;
	r13 = r6->height;
	r12 = r12 + r13;
	r14 = r1->height;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_4_41;
	r14 = r1->height;
	r12 = (double)r14;
	r13 = r6->y;
	r12 = r12 - r13;
	r6->height = r12;
	label$85f08ff_4_41:
	r15 = r0->type;
	if( r15 == NULL ) hl_null_access();
	r14 = HL__ENUM_INDEX__(r15);
	switch(r14) {
		default:
			goto label$85f08ff_4_105;
		case 0:
			lime__internal_graphics_ImageCanvasUtil_copyChannel(r0,r1,r6,r3,r4,r5);
			goto label$85f08ff_4_105;
		case 1:
			lime__internal_graphics_ImageDataUtil_copyChannel(r0,r1,r6,r3,r4,r5);
			goto label$85f08ff_4_105;
		case 2:
			if( r4 == NULL ) hl_null_access();
			r14 = HL__ENUM_INDEX__(r4);
			switch(r14) {
				default:
					goto label$85f08ff_4_65;
				case 0:
					r16 = 1;
					r14 = r16;
					goto label$85f08ff_4_65;
				case 1:
					r16 = 2;
					r14 = r16;
					goto label$85f08ff_4_65;
				case 2:
					r16 = 4;
					r14 = r16;
					goto label$85f08ff_4_65;
				case 3:
					r16 = 8;
					r14 = r16;
			}
			label$85f08ff_4_65:
			if( r5 == NULL ) hl_null_access();
			r16 = HL__ENUM_INDEX__(r5);
			switch(r16) {
				default:
					goto label$85f08ff_4_80;
				case 0:
					r17 = 1;
					r16 = r17;
					goto label$85f08ff_4_80;
				case 1:
					r17 = 2;
					r16 = r17;
					goto label$85f08ff_4_80;
				case 2:
					r17 = 4;
					r16 = r17;
					goto label$85f08ff_4_80;
				case 3:
					r17 = 8;
					r16 = r17;
			}
			label$85f08ff_4_80:
			r17 = r1->offsetX;
			r12 = (double)r17;
			r17 = r1->offsetY;
			r13 = (double)r17;
			lime_math_Rectangle_offset(r6,r12,r13);
			if( r3 == NULL ) hl_null_access();
			r17 = r0->offsetX;
			r12 = (double)r17;
			r17 = r0->offsetY;
			r13 = (double)r17;
			lime_math_Vector2_offset(r3,r12,r13);
			r8 = r0->buffer;
			if( r8 == NULL ) hl_null_access();
			r9 = r8->__srcBitmapData;
			if( r9 == NULL ) hl_null_access();
			r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,48659987/*copyChannel*/,&t$_dyn);
			if( r9 == NULL ) hl_null_access();
			r8 = r1->buffer;
			if( r8 == NULL ) hl_null_access();
			r18 = lime_graphics_ImageBuffer_get_src(r8);
			r19 = lime_math_Rectangle___toFlashRectangle(r6);
			r20 = lime_math_Vector2___toFlashPoint(r3);
			r21 = hl_alloc_dynamic(&t$_i32);
			r21->v.i = r14;
			r22 = hl_alloc_dynamic(&t$_i32);
			r22->v.i = r16;
			{
				vdynamic *args[] = {r18,r19,r20,r21,r22};
				r9 = (vdynamic*)hl_dyn_call((vclosure*)r9,args,5);
			}
	}
	label$85f08ff_4_105:
	return;
}

void lime_graphics_Image_copyPixels(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,lime__graphics__Image r4,lime__math__Vector2 r5,bool* r6) {
	lime__graphics__Image r10;
	venum *r17;
	lime__math__Vector2 r16;
	bool r7, r18, r19, r20;
	lime__graphics__ImageBuffer r9;
	double r12, r13;
	vdynamic *r11, *r21, *r22, *r23, *r24, *r25, *r26;
	int r14, r15;
	if( r6 ) goto label$85f08ff_5_3;
	r7 = false;
	goto label$85f08ff_5_4;
	label$85f08ff_5_3:
	r7 = *r6;
	label$85f08ff_5_4:
	r9 = r0->buffer;
	if( !r9 ) goto label$85f08ff_5_7;
	if( r1 ) goto label$85f08ff_5_8;
	label$85f08ff_5_7:
	return;
	label$85f08ff_5_8:
	if( r2 == NULL ) hl_null_access();
	r12 = r2->width;
	r13 = 0.;
	if( r13 >= r12 ) goto label$85f08ff_5_15;
	r12 = r2->height;
	r13 = 0.;
	if( !(r13 >= r12) ) goto label$85f08ff_5_16;
	label$85f08ff_5_15:
	return;
	label$85f08ff_5_16:
	r14 = r0->width;
	r15 = 0;
	if( r15 >= r14 ) goto label$85f08ff_5_22;
	r14 = r0->height;
	r15 = 0;
	if( r15 < r14 ) goto label$85f08ff_5_23;
	label$85f08ff_5_22:
	return;
	label$85f08ff_5_23:
	r12 = r2->x;
	r13 = r2->width;
	r12 = r12 + r13;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->width;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_5_35;
	r14 = r1->width;
	r12 = (double)r14;
	r13 = r2->x;
	r12 = r12 - r13;
	r2->width = r12;
	label$85f08ff_5_35:
	r12 = r2->y;
	r13 = r2->height;
	r12 = r12 + r13;
	r14 = r1->height;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_5_46;
	r14 = r1->height;
	r12 = (double)r14;
	r13 = r2->y;
	r12 = r12 - r13;
	r2->height = r12;
	label$85f08ff_5_46:
	r12 = r2->x;
	r13 = 0.;
	if( !(r12 < r13) ) goto label$85f08ff_5_55;
	r12 = r2->width;
	r13 = r2->x;
	r12 = r12 + r13;
	r2->width = r12;
	r12 = 0.;
	r2->x = r12;
	label$85f08ff_5_55:
	r12 = r2->y;
	r13 = 0.;
	if( !(r12 < r13) ) goto label$85f08ff_5_64;
	r12 = r2->height;
	r13 = r2->y;
	r12 = r12 + r13;
	r2->height = r12;
	r12 = 0.;
	r2->y = r12;
	label$85f08ff_5_64:
	if( r3 == NULL ) hl_null_access();
	r12 = r3->x;
	r13 = r2->width;
	r12 = r12 + r13;
	r14 = r0->width;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_5_76;
	r14 = r0->width;
	r12 = (double)r14;
	r13 = r3->x;
	r12 = r12 - r13;
	r2->width = r12;
	label$85f08ff_5_76:
	r12 = r3->y;
	r13 = r2->height;
	r12 = r12 + r13;
	r14 = r0->height;
	r13 = (double)r14;
	if( !(r13 < r12) ) goto label$85f08ff_5_87;
	r14 = r0->height;
	r12 = (double)r14;
	r13 = r3->y;
	r12 = r12 - r13;
	r2->height = r12;
	label$85f08ff_5_87:
	r12 = r3->x;
	r13 = 0.;
	if( !(r12 < r13) ) goto label$85f08ff_5_100;
	r12 = r2->width;
	r13 = r3->x;
	r12 = r12 + r13;
	r2->width = r12;
	r12 = r2->x;
	r13 = r3->x;
	r12 = r12 - r13;
	r2->x = r12;
	r12 = 0.;
	r3->x = r12;
	label$85f08ff_5_100:
	r12 = r3->y;
	r13 = 0.;
	if( !(r12 < r13) ) goto label$85f08ff_5_113;
	r12 = r2->height;
	r13 = r3->y;
	r12 = r12 + r13;
	r2->height = r12;
	r12 = r2->y;
	r13 = r3->y;
	r12 = r12 - r13;
	r2->y = r12;
	r12 = 0.;
	r3->y = r12;
	label$85f08ff_5_113:
	if( r1 != r0 ) goto label$85f08ff_5_122;
	r12 = r3->x;
	r13 = lime_math_Rectangle_get_right(r2);
	if( !(r12 < r13) ) goto label$85f08ff_5_122;
	r12 = r3->y;
	r13 = lime_math_Rectangle_get_bottom(r2);
	if( !(r12 < r13) ) goto label$85f08ff_5_122;
	r10 = lime_graphics_Image_clone(r0);
	r1 = r10;
	label$85f08ff_5_122:
	if( r4 != r1 ) goto label$85f08ff_5_135;
	if( !r5 ) goto label$85f08ff_5_131;
	if( r5 == NULL ) hl_null_access();
	r12 = r5->x;
	r13 = 0.;
	if( r12 != r13 ) goto label$85f08ff_5_135;
	r12 = r5->y;
	r13 = 0.;
	if( r12 != r13 ) goto label$85f08ff_5_135;
	label$85f08ff_5_131:
	r10 = NULL;
	r4 = r10;
	r16 = NULL;
	r5 = r16;
	label$85f08ff_5_135:
	r17 = r0->type;
	if( r17 == NULL ) hl_null_access();
	r14 = HL__ENUM_INDEX__(r17);
	switch(r14) {
		default:
			goto label$85f08ff_5_209;
		case 0:
			if( !r4 ) goto label$85f08ff_5_152;
			r6 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r6);
			r6 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToData(r1,r6);
			if( !r4 ) goto label$85f08ff_5_148;
			r6 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToData(r4,r6);
			label$85f08ff_5_148:
			r18 = r7;
			r6 = &r18;
			lime__internal_graphics_ImageDataUtil_copyPixels(r0,r1,r2,r3,r4,r5,r6);
			goto label$85f08ff_5_159;
			label$85f08ff_5_152:
			r6 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r6);
			r6 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r1,r6);
			r19 = r7;
			r6 = &r19;
			lime__internal_graphics_ImageCanvasUtil_copyPixels(r0,r1,r2,r3,r4,r5,r6);
			label$85f08ff_5_159:
			goto label$85f08ff_5_209;
		case 1:
			r20 = r7;
			r6 = &r20;
			lime__internal_graphics_ImageDataUtil_copyPixels(r0,r1,r2,r3,r4,r5,r6);
			goto label$85f08ff_5_209;
		case 2:
			if( r1 == NULL ) hl_null_access();
			r14 = r1->offsetX;
			r12 = (double)r14;
			r14 = r1->offsetY;
			r13 = (double)r14;
			lime_math_Rectangle_offset(r2,r12,r13);
			r14 = r0->offsetX;
			r12 = (double)r14;
			r14 = r0->offsetY;
			r13 = (double)r14;
			lime_math_Vector2_offset(r3,r12,r13);
			if( !r4 ) goto label$85f08ff_5_184;
			if( !r5 ) goto label$85f08ff_5_184;
			if( r5 == NULL ) hl_null_access();
			if( r4 == NULL ) hl_null_access();
			r14 = r4->offsetX;
			r12 = (double)r14;
			r14 = r4->offsetY;
			r13 = (double)r14;
			lime_math_Vector2_offset(r5,r12,r13);
			label$85f08ff_5_184:
			r9 = r0->buffer;
			if( r9 == NULL ) hl_null_access();
			r11 = r9->__srcBitmapData;
			if( r11 == NULL ) hl_null_access();
			r11 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,40785356/*copyPixels*/,&t$_dyn);
			if( r11 == NULL ) hl_null_access();
			r9 = r1->buffer;
			if( r9 == NULL ) hl_null_access();
			r21 = r9->__srcBitmapData;
			r22 = lime_math_Rectangle___toFlashRectangle(r2);
			r23 = lime_math_Vector2___toFlashPoint(r3);
			if( !r4 ) goto label$85f08ff_5_201;
			if( r4 == NULL ) hl_null_access();
			r9 = r4->buffer;
			if( r9 == NULL ) hl_null_access();
			r24 = lime_graphics_ImageBuffer_get_src(r9);
			goto label$85f08ff_5_202;
			label$85f08ff_5_201:
			r24 = NULL;
			label$85f08ff_5_202:
			if( !r5 ) goto label$85f08ff_5_206;
			if( r5 == NULL ) hl_null_access();
			r25 = lime_math_Vector2___toFlashPoint(r5);
			goto label$85f08ff_5_207;
			label$85f08ff_5_206:
			r25 = NULL;
			label$85f08ff_5_207:
			r26 = hl_alloc_dynbool(r7);
			{
				vdynamic *args[] = {r21,r22,r23,r24,r25,r26};
				r11 = (vdynamic*)hl_dyn_call((vclosure*)r11,args,6);
			}
	}
	label$85f08ff_5_209:
	return;
}

haxe__io__Bytes lime_graphics_Image_encode(lime__graphics__Image r0,venum* r1,int* r2) {
	venum *r6;
	haxe__io__Bytes r4;
	int r3, r5;
	if( r2 ) goto label$85f08ff_6_3;
	r3 = 90;
	goto label$85f08ff_6_4;
	label$85f08ff_6_3:
	r3 = *r2;
	label$85f08ff_6_4:
	if( r1 ) goto label$85f08ff_6_7;
	r4 = lime__internal_format_PNG_encode(r0);
	return r4;
	label$85f08ff_6_7:
	if( r1 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r1);
	switch(r5) {
		default:
			goto label$85f08ff_6_18;
		case 0:
			r6 = NULL;
			r4 = lime__internal_format_BMP_encode(r0,r6);
			return r4;
		case 1:
			r4 = lime__internal_format_JPEG_encode(r0,r3);
			return r4;
		case 2:
			r4 = lime__internal_format_PNG_encode(r0);
			return r4;
	}
	label$85f08ff_6_18:
	r4 = NULL;
	return r4;
}

void lime_graphics_Image_fillRect(lime__graphics__Image r0,lime__math__Rectangle r1,int r2,vdynamic* r3) {
	venum *r9;
	lime__graphics__ImageBuffer r6;
	double r12, r13;
	lime__utils__ArrayBufferView r11;
	lime__math__Rectangle r4;
	vdynamic *r7, *r18, *r19;
	int r8, r10, r14, r15, r16, r17;
	r4 = lime_graphics_Image___clipRect(r0,r1);
	r6 = r0->buffer;
	if( !r6 ) goto label$85f08ff_7_4;
	if( r4 ) goto label$85f08ff_7_5;
	label$85f08ff_7_4:
	return;
	label$85f08ff_7_5:
	r9 = r0->type;
	if( r9 == NULL ) hl_null_access();
	r8 = HL__ENUM_INDEX__(r9);
	switch(r8) {
		default:
			goto label$85f08ff_7_144;
		case 0:
			r10 = r3 ? r3->v.i : 0;
			lime__internal_graphics_ImageCanvasUtil_fillRect(r0,r4,r2,r10);
			goto label$85f08ff_7_144;
		case 1:
			r6 = r0->buffer;
			if( r6 == NULL ) hl_null_access();
			r11 = r6->data;
			if( r11 == NULL ) hl_null_access();
			r8 = r11->length;
			r10 = 0;
			if( r8 != r10 ) goto label$85f08ff_7_21;
			return;
			label$85f08ff_7_21:
			r10 = r3 ? r3->v.i : 0;
			lime__internal_graphics_ImageDataUtil_fillRect(r0,r4,r2,r10);
			goto label$85f08ff_7_144;
		case 2:
			if( r4 == NULL ) hl_null_access();
			r8 = r0->offsetX;
			r12 = (double)r8;
			r8 = r0->offsetY;
			r13 = (double)r8;
			lime_math_Rectangle_offset(r4,r12,r13);
			if( r3 ) goto label$85f08ff_7_64;
			r10 = 0;
			r15 = 255;
			r14 = r2 & r15;
			r15 = 255;
			r14 = r14 & r15;
			r15 = 24;
			r14 = r14 << r15;
			r16 = 24;
			r15 = ((unsigned)r2) >> r16;
			r16 = 255;
			r15 = r15 & r16;
			r16 = 255;
			r15 = r15 & r16;
			r16 = 16;
			r15 = r15 << r16;
			r14 = r14 | r15;
			r16 = 16;
			r15 = ((unsigned)r2) >> r16;
			r16 = 255;
			r15 = r15 & r16;
			r16 = 255;
			r15 = r15 & r16;
			r16 = 8;
			r15 = r15 << r16;
			r14 = r14 | r15;
			r16 = 8;
			r15 = ((unsigned)r2) >> r16;
			r16 = 255;
			r15 = r15 & r16;
			r16 = 255;
			r15 = r15 & r16;
			r14 = r14 | r15;
			goto label$85f08ff_7_135;
			label$85f08ff_7_64:
			r8 = r3 ? r3->v.i : 0;
			switch(r8) {
				default:
				case 0:
					r10 = 0;
					r16 = 255;
					r15 = r2 & r16;
					r16 = 255;
					r15 = r15 & r16;
					r16 = 24;
					r15 = r15 << r16;
					r17 = 24;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 16;
					r16 = r16 << r17;
					r15 = r15 | r16;
					r17 = 16;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 8;
					r16 = r16 << r17;
					r15 = r15 | r16;
					r17 = 8;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r15 = r15 | r16;
					r14 = r15;
					goto label$85f08ff_7_135;
				case 1:
					r14 = r2;
					goto label$85f08ff_7_135;
				case 2:
					r10 = 0;
					r16 = 255;
					r15 = r2 & r16;
					r16 = 255;
					r15 = r15 & r16;
					r16 = 24;
					r15 = r15 << r16;
					r17 = 8;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 16;
					r16 = r16 << r17;
					r15 = r15 | r16;
					r17 = 16;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 8;
					r16 = r16 << r17;
					r15 = r15 | r16;
					r17 = 24;
					r16 = ((unsigned)r2) >> r17;
					r17 = 255;
					r16 = r16 & r17;
					r17 = 255;
					r16 = r16 & r17;
					r15 = r15 | r16;
					r14 = r15;
			}
			label$85f08ff_7_135:
			r6 = r0->buffer;
			if( r6 == NULL ) hl_null_access();
			r7 = r6->__srcBitmapData;
			if( r7 == NULL ) hl_null_access();
			r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,213468886/*fillRect*/,&t$_dyn);
			if( r7 == NULL ) hl_null_access();
			r18 = lime_math_Rectangle___toFlashRectangle(r4);
			r19 = hl_alloc_dynamic(&t$_i32);
			r19->v.i = r14;
			{
				vdynamic *args[] = {r18,r19};
				r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,2);
			}
	}
	label$85f08ff_7_144:
	return;
}

void lime_graphics_Image_floodFill(lime__graphics__Image r0,int r1,int r2,int r3,vdynamic* r4) {
	venum *r9;
	lime__graphics__ImageBuffer r6;
	vdynamic *r7, *r15, *r16, *r17;
	int r8, r10, r11, r12, r13, r14;
	r6 = r0->buffer;
	if( r6 ) goto label$85f08ff_8_3;
	return;
	label$85f08ff_8_3:
	r9 = r0->type;
	if( r9 == NULL ) hl_null_access();
	r8 = HL__ENUM_INDEX__(r9);
	switch(r8) {
		default:
			goto label$85f08ff_8_133;
		case 0:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageCanvasUtil_floodFill(r0,r1,r2,r3,r12);
			goto label$85f08ff_8_133;
		case 1:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageDataUtil_floodFill(r0,r1,r2,r3,r12);
			goto label$85f08ff_8_133;
		case 2:
			if( r4 ) goto label$85f08ff_8_48;
			r10 = 0;
			r12 = 255;
			r11 = r3 & r12;
			r12 = 255;
			r11 = r11 & r12;
			r12 = 24;
			r11 = r11 << r12;
			r13 = 24;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 16;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 16;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 8;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 8;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r11 = r11 | r12;
			goto label$85f08ff_8_119;
			label$85f08ff_8_48:
			r8 = r4 ? r4->v.i : 0;
			switch(r8) {
				default:
				case 0:
					r10 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
					goto label$85f08ff_8_119;
				case 1:
					r11 = r3;
					goto label$85f08ff_8_119;
				case 2:
					r10 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
			}
			label$85f08ff_8_119:
			r6 = r0->buffer;
			if( r6 == NULL ) hl_null_access();
			r7 = r6->__srcBitmapData;
			if( r7 == NULL ) hl_null_access();
			r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,428508267/*floodFill*/,&t$_dyn);
			if( r7 == NULL ) hl_null_access();
			r10 = r0->offsetX;
			r8 = r1 + r10;
			r15 = hl_alloc_dynamic(&t$_i32);
			r15->v.i = r8;
			r10 = r0->offsetY;
			r8 = r2 + r10;
			r16 = hl_alloc_dynamic(&t$_i32);
			r16->v.i = r8;
			r17 = hl_alloc_dynamic(&t$_i32);
			r17->v.i = r11;
			{
				vdynamic *args[] = {r15,r16,r17};
				r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,3);
			}
	}
	label$85f08ff_8_133:
	return;
}

lime__graphics__Image lime_graphics_Image_fromBase64(String r0,String r1) {
	lime__graphics__Image r3;
	venum *r10;
	lime__graphics__ImageBuffer r4;
	vclosure *r11;
	vdynamic *r9;
	int *r5, *r6, *r7, *r8;
	if( r0 ) goto label$85f08ff_9_3;
	r3 = NULL;
	return r3;
	label$85f08ff_9_3:
	r3 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	r10 = NULL;
	lime_graphics_Image_new(r3,r4,r5,r6,r7,r8,r9,r10);
	r11 = NULL;
	lime_graphics_Image___fromBase64(r3,r0,r1,r11);
	return r3;
}

lime__graphics__Image lime_graphics_Image_fromBitmapData(vdynamic* r0) {
	lime__graphics__Image r2;
	vdynamic *r1;
	if( r0 ) goto label$85f08ff_10_3;
	r2 = NULL;
	return r2;
	label$85f08ff_10_3:
	if( r0 == NULL ) hl_null_access();
	r1 = (vdynamic*)hl_dyn_getp((vdynamic*)r0,-43442607/*image*/,&t$_dyn);
	r2 = (lime__graphics__Image)hl_dyn_castp(&r1,&t$_dyn,&t$lime_graphics_Image);
	return r2;
}

lime__graphics__Image lime_graphics_Image_fromBytes(haxe__io__Bytes r0) {
	lime__graphics__Image r2, r11;
	venum *r9;
	bool r10;
	lime__graphics__ImageBuffer r3;
	vclosure *r12;
	vdynamic *r8;
	int *r4, *r5, *r6, *r7;
	if( r0 ) goto label$85f08ff_11_3;
	r2 = NULL;
	return r2;
	label$85f08ff_11_3:
	r2 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	lime_graphics_Image_new(r2,r3,r4,r5,r6,r7,r8,r9);
	r12 = NULL;
	r10 = lime_graphics_Image___fromBytes(r2,r0,r12);
	if( !r10 ) goto label$85f08ff_11_16;
	return r2;
	label$85f08ff_11_16:
	r11 = NULL;
	return r11;
}

lime__graphics__Image lime_graphics_Image_fromCanvas(vdynamic* r0) {
	lime__graphics__Image r3;
	venum *r11;
	lime__graphics__ImageBuffer r4;
	lime__utils__ArrayBufferView r5;
	int *r6, *r7, *r8, *r10;
	vdynamic *r2, *r9;
	if( r0 ) goto label$85f08ff_12_3;
	r3 = NULL;
	return r3;
	label$85f08ff_12_3:
	r4 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r5 = NULL;
	if( r0 == NULL ) hl_null_access();
	r2 = (vdynamic*)hl_dyn_getp((vdynamic*)r0,-362629759/*width*/,&t$_dyn);
	r6 = (int*)hl_dyn_castp(&r2,&t$_dyn,&t$ref_i32);
	r2 = (vdynamic*)hl_dyn_getp((vdynamic*)r0,38537191/*height*/,&t$_dyn);
	r7 = (int*)hl_dyn_castp(&r2,&t$_dyn,&t$ref_i32);
	r8 = NULL;
	r9 = NULL;
	lime_graphics_ImageBuffer_new(r4,r5,r6,r7,r8,r9);
	r2 = lime_graphics_ImageBuffer_set_src(r4,r0);
	r3 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r10 = NULL;
	r9 = NULL;
	r11 = NULL;
	lime_graphics_Image_new(r3,r4,r6,r7,r8,r10,r9,r11);
	r11 = (venum*)g$lime_graphics_ImageType_CANVAS;
	r3->type = r11;
	return r3;
}

lime__graphics__Image lime_graphics_Image_fromFile(String r0) {
	lime__graphics__Image r2, r11;
	venum *r9;
	bool r10;
	lime__graphics__ImageBuffer r3;
	vclosure *r12, *r13;
	vdynamic *r8;
	int *r4, *r5, *r6, *r7;
	if( r0 ) goto label$85f08ff_13_3;
	r2 = NULL;
	return r2;
	label$85f08ff_13_3:
	r2 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	lime_graphics_Image_new(r2,r3,r4,r5,r6,r7,r8,r9);
	r12 = NULL;
	r13 = NULL;
	r10 = lime_graphics_Image___fromFile(r2,r0,r12,r13);
	if( !r10 ) goto label$85f08ff_13_17;
	return r2;
	label$85f08ff_13_17:
	r11 = NULL;
	return r11;
}

lime__graphics__Image lime_graphics_Image_fromImageElement(vdynamic* r0) {
	lime__graphics__Image r3;
	venum *r11;
	lime__graphics__ImageBuffer r4;
	lime__utils__ArrayBufferView r5;
	int *r6, *r7, *r8, *r10;
	vdynamic *r2, *r9;
	if( r0 ) goto label$85f08ff_14_3;
	r3 = NULL;
	return r3;
	label$85f08ff_14_3:
	r4 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r5 = NULL;
	if( r0 == NULL ) hl_null_access();
	r2 = (vdynamic*)hl_dyn_getp((vdynamic*)r0,-362629759/*width*/,&t$_dyn);
	r6 = (int*)hl_dyn_castp(&r2,&t$_dyn,&t$ref_i32);
	r2 = (vdynamic*)hl_dyn_getp((vdynamic*)r0,38537191/*height*/,&t$_dyn);
	r7 = (int*)hl_dyn_castp(&r2,&t$_dyn,&t$ref_i32);
	r8 = NULL;
	r9 = NULL;
	lime_graphics_ImageBuffer_new(r4,r5,r6,r7,r8,r9);
	r2 = lime_graphics_ImageBuffer_set_src(r4,r0);
	r3 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	r10 = NULL;
	r9 = NULL;
	r11 = NULL;
	lime_graphics_Image_new(r3,r4,r6,r7,r8,r10,r9,r11);
	r11 = (venum*)g$lime_graphics_ImageType_CANVAS;
	r3->type = r11;
	return r3;
}

lime__math__Rectangle lime_graphics_Image_getColorBoundsRect(lime__graphics__Image r0,int r1,int r2,bool* r3,vdynamic* r4) {
	vvirtual *r16;
	venum *r11;
	bool r5;
	lime__graphics__ImageBuffer r7;
	double r17, r19, r21, r23;
	lime__math__Rectangle r8;
	double *r18, *r20, *r22, *r24;
	vdynamic *r9, *r13, *r14, *r15;
	int r10, r12;
	if( r3 ) goto label$85f08ff_15_3;
	r5 = true;
	goto label$85f08ff_15_4;
	label$85f08ff_15_3:
	r5 = *r3;
	label$85f08ff_15_4:
	r7 = r0->buffer;
	if( r7 ) goto label$85f08ff_15_8;
	r8 = NULL;
	return r8;
	label$85f08ff_15_8:
	r11 = r0->type;
	if( r11 == NULL ) hl_null_access();
	r10 = HL__ENUM_INDEX__(r11);
	switch(r10) {
		default:
			r8 = NULL;
			return r8;
		case 0:
			r12 = r4 ? r4->v.i : 0;
			r8 = lime__internal_graphics_ImageDataUtil_getColorBoundsRect(r0,r1,r2,r5,r12);
			return r8;
		case 1:
			r12 = r4 ? r4->v.i : 0;
			r8 = lime__internal_graphics_ImageDataUtil_getColorBoundsRect(r0,r1,r2,r5,r12);
			return r8;
		case 2:
			r7 = r0->buffer;
			if( r7 == NULL ) hl_null_access();
			r9 = r7->__srcBitmapData;
			if( r9 == NULL ) hl_null_access();
			r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-521622537/*getColorBoundsRect*/,&t$_dyn);
			if( r9 == NULL ) hl_null_access();
			r13 = hl_alloc_dynamic(&t$_i32);
			r13->v.i = r1;
			r14 = hl_alloc_dynamic(&t$_i32);
			r14->v.i = r2;
			r15 = hl_alloc_dynbool(r5);
			{
				vdynamic *args[] = {r13,r14,r15};
				r9 = (vdynamic*)hl_dyn_call((vclosure*)r9,args,3);
			}
			r16 = hl_to_virtual(&t$vrt_ab18abc,(vdynamic*)r9);
			r8 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
			if( r16 == NULL ) hl_null_access();
			r17 = hl_vfields(r16)[2] ? (*(double*)(hl_vfields(r16)[2])) : (double)hl_dyn_getd(r16->value,120/*x*/);
			r18 = &r17;
			r19 = hl_vfields(r16)[3] ? (*(double*)(hl_vfields(r16)[3])) : (double)hl_dyn_getd(r16->value,121/*y*/);
			r20 = &r19;
			r21 = hl_vfields(r16)[1] ? (*(double*)(hl_vfields(r16)[1])) : (double)hl_dyn_getd(r16->value,-362629759/*width*/);
			r22 = &r21;
			r23 = hl_vfields(r16)[0] ? (*(double*)(hl_vfields(r16)[0])) : (double)hl_dyn_getd(r16->value,38537191/*height*/);
			r24 = &r23;
			lime_math_Rectangle_new(r8,r18,r20,r22,r24);
			return r8;
	}
}

int lime_graphics_Image_getPixel(lime__graphics__Image r0,int r1,int r2,vdynamic* r3) {
	venum *r8;
	lime__graphics__ImageBuffer r4;
	vdynamic *r7, *r10, *r11;
	int r5, r6, r9, r12, r13;
	r4 = r0->buffer;
	if( !r4 ) goto label$85f08ff_16_10;
	r6 = 0;
	if( r1 < r6 ) goto label$85f08ff_16_10;
	r6 = 0;
	if( r2 < r6 ) goto label$85f08ff_16_10;
	r6 = r0->width;
	if( r1 >= r6 ) goto label$85f08ff_16_10;
	r6 = r0->height;
	if( r2 < r6 ) goto label$85f08ff_16_12;
	label$85f08ff_16_10:
	r5 = 0;
	return r5;
	label$85f08ff_16_12:
	r8 = r0->type;
	if( r8 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r8);
	switch(r5) {
		default:
			r5 = 0;
			return r5;
		case 0:
			r9 = r3 ? r3->v.i : 0;
			r5 = lime__internal_graphics_ImageCanvasUtil_getPixel(r0,r1,r2,r9);
			return r5;
		case 1:
			r9 = r3 ? r3->v.i : 0;
			r5 = lime__internal_graphics_ImageDataUtil_getPixel(r0,r1,r2,r9);
			return r5;
		case 2:
			r4 = r0->buffer;
			if( r4 == NULL ) hl_null_access();
			r7 = r4->__srcBitmapData;
			if( r7 == NULL ) hl_null_access();
			r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,41604757/*getPixel*/,&t$_dyn);
			if( r7 == NULL ) hl_null_access();
			r6 = r0->offsetX;
			r5 = r1 + r6;
			r10 = hl_alloc_dynamic(&t$_i32);
			r10->v.i = r5;
			r6 = r0->offsetY;
			r5 = r2 + r6;
			r11 = hl_alloc_dynamic(&t$_i32);
			r11->v.i = r5;
			{
				vdynamic *args[] = {r10,r11};
				r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,2);
			}
			r5 = (int)hl_dyn_casti(&r7,&t$_dyn,&t$_i32);
			if( r3 ) goto label$85f08ff_16_72;
			r6 = 0;
			r12 = 16;
			r9 = ((unsigned)r5) >> r12;
			r12 = 255;
			r9 = r9 & r12;
			r12 = 255;
			r9 = r9 & r12;
			r12 = 24;
			r9 = r9 << r12;
			r13 = 8;
			r12 = ((unsigned)r5) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 16;
			r12 = r12 << r13;
			r9 = r9 | r12;
			r13 = 255;
			r12 = r5 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 8;
			r12 = r12 << r13;
			r9 = r9 | r12;
			r13 = 24;
			r12 = ((unsigned)r5) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r9 = r9 | r12;
			return r9;
			label$85f08ff_16_72:
			r6 = r3 ? r3->v.i : 0;
			switch(r6) {
				default:
				case 0:
					r6 = 0;
					r12 = 16;
					r9 = ((unsigned)r5) >> r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 24;
					r9 = r9 << r12;
					r13 = 8;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 16;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 255;
					r12 = r5 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 8;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 24;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r9 = r9 | r12;
					return r9;
				case 1:
					return r5;
				case 2:
					r6 = 0;
					r12 = 255;
					r9 = r5 & r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 24;
					r9 = r9 << r12;
					r13 = 8;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 16;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 16;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 8;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 24;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r9 = r9 | r12;
					return r9;
			}
	}
}

int lime_graphics_Image_getPixel32(lime__graphics__Image r0,int r1,int r2,vdynamic* r3) {
	venum *r8;
	lime__graphics__ImageBuffer r4;
	vdynamic *r7, *r10, *r11;
	int r5, r6, r9, r12, r13;
	r4 = r0->buffer;
	if( !r4 ) goto label$85f08ff_17_10;
	r6 = 0;
	if( r1 < r6 ) goto label$85f08ff_17_10;
	r6 = 0;
	if( r2 < r6 ) goto label$85f08ff_17_10;
	r6 = r0->width;
	if( r1 >= r6 ) goto label$85f08ff_17_10;
	r6 = r0->height;
	if( r2 < r6 ) goto label$85f08ff_17_12;
	label$85f08ff_17_10:
	r5 = 0;
	return r5;
	label$85f08ff_17_12:
	r8 = r0->type;
	if( r8 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r8);
	switch(r5) {
		default:
			r5 = 0;
			return r5;
		case 0:
			r9 = r3 ? r3->v.i : 0;
			r5 = lime__internal_graphics_ImageCanvasUtil_getPixel32(r0,r1,r2,r9);
			return r5;
		case 1:
			r9 = r3 ? r3->v.i : 0;
			r5 = lime__internal_graphics_ImageDataUtil_getPixel32(r0,r1,r2,r9);
			return r5;
		case 2:
			r4 = r0->buffer;
			if( r4 == NULL ) hl_null_access();
			r7 = r4->__srcBitmapData;
			if( r7 == NULL ) hl_null_access();
			r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,-144136662/*getPixel32*/,&t$_dyn);
			if( r7 == NULL ) hl_null_access();
			r6 = r0->offsetX;
			r5 = r1 + r6;
			r10 = hl_alloc_dynamic(&t$_i32);
			r10->v.i = r5;
			r6 = r0->offsetY;
			r5 = r2 + r6;
			r11 = hl_alloc_dynamic(&t$_i32);
			r11->v.i = r5;
			{
				vdynamic *args[] = {r10,r11};
				r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,2);
			}
			r5 = (int)hl_dyn_casti(&r7,&t$_dyn,&t$_i32);
			if( r3 ) goto label$85f08ff_17_72;
			r6 = 0;
			r12 = 16;
			r9 = ((unsigned)r5) >> r12;
			r12 = 255;
			r9 = r9 & r12;
			r12 = 255;
			r9 = r9 & r12;
			r12 = 24;
			r9 = r9 << r12;
			r13 = 8;
			r12 = ((unsigned)r5) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 16;
			r12 = r12 << r13;
			r9 = r9 | r12;
			r13 = 255;
			r12 = r5 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 8;
			r12 = r12 << r13;
			r9 = r9 | r12;
			r13 = 24;
			r12 = ((unsigned)r5) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r9 = r9 | r12;
			return r9;
			label$85f08ff_17_72:
			r6 = r3 ? r3->v.i : 0;
			switch(r6) {
				default:
				case 0:
					r6 = 0;
					r12 = 16;
					r9 = ((unsigned)r5) >> r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 24;
					r9 = r9 << r12;
					r13 = 8;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 16;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 255;
					r12 = r5 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 8;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 24;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r9 = r9 | r12;
					return r9;
				case 1:
					return r5;
				case 2:
					r6 = 0;
					r12 = 255;
					r9 = r5 & r12;
					r12 = 255;
					r9 = r9 & r12;
					r12 = 24;
					r9 = r9 << r12;
					r13 = 8;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 16;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 16;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 8;
					r12 = r12 << r13;
					r9 = r9 | r12;
					r13 = 24;
					r12 = ((unsigned)r5) >> r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r9 = r9 | r12;
					return r9;
			}
	}
}

haxe__io__Bytes lime_graphics_Image_getPixels(lime__graphics__Image r0,lime__math__Rectangle r1,vdynamic* r2) {
	venum *r6;
	haxe__io__Bytes r4;
	lime__graphics__ImageBuffer r3;
	int r5;
	r3 = r0->buffer;
	if( r3 ) goto label$85f08ff_18_4;
	r4 = NULL;
	return r4;
	label$85f08ff_18_4:
	r6 = r0->type;
	if( r6 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r6);
	switch(r5) {
		default:
			r4 = NULL;
			return r4;
		case 0:
			r5 = r2 ? r2->v.i : 0;
			r4 = lime__internal_graphics_ImageCanvasUtil_getPixels(r0,r1,r5);
			return r4;
		case 1:
			r5 = r2 ? r2->v.i : 0;
			r4 = lime__internal_graphics_ImageDataUtil_getPixels(r0,r1,r5);
			return r4;
		case 2:
			r4 = NULL;
			return r4;
	}
}

lime__app__Future lime_graphics_Image_loadFromBase64(String r0,String r1) {
	lime__graphics__Image r4;
	String r2;
	haxe__io__Bytes r5;
	lime__app__Future r3;
	if( !r0 ) goto label$85f08ff_19_2;
	if( r1 ) goto label$85f08ff_19_5;
	label$85f08ff_19_2:
	r4 = NULL;
	r3 = lime_app_Future_withValue(((vdynamic*)r4));
	return r3;
	label$85f08ff_19_5:
	if( !r0 ) goto label$85f08ff_19_9;
	r5 = lime__internal_format_Base64_decode(r0);
	r3 = lime_graphics_Image_loadFromBytes(r5);
	return r3;
	label$85f08ff_19_9:
	r2 = (String)s$;
	r3 = lime_app_Future_withError(((vdynamic*)r2));
	return r3;
}

lime__graphics__Image lime_graphics_Image_loadFromBytes__$1(haxe__io__Bytes r0) {
	lime__graphics__Image r1;
	r1 = lime_graphics_Image_fromBytes(r0);
	return r1;
}

lime__app__Future lime_graphics_Image_loadFromBytes(haxe__io__Bytes r0) {
	bool *r6;
	lime__graphics__Image r3;
	bool r5;
	lime__app__Future r2;
	vclosure *r4;
	if( r0 ) goto label$85f08ff_21_4;
	r3 = NULL;
	r2 = lime_app_Future_withValue(((vdynamic*)r3));
	return r2;
	label$85f08ff_21_4:
	r2 = (lime__app__Future)hl_alloc_obj(&t$lime_app_Future);
	r4 = hl_alloc_closure_ptr(&t$fun_41ea2ae,lime_graphics_Image_loadFromBytes__$1,r0);
	r5 = true;
	r6 = &r5;
	lime_app_Future_new(r2,((vclosure*)r4),r6);
	return r2;
}

lime__app__Future lime_graphics_Image_loadFromFile(String r0) {
	lime__graphics__Image r4;
	String r2;
	lime__net___HTTPRequest_lime_graphics_Image r5;
	lime__app__Future r3;
	vclosure *r6, *r7;
	static vclosure cl$0 = { &t$fun_bd66a1c, lime_graphics_Image_loadFromFile__$1, 0 };
	if( r0 ) goto label$85f08ff_22_4;
	r4 = NULL;
	r3 = lime_app_Future_withValue(((vdynamic*)r4));
	return r3;
	label$85f08ff_22_4:
	r5 = (lime__net___HTTPRequest_lime_graphics_Image)hl_alloc_obj(&t$lime_net__HTTPRequest_lime_graphics_Image);
	r2 = NULL;
	lime_net__HTTPRequest_lime_graphics_Image_new(r5,r2);
	r3 = lime_net__HTTPRequest_Bytes_load(((lime__net___HTTPRequest_Bytes)r5),r0);
	if( r3 == NULL ) hl_null_access();
	r6 = &cl$0;
	if( r6 ) goto label$85f08ff_22_13;
	r7 = NULL;
	goto label$85f08ff_22_14;
	label$85f08ff_22_13:
	r7 = hl_alloc_closure_ptr(&t$fun_8b3c6ac,wrapt$fun_8b3c6ac,r6);
	label$85f08ff_22_14:
	r3 = lime_app_Future_then(r3,r7);
	return r3;
}

lime__app__Future lime_graphics_Image_loadFromFile__$1(lime__graphics__Image r0) {
	String r2;
	lime__app__Future r1;
	if( !r0 ) goto label$85f08ff_23_3;
	r1 = lime_app_Future_withValue(((vdynamic*)r0));
	return r1;
	label$85f08ff_23_3:
	r2 = (String)s$;
	r1 = lime_app_Future_withError(((vdynamic*)r2));
	return r1;
}

void lime_graphics_Image_merge(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,int r4,int r5,int r6,int r7) {
	bool *r13;
	venum *r12;
	lime__graphics__ImageBuffer r9;
	double r14, r15;
	vdynamic *r10, *r16, *r17, *r18, *r19, *r20, *r21, *r22;
	int r11;
	r9 = r0->buffer;
	if( !r9 ) goto label$85f08ff_24_3;
	if( r1 ) goto label$85f08ff_24_4;
	label$85f08ff_24_3:
	return;
	label$85f08ff_24_4:
	r12 = r0->type;
	if( r12 == NULL ) hl_null_access();
	r11 = HL__ENUM_INDEX__(r12);
	switch(r11) {
		default:
			return;
		case 0:
			r13 = NULL;
			lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r13);
			lime__internal_graphics_ImageCanvasUtil_merge(r0,r1,r2,r3,r4,r5,r6,r7);
			goto label$85f08ff_24_39;
		case 1:
			lime__internal_graphics_ImageDataUtil_merge(r0,r1,r2,r3,r4,r5,r6,r7);
			goto label$85f08ff_24_39;
		case 2:
			if( r2 == NULL ) hl_null_access();
			r11 = r0->offsetX;
			r14 = (double)r11;
			r11 = r0->offsetY;
			r15 = (double)r11;
			lime_math_Rectangle_offset(r2,r14,r15);
			r9 = r0->buffer;
			if( r9 == NULL ) hl_null_access();
			r10 = r9->__srcBitmapData;
			if( r10 == NULL ) hl_null_access();
			r10 = (vdynamic*)hl_dyn_getp((vdynamic*)r10,96903864/*merge*/,&t$_dyn);
			if( r10 == NULL ) hl_null_access();
			if( r1 == NULL ) hl_null_access();
			r9 = r1->buffer;
			if( r9 == NULL ) hl_null_access();
			r16 = r9->__srcBitmapData;
			r17 = lime_math_Rectangle___toFlashRectangle(r2);
			if( r3 == NULL ) hl_null_access();
			r18 = lime_math_Vector2___toFlashPoint(r3);
			r19 = hl_alloc_dynamic(&t$_i32);
			r19->v.i = r4;
			r20 = hl_alloc_dynamic(&t$_i32);
			r20->v.i = r5;
			r21 = hl_alloc_dynamic(&t$_i32);
			r21->v.i = r6;
			r22 = hl_alloc_dynamic(&t$_i32);
			r22->v.i = r7;
			{
				vdynamic *args[] = {r16,r17,r18,r19,r20,r21,r22};
				r10 = (vdynamic*)hl_dyn_call((vclosure*)r10,args,7);
			}
	}
	label$85f08ff_24_39:
	return;
}

void lime_graphics_Image_resize(lime__graphics__Image r0,int r1,int r2) {
	venum *r5;
	lime__graphics__ImageBuffer r6;
	int r4;
	r5 = r0->type;
	if( r5 == NULL ) hl_null_access();
	r4 = HL__ENUM_INDEX__(r5);
	switch(r4) {
		default:
			goto label$85f08ff_25_9;
		case 0:
			lime__internal_graphics_ImageCanvasUtil_resize(r0,r1,r2);
			goto label$85f08ff_25_9;
		case 1:
			lime__internal_graphics_ImageDataUtil_resize(r0,r1,r2);
			goto label$85f08ff_25_9;
		case 2:
			break;
	}
	label$85f08ff_25_9:
	r6 = r0->buffer;
	if( r6 == NULL ) hl_null_access();
	r6->width = r1;
	r6 = r0->buffer;
	if( r6 == NULL ) hl_null_access();
	r6->height = r2;
	r4 = 0;
	r0->offsetX = r4;
	r4 = 0;
	r0->offsetY = r4;
	r0->width = r1;
	r0->height = r2;
	return;
}

void lime_graphics_Image_scroll(lime__graphics__Image r0,int r1,int r2) {
	bool *r17;
	lime__graphics__Image r15;
	lime__math__Vector2 r10, r16;
	venum *r7;
	lime__graphics__ImageBuffer r4;
	double r11, r13;
	lime__math__Rectangle r9;
	double *r12, *r14;
	vdynamic *r5, *r18, *r19;
	int r6, r8;
	r4 = r0->buffer;
	if( r4 ) goto label$85f08ff_26_3;
	return;
	label$85f08ff_26_3:
	r7 = r0->type;
	if( r7 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r7);
	switch(r6) {
		default:
			goto label$85f08ff_26_35;
		case 0:
			lime__internal_graphics_ImageCanvasUtil_scroll(r0,r1,r2);
			goto label$85f08ff_26_35;
		case 1:
			r9 = lime_graphics_Image_get_rect(r0);
			r10 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
			r11 = (double)r1;
			r12 = &r11;
			r13 = (double)r2;
			r14 = &r13;
			lime_math_Vector2_new(r10,r12,r14);
			r15 = NULL;
			r16 = NULL;
			r17 = NULL;
			lime_graphics_Image_copyPixels(r0,r0,r9,r10,r15,r16,r17);
			goto label$85f08ff_26_35;
		case 2:
			r4 = r0->buffer;
			if( r4 == NULL ) hl_null_access();
			r5 = r4->__srcBitmapData;
			if( r5 == NULL ) hl_null_access();
			r5 = (vdynamic*)hl_dyn_getp((vdynamic*)r5,124049687/*scroll*/,&t$_dyn);
			if( r5 == NULL ) hl_null_access();
			r8 = r0->offsetX;
			r6 = r1 + r8;
			r18 = hl_alloc_dynamic(&t$_i32);
			r18->v.i = r6;
			r8 = r0->offsetX;
			r6 = r2 + r8;
			r19 = hl_alloc_dynamic(&t$_i32);
			r19->v.i = r6;
			{
				vdynamic *args[] = {r18,r19};
				r5 = (vdynamic*)hl_dyn_call((vclosure*)r5,args,2);
			}
	}
	label$85f08ff_26_35:
	return;
}

void lime_graphics_Image_setPixel(lime__graphics__Image r0,int r1,int r2,int r3,vdynamic* r4) {
	venum *r10;
	lime__graphics__ImageBuffer r6;
	vdynamic *r9, *r15, *r16, *r17;
	int r7, r8, r11, r12, r13, r14;
	r6 = r0->buffer;
	if( !r6 ) goto label$85f08ff_27_10;
	r8 = 0;
	if( r1 < r8 ) goto label$85f08ff_27_10;
	r8 = 0;
	if( r2 < r8 ) goto label$85f08ff_27_10;
	r8 = r0->width;
	if( r1 >= r8 ) goto label$85f08ff_27_10;
	r8 = r0->height;
	if( r2 < r8 ) goto label$85f08ff_27_11;
	label$85f08ff_27_10:
	return;
	label$85f08ff_27_11:
	r10 = r0->type;
	if( r10 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r10);
	switch(r7) {
		default:
			goto label$85f08ff_27_141;
		case 0:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageCanvasUtil_setPixel(r0,r1,r2,r3,r12);
			goto label$85f08ff_27_141;
		case 1:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageDataUtil_setPixel(r0,r1,r2,r3,r12);
			goto label$85f08ff_27_141;
		case 2:
			if( r4 ) goto label$85f08ff_27_56;
			r8 = 0;
			r12 = 255;
			r11 = r3 & r12;
			r12 = 255;
			r11 = r11 & r12;
			r12 = 24;
			r11 = r11 << r12;
			r13 = 24;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 16;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 16;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 8;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 8;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r11 = r11 | r12;
			goto label$85f08ff_27_127;
			label$85f08ff_27_56:
			r7 = r4 ? r4->v.i : 0;
			switch(r7) {
				default:
				case 0:
					r8 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
					goto label$85f08ff_27_127;
				case 1:
					r11 = r3;
					goto label$85f08ff_27_127;
				case 2:
					r8 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
			}
			label$85f08ff_27_127:
			r6 = r0->buffer;
			if( r6 == NULL ) hl_null_access();
			r9 = r6->__srcBitmapData;
			if( r9 == NULL ) hl_null_access();
			r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-254267649/*setPixel*/,&t$_dyn);
			if( r9 == NULL ) hl_null_access();
			r8 = r0->offsetX;
			r7 = r1 + r8;
			r15 = hl_alloc_dynamic(&t$_i32);
			r15->v.i = r7;
			r8 = r0->offsetX;
			r7 = r2 + r8;
			r16 = hl_alloc_dynamic(&t$_i32);
			r16->v.i = r7;
			r17 = hl_alloc_dynamic(&t$_i32);
			r17->v.i = r11;
			{
				vdynamic *args[] = {r15,r16,r17};
				r9 = (vdynamic*)hl_dyn_call((vclosure*)r9,args,3);
			}
	}
	label$85f08ff_27_141:
	return;
}

void lime_graphics_Image_setPixel32(lime__graphics__Image r0,int r1,int r2,int r3,vdynamic* r4) {
	venum *r10;
	lime__graphics__ImageBuffer r6;
	vdynamic *r9, *r15, *r16, *r17;
	int r7, r8, r11, r12, r13, r14;
	r6 = r0->buffer;
	if( !r6 ) goto label$85f08ff_28_10;
	r8 = 0;
	if( r1 < r8 ) goto label$85f08ff_28_10;
	r8 = 0;
	if( r2 < r8 ) goto label$85f08ff_28_10;
	r8 = r0->width;
	if( r1 >= r8 ) goto label$85f08ff_28_10;
	r8 = r0->height;
	if( r2 < r8 ) goto label$85f08ff_28_11;
	label$85f08ff_28_10:
	return;
	label$85f08ff_28_11:
	r10 = r0->type;
	if( r10 == NULL ) hl_null_access();
	r7 = HL__ENUM_INDEX__(r10);
	switch(r7) {
		default:
			goto label$85f08ff_28_141;
		case 0:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageCanvasUtil_setPixel32(r0,r1,r2,r3,r12);
			goto label$85f08ff_28_141;
		case 1:
			r12 = r4 ? r4->v.i : 0;
			lime__internal_graphics_ImageDataUtil_setPixel32(r0,r1,r2,r3,r12);
			goto label$85f08ff_28_141;
		case 2:
			if( r4 ) goto label$85f08ff_28_56;
			r8 = 0;
			r12 = 255;
			r11 = r3 & r12;
			r12 = 255;
			r11 = r11 & r12;
			r12 = 24;
			r11 = r11 << r12;
			r13 = 24;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 16;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 16;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 8;
			r12 = r12 << r13;
			r11 = r11 | r12;
			r13 = 8;
			r12 = ((unsigned)r3) >> r13;
			r13 = 255;
			r12 = r12 & r13;
			r13 = 255;
			r12 = r12 & r13;
			r11 = r11 | r12;
			goto label$85f08ff_28_127;
			label$85f08ff_28_56:
			r7 = r4 ? r4->v.i : 0;
			switch(r7) {
				default:
				case 0:
					r8 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
					goto label$85f08ff_28_127;
				case 1:
					r11 = r3;
					goto label$85f08ff_28_127;
				case 2:
					r8 = 0;
					r13 = 255;
					r12 = r3 & r13;
					r13 = 255;
					r12 = r12 & r13;
					r13 = 24;
					r12 = r12 << r13;
					r14 = 8;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 16;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 16;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 8;
					r13 = r13 << r14;
					r12 = r12 | r13;
					r14 = 24;
					r13 = ((unsigned)r3) >> r14;
					r14 = 255;
					r13 = r13 & r14;
					r14 = 255;
					r13 = r13 & r14;
					r12 = r12 | r13;
					r11 = r12;
			}
			label$85f08ff_28_127:
			r6 = r0->buffer;
			if( r6 == NULL ) hl_null_access();
			r9 = r6->__srcBitmapData;
			if( r9 == NULL ) hl_null_access();
			r9 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-85572450/*setPixel32*/,&t$_dyn);
			if( r9 == NULL ) hl_null_access();
			r8 = r0->offsetX;
			r7 = r1 + r8;
			r15 = hl_alloc_dynamic(&t$_i32);
			r15->v.i = r7;
			r8 = r0->offsetY;
			r7 = r2 + r8;
			r16 = hl_alloc_dynamic(&t$_i32);
			r16->v.i = r7;
			r17 = hl_alloc_dynamic(&t$_i32);
			r17->v.i = r11;
			{
				vdynamic *args[] = {r15,r16,r17};
				r9 = (vdynamic*)hl_dyn_call((vclosure*)r9,args,3);
			}
	}
	label$85f08ff_28_141:
	return;
}

void lime_graphics_Image_setPixels(lime__graphics__Image r0,lime__math__Rectangle r1,lime__utils__BytePointerData r2,vdynamic* r3,venum* r4) {
	venum *r8, *r10;
	lime__graphics__ImageBuffer r7;
	lime__math__Rectangle r5;
	int r9;
	r5 = lime_graphics_Image___clipRect(r0,r1);
	r7 = r0->buffer;
	if( !r7 ) goto label$85f08ff_29_4;
	if( r5 ) goto label$85f08ff_29_5;
	label$85f08ff_29_4:
	return;
	label$85f08ff_29_5:
	if( r4 ) goto label$85f08ff_29_8;
	r8 = (venum*)g$lime_system_Endian_BIG_ENDIAN;
	r4 = r8;
	label$85f08ff_29_8:
	r10 = r0->type;
	if( r10 == NULL ) hl_null_access();
	r9 = HL__ENUM_INDEX__(r10);
	switch(r9) {
		default:
			goto label$85f08ff_29_19;
		case 0:
			r9 = r3 ? r3->v.i : 0;
			lime__internal_graphics_ImageCanvasUtil_setPixels(r0,r5,r2,r9,r4);
			goto label$85f08ff_29_19;
		case 1:
			r9 = r3 ? r3->v.i : 0;
			lime__internal_graphics_ImageDataUtil_setPixels(r0,r5,r2,r9,r4);
			goto label$85f08ff_29_19;
		case 2:
			break;
	}
	label$85f08ff_29_19:
	return;
}

int lime_graphics_Image_threshold(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,String r4,int r5,int* r6,int* r7,bool* r8,vdynamic* r9) {
	venum *r17;
	bool r12;
	lime__graphics__ImageBuffer r14;
	double r24, r25;
	vdynamic *r16, *r26, *r27, *r28, *r29, *r30, *r31, *r32;
	int r10, r11, r15, r18, r19, r20, r21, r22, r23;
	if( r6 ) goto label$85f08ff_30_3;
	r10 = 0;
	goto label$85f08ff_30_4;
	label$85f08ff_30_3:
	r10 = *r6;
	label$85f08ff_30_4:
	if( r7 ) goto label$85f08ff_30_7;
	r11 = -1;
	goto label$85f08ff_30_8;
	label$85f08ff_30_7:
	r11 = *r7;
	label$85f08ff_30_8:
	if( r8 ) goto label$85f08ff_30_11;
	r12 = false;
	goto label$85f08ff_30_12;
	label$85f08ff_30_11:
	r12 = *r8;
	label$85f08ff_30_12:
	r14 = r0->buffer;
	if( !r14 ) goto label$85f08ff_30_16;
	if( !r1 ) goto label$85f08ff_30_16;
	if( r2 ) goto label$85f08ff_30_18;
	label$85f08ff_30_16:
	r15 = 0;
	return r15;
	label$85f08ff_30_18:
	r17 = r0->type;
	if( r17 == NULL ) hl_null_access();
	r15 = HL__ENUM_INDEX__(r17);
	switch(r15) {
		default:
			goto label$85f08ff_30_267;
		case 0:
		case 1:
			r20 = r9 ? r9->v.i : 0;
			r15 = lime__internal_graphics_ImageDataUtil_threshold(r0,r1,r2,r3,r4,r5,r10,r11,r12,r20);
			return r15;
		case 2:
			if( r9 ) goto label$85f08ff_30_60;
			r18 = 0;
			r20 = 255;
			r19 = r10 & r20;
			r20 = 255;
			r19 = r19 & r20;
			r20 = 24;
			r19 = r19 << r20;
			r21 = 24;
			r20 = ((unsigned)r10) >> r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 16;
			r20 = r20 << r21;
			r19 = r19 | r20;
			r21 = 16;
			r20 = ((unsigned)r10) >> r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 8;
			r20 = r20 << r21;
			r19 = r19 | r20;
			r21 = 8;
			r20 = ((unsigned)r10) >> r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 255;
			r20 = r20 & r21;
			r19 = r19 | r20;
			goto label$85f08ff_30_131;
			label$85f08ff_30_60:
			r15 = r9 ? r9->v.i : 0;
			switch(r15) {
				default:
				case 0:
					r18 = 0;
					r21 = 255;
					r20 = r10 & r21;
					r21 = 255;
					r20 = r20 & r21;
					r21 = 24;
					r20 = r20 << r21;
					r22 = 24;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 16;
					r21 = r21 << r22;
					r20 = r20 | r21;
					r22 = 16;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 8;
					r21 = r21 << r22;
					r20 = r20 | r21;
					r22 = 8;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r20 = r20 | r21;
					r19 = r20;
					goto label$85f08ff_30_131;
				case 1:
					r19 = r10;
					goto label$85f08ff_30_131;
				case 2:
					r18 = 0;
					r21 = 255;
					r20 = r10 & r21;
					r21 = 255;
					r20 = r20 & r21;
					r21 = 24;
					r20 = r20 << r21;
					r22 = 8;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 16;
					r21 = r21 << r22;
					r20 = r20 | r21;
					r22 = 16;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 8;
					r21 = r21 << r22;
					r20 = r20 | r21;
					r22 = 24;
					r21 = ((unsigned)r10) >> r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r20 = r20 | r21;
					r19 = r20;
			}
			label$85f08ff_30_131:
			if( r9 ) goto label$85f08ff_30_165;
			r18 = 0;
			r21 = 255;
			r20 = r11 & r21;
			r21 = 255;
			r20 = r20 & r21;
			r21 = 24;
			r20 = r20 << r21;
			r22 = 24;
			r21 = ((unsigned)r11) >> r22;
			r22 = 255;
			r21 = r21 & r22;
			r22 = 255;
			r21 = r21 & r22;
			r22 = 16;
			r21 = r21 << r22;
			r20 = r20 | r21;
			r22 = 16;
			r21 = ((unsigned)r11) >> r22;
			r22 = 255;
			r21 = r21 & r22;
			r22 = 255;
			r21 = r21 & r22;
			r22 = 8;
			r21 = r21 << r22;
			r20 = r20 | r21;
			r22 = 8;
			r21 = ((unsigned)r11) >> r22;
			r22 = 255;
			r21 = r21 & r22;
			r22 = 255;
			r21 = r21 & r22;
			r20 = r20 | r21;
			goto label$85f08ff_30_236;
			label$85f08ff_30_165:
			r15 = r9 ? r9->v.i : 0;
			switch(r15) {
				default:
				case 0:
					r18 = 0;
					r22 = 255;
					r21 = r11 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 24;
					r21 = r21 << r22;
					r23 = 24;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 16;
					r22 = r22 << r23;
					r21 = r21 | r22;
					r23 = 16;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 8;
					r22 = r22 << r23;
					r21 = r21 | r22;
					r23 = 8;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r21 = r21 | r22;
					r20 = r21;
					goto label$85f08ff_30_236;
				case 1:
					r20 = r11;
					goto label$85f08ff_30_236;
				case 2:
					r18 = 0;
					r22 = 255;
					r21 = r11 & r22;
					r22 = 255;
					r21 = r21 & r22;
					r22 = 24;
					r21 = r21 << r22;
					r23 = 8;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 16;
					r22 = r22 << r23;
					r21 = r21 | r22;
					r23 = 16;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 8;
					r22 = r22 << r23;
					r21 = r21 | r22;
					r23 = 24;
					r22 = ((unsigned)r11) >> r23;
					r23 = 255;
					r22 = r22 & r23;
					r23 = 255;
					r22 = r22 & r23;
					r21 = r21 | r22;
					r20 = r21;
			}
			label$85f08ff_30_236:
			if( r2 == NULL ) hl_null_access();
			if( r1 == NULL ) hl_null_access();
			r15 = r1->offsetX;
			r24 = (double)r15;
			r15 = r1->offsetY;
			r25 = (double)r15;
			lime_math_Rectangle_offset(r2,r24,r25);
			if( r3 == NULL ) hl_null_access();
			r15 = r0->offsetX;
			r24 = (double)r15;
			r15 = r0->offsetY;
			r25 = (double)r15;
			lime_math_Vector2_offset(r3,r24,r25);
			r14 = r0->buffer;
			if( r14 == NULL ) hl_null_access();
			r16 = r14->__srcBitmapData;
			if( r16 == NULL ) hl_null_access();
			r16 = (vdynamic*)hl_dyn_getp((vdynamic*)r16,346276912/*threshold*/,&t$_dyn);
			if( r16 == NULL ) hl_null_access();
			r14 = r1->buffer;
			if( r14 == NULL ) hl_null_access();
			r26 = lime_graphics_ImageBuffer_get_src(r14);
			r27 = lime_math_Rectangle___toFlashRectangle(r2);
			r28 = lime_math_Vector2___toFlashPoint(r3);
			r29 = hl_alloc_dynamic(&t$_i32);
			r29->v.i = r5;
			r30 = hl_alloc_dynamic(&t$_i32);
			r30->v.i = r19;
			r31 = hl_alloc_dynamic(&t$_i32);
			r31->v.i = r20;
			r32 = hl_alloc_dynbool(r12);
			{
				vdynamic *args[] = {r26,r27,r28,(vdynamic*)r4,r29,r30,r31,r32};
				r16 = (vdynamic*)hl_dyn_call((vclosure*)r16,args,8);
			}
			r15 = (int)hl_dyn_casti(&r16,&t$_dyn,&t$_i32);
			return r15;
	}
	label$85f08ff_30_267:
	r15 = 0;
	return r15;
}

lime__math__Rectangle lime_graphics_Image___clipRect(lime__graphics__Image r0,lime__math__Rectangle r1) {
	double r3, r4, r6;
	lime__math__Rectangle r2;
	int r5;
	if( r1 ) goto label$85f08ff_31_3;
	r2 = NULL;
	return r2;
	label$85f08ff_31_3:
	if( r1 == NULL ) hl_null_access();
	r3 = r1->x;
	r4 = 0.;
	if( !(r3 < r4) ) goto label$85f08ff_31_21;
	r3 = r1->width;
	r4 = r1->x;
	r4 = -r4;
	r3 = r3 - r4;
	r1->width = r3;
	r3 = 0.;
	r1->x = r3;
	r3 = r1->x;
	r4 = r1->width;
	r3 = r3 + r4;
	r4 = 0.;
	if( !(r4 >= r3) ) goto label$85f08ff_31_21;
	r2 = NULL;
	return r2;
	label$85f08ff_31_21:
	r3 = r1->y;
	r4 = 0.;
	if( !(r3 < r4) ) goto label$85f08ff_31_38;
	r3 = r1->height;
	r4 = r1->y;
	r4 = -r4;
	r3 = r3 - r4;
	r1->height = r3;
	r3 = 0.;
	r1->y = r3;
	r3 = r1->y;
	r4 = r1->height;
	r3 = r3 + r4;
	r4 = 0.;
	if( !(r4 >= r3) ) goto label$85f08ff_31_38;
	r2 = NULL;
	return r2;
	label$85f08ff_31_38:
	r3 = r1->x;
	r4 = r1->width;
	r3 = r3 + r4;
	r5 = r0->width;
	r4 = (double)r5;
	if( !(r3 >= r4) ) goto label$85f08ff_31_58;
	r3 = r1->width;
	r4 = r1->x;
	r6 = r1->width;
	r4 = r4 + r6;
	r5 = r0->width;
	r6 = (double)r5;
	r4 = r4 - r6;
	r3 = r3 - r4;
	r1->width = r3;
	r3 = r1->width;
	r4 = 0.;
	if( !(r4 >= r3) ) goto label$85f08ff_31_58;
	r2 = NULL;
	return r2;
	label$85f08ff_31_58:
	r3 = r1->y;
	r4 = r1->height;
	r3 = r3 + r4;
	r5 = r0->height;
	r4 = (double)r5;
	if( !(r3 >= r4) ) goto label$85f08ff_31_78;
	r3 = r1->height;
	r4 = r1->y;
	r6 = r1->height;
	r4 = r4 + r6;
	r5 = r0->height;
	r6 = (double)r5;
	r4 = r4 - r6;
	r3 = r3 - r4;
	r1->height = r3;
	r3 = r1->height;
	r4 = 0.;
	if( !(r4 >= r3) ) goto label$85f08ff_31_78;
	r2 = NULL;
	return r2;
	label$85f08ff_31_78:
	return r1;
}

void lime_graphics_Image___fromBase64(lime__graphics__Image r0,String r1,String r2,vclosure* r3) {
	haxe__io__Bytes r6;
	bool r5;
	vclosure *r7;
	if( !r1 ) goto label$85f08ff_32_4;
	r6 = lime__internal_format_Base64_decode(r1);
	r7 = NULL;
	r5 = lime_graphics_Image___fromBytes(r0,r6,r7);
	label$85f08ff_32_4:
	return;
}

bool lime_graphics_Image___fromBytes(lime__graphics__Image r0,haxe__io__Bytes r1,vclosure* r2) {
	String r25;
	openfl___Vector__IntVector r9;
	venum *r26;
	bool r32;
	haxe__io__Bytes r6, r16, r23;
	lime__graphics__ImageBuffer r3, r29;
	double r27, r28;
	lime__utils__ArrayBufferView r10, r13;
	hl__types__ArrayDyn r8, r14;
	int *r17, *r30, *r31;
	vdynamic *r5, *r11, *r12, *r18;
	int r7, r15, r19, r20, r21, r22, r24;
	r3 = NULL;
	r5 = NULL;
	r7 = 0;
	r6 = haxe_io_Bytes_alloc(r7);
	r8 = NULL;
	r9 = NULL;
	r10 = NULL;
	r11 = NULL;
	if( !r5 ) goto label$85f08ff_33_13;
	r13 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 4;
	lime_utils_ArrayBufferView_new(r13,r5,r7);
	goto label$85f08ff_33_146;
	label$85f08ff_33_13:
	if( !r8 ) goto label$85f08ff_33_34;
	r13 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r13,r12,r7);
	r7 = 0;
	r13->byteOffset = r7;
	if( r8 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r8);
	r13->length = r7;
	r7 = r13->length;
	r15 = r13->bytesPerElement;
	r7 = r7 * r15;
	r13->byteLength = r7;
	r7 = r13->byteLength;
	r16 = haxe_io_Bytes_alloc(r7);
	r13->buffer = r16;
	r17 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r13,r8,r17);
	goto label$85f08ff_33_146;
	label$85f08ff_33_34:
	if( !r9 ) goto label$85f08ff_33_58;
	r13 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r13,r12,r7);
	if( r9 == NULL ) hl_null_access();
	r18 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-269630230/*__array*/,&t$_dyn);
	r14 = (hl__types__ArrayDyn)hl_dyn_castp(&r18,&t$_dyn,&t$hl_types_ArrayDyn);
	r7 = 0;
	r13->byteOffset = r7;
	if( r14 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r14);
	r13->length = r7;
	r7 = r13->length;
	r15 = r13->bytesPerElement;
	r7 = r7 * r15;
	r13->byteLength = r7;
	r7 = r13->byteLength;
	r16 = haxe_io_Bytes_alloc(r7);
	r13->buffer = r16;
	r17 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r13,r14,r17);
	goto label$85f08ff_33_146;
	label$85f08ff_33_58:
	if( !r10 ) goto label$85f08ff_33_92;
	r13 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r13,r12,r7);
	if( r10 == NULL ) hl_null_access();
	r16 = r10->buffer;
	r7 = r10->length;
	r15 = r10->byteOffset;
	r19 = r10->bytesPerElement;
	r20 = r13->bytesPerElement;
	r21 = r10->type;
	r22 = r13->type;
	if( r21 != r22 ) goto label$85f08ff_33_83;
	if( r16 == NULL ) hl_null_access();
	r21 = r16->length;
	r22 = r21 - r15;
	r23 = haxe_io_Bytes_alloc(r22);
	r13->buffer = r23;
	r23 = r13->buffer;
	if( r23 == NULL ) hl_null_access();
	r24 = 0;
	haxe_io_Bytes_blit(r23,r24,r16,r15,r22);
	goto label$85f08ff_33_85;
	label$85f08ff_33_83:
	r25 = (String)s$unimplemented;
	hl_throw((vdynamic*)r25);
	label$85f08ff_33_85:
	r21 = r13->bytesPerElement;
	r21 = r21 * r7;
	r13->byteLength = r21;
	r21 = 0;
	r13->byteOffset = r21;
	r13->length = r7;
	goto label$85f08ff_33_146;
	label$85f08ff_33_92:
	if( !r6 ) goto label$85f08ff_33_144;
	r13 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r13,r12,r7);
	r7 = 0;
	r19 = 0;
	if( r7 >= r19 ) goto label$85f08ff_33_103;
	r26 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r26);
	label$85f08ff_33_103:
	r19 = r13->bytesPerElement;
	r15 = r19 == 0 ? 0 : r7 % r19;
	r19 = 0;
	if( r15 == r19 ) goto label$85f08ff_33_109;
	r26 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r26);
	label$85f08ff_33_109:
	if( r6 == NULL ) hl_null_access();
	r15 = r6->length;
	r19 = r13->bytesPerElement;
	if( r11 ) goto label$85f08ff_33_126;
	r21 = r15 - r7;
	r20 = r21;
	r22 = r13->bytesPerElement;
	r21 = r22 == 0 ? 0 : r15 % r22;
	r22 = 0;
	if( r21 == r22 ) goto label$85f08ff_33_121;
	r26 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r26);
	label$85f08ff_33_121:
	r22 = 0;
	if( r20 >= r22 ) goto label$85f08ff_33_125;
	r26 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r26);
	label$85f08ff_33_125:
	goto label$85f08ff_33_134;
	label$85f08ff_33_126:
	r21 = r11 ? r11->v.i : 0;
	r22 = r13->bytesPerElement;
	r21 = r21 * r22;
	r20 = r21;
	r21 = r7 + r20;
	if( r15 >= r21 ) goto label$85f08ff_33_134;
	r26 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r26);
	label$85f08ff_33_134:
	r13->buffer = r6;
	r13->byteOffset = r7;
	r13->byteLength = r20;
	r27 = (double)r20;
	r21 = r13->bytesPerElement;
	r28 = (double)r21;
	r27 = r27 / r28;
	r21 = (int)r27;
	r13->length = r21;
	goto label$85f08ff_33_146;
	label$85f08ff_33_144:
	r25 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r25);
	label$85f08ff_33_146:
	r29 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r17 = NULL;
	r30 = NULL;
	r31 = NULL;
	r12 = NULL;
	lime_graphics_ImageBuffer_new(r29,r13,r17,r30,r31,r12);
	r29 = lime_hl_image_load_bytes(r1,r29);
	if( !r29 ) goto label$85f08ff_33_160;
	lime_graphics_Image___fromImageBuffer(r0,r29);
	if( !r2 ) goto label$85f08ff_33_158;
	if( r2 == NULL ) hl_null_access();
	r2->hasValue ? ((void (*)(vdynamic*,lime__graphics__Image))r2->fun)((vdynamic*)r2->value,r0) : ((void (*)(lime__graphics__Image))r2->fun)(r0);
	label$85f08ff_33_158:
	r32 = true;
	return r32;
	label$85f08ff_33_160:
	r32 = false;
	return r32;
}

bool lime_graphics_Image___fromFile(lime__graphics__Image r0,String r1,vclosure* r2,vclosure* r3) {
	String r28;
	openfl___Vector__IntVector r12;
	venum *r29;
	haxe__io__Bytes r9, r19, r26;
	bool r6;
	lime__graphics__ImageBuffer r4, r32;
	lime__system__$CFFI r7;
	double r30, r31;
	lime__utils__ArrayBufferView r13, r16;
	hl__types__ArrayDyn r11, r17;
	int *r20, *r33, *r34;
	vdynamic *r8, *r14, *r15, *r21;
	int r10, r18, r22, r23, r24, r25, r27;
	r4 = NULL;
	r7 = (lime__system__$CFFI)g$_lime_system_CFFI;
	r6 = r7->enabled;
	if( !r6 ) goto label$85f08ff_34_157;
	r8 = NULL;
	r10 = 0;
	r9 = haxe_io_Bytes_alloc(r10);
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	if( !r8 ) goto label$85f08ff_34_16;
	r16 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r10 = 4;
	lime_utils_ArrayBufferView_new(r16,r8,r10);
	goto label$85f08ff_34_149;
	label$85f08ff_34_16:
	if( !r11 ) goto label$85f08ff_34_37;
	r16 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r10 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r10;
	r10 = 4;
	lime_utils_ArrayBufferView_new(r16,r15,r10);
	r10 = 0;
	r16->byteOffset = r10;
	if( r11 == NULL ) hl_null_access();
	r10 = hl_types_ArrayDyn_get_length(r11);
	r16->length = r10;
	r10 = r16->length;
	r18 = r16->bytesPerElement;
	r10 = r10 * r18;
	r16->byteLength = r10;
	r10 = r16->byteLength;
	r19 = haxe_io_Bytes_alloc(r10);
	r16->buffer = r19;
	r20 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r16,r11,r20);
	goto label$85f08ff_34_149;
	label$85f08ff_34_37:
	if( !r12 ) goto label$85f08ff_34_61;
	r16 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r10 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r10;
	r10 = 4;
	lime_utils_ArrayBufferView_new(r16,r15,r10);
	if( r12 == NULL ) hl_null_access();
	r21 = (vdynamic*)hl_dyn_getp((vdynamic*)r12,-269630230/*__array*/,&t$_dyn);
	r17 = (hl__types__ArrayDyn)hl_dyn_castp(&r21,&t$_dyn,&t$hl_types_ArrayDyn);
	r10 = 0;
	r16->byteOffset = r10;
	if( r17 == NULL ) hl_null_access();
	r10 = hl_types_ArrayDyn_get_length(r17);
	r16->length = r10;
	r10 = r16->length;
	r18 = r16->bytesPerElement;
	r10 = r10 * r18;
	r16->byteLength = r10;
	r10 = r16->byteLength;
	r19 = haxe_io_Bytes_alloc(r10);
	r16->buffer = r19;
	r20 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r16,r17,r20);
	goto label$85f08ff_34_149;
	label$85f08ff_34_61:
	if( !r13 ) goto label$85f08ff_34_95;
	r16 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r10 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r10;
	r10 = 4;
	lime_utils_ArrayBufferView_new(r16,r15,r10);
	if( r13 == NULL ) hl_null_access();
	r19 = r13->buffer;
	r10 = r13->length;
	r18 = r13->byteOffset;
	r22 = r13->bytesPerElement;
	r23 = r16->bytesPerElement;
	r24 = r13->type;
	r25 = r16->type;
	if( r24 != r25 ) goto label$85f08ff_34_86;
	if( r19 == NULL ) hl_null_access();
	r24 = r19->length;
	r25 = r24 - r18;
	r26 = haxe_io_Bytes_alloc(r25);
	r16->buffer = r26;
	r26 = r16->buffer;
	if( r26 == NULL ) hl_null_access();
	r27 = 0;
	haxe_io_Bytes_blit(r26,r27,r19,r18,r25);
	goto label$85f08ff_34_88;
	label$85f08ff_34_86:
	r28 = (String)s$unimplemented;
	hl_throw((vdynamic*)r28);
	label$85f08ff_34_88:
	r24 = r16->bytesPerElement;
	r24 = r24 * r10;
	r16->byteLength = r24;
	r24 = 0;
	r16->byteOffset = r24;
	r16->length = r10;
	goto label$85f08ff_34_149;
	label$85f08ff_34_95:
	if( !r9 ) goto label$85f08ff_34_147;
	r16 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r10 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r10;
	r10 = 4;
	lime_utils_ArrayBufferView_new(r16,r15,r10);
	r10 = 0;
	r22 = 0;
	if( r10 >= r22 ) goto label$85f08ff_34_106;
	r29 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r29);
	label$85f08ff_34_106:
	r22 = r16->bytesPerElement;
	r18 = r22 == 0 ? 0 : r10 % r22;
	r22 = 0;
	if( r18 == r22 ) goto label$85f08ff_34_112;
	r29 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r29);
	label$85f08ff_34_112:
	if( r9 == NULL ) hl_null_access();
	r18 = r9->length;
	r22 = r16->bytesPerElement;
	if( r14 ) goto label$85f08ff_34_129;
	r24 = r18 - r10;
	r23 = r24;
	r25 = r16->bytesPerElement;
	r24 = r25 == 0 ? 0 : r18 % r25;
	r25 = 0;
	if( r24 == r25 ) goto label$85f08ff_34_124;
	r29 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r29);
	label$85f08ff_34_124:
	r25 = 0;
	if( r23 >= r25 ) goto label$85f08ff_34_128;
	r29 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r29);
	label$85f08ff_34_128:
	goto label$85f08ff_34_137;
	label$85f08ff_34_129:
	r24 = r14 ? r14->v.i : 0;
	r25 = r16->bytesPerElement;
	r24 = r24 * r25;
	r23 = r24;
	r24 = r10 + r23;
	if( r18 >= r24 ) goto label$85f08ff_34_137;
	r29 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r29);
	label$85f08ff_34_137:
	r16->buffer = r9;
	r16->byteOffset = r10;
	r16->byteLength = r23;
	r30 = (double)r23;
	r24 = r16->bytesPerElement;
	r31 = (double)r24;
	r30 = r30 / r31;
	r24 = (int)r30;
	r16->length = r24;
	goto label$85f08ff_34_149;
	label$85f08ff_34_147:
	r28 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r28);
	label$85f08ff_34_149:
	r32 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r20 = NULL;
	r33 = NULL;
	r34 = NULL;
	r15 = NULL;
	lime_graphics_ImageBuffer_new(r32,r16,r20,r33,r34,r15);
	r32 = lime_hl_image_load_file(r1,r32);
	r4 = r32;
	label$85f08ff_34_157:
	if( !r4 ) goto label$85f08ff_34_164;
	lime_graphics_Image___fromImageBuffer(r0,r4);
	if( !r2 ) goto label$85f08ff_34_162;
	if( r2 == NULL ) hl_null_access();
	r2->hasValue ? ((void (*)(vdynamic*,lime__graphics__Image))r2->fun)((vdynamic*)r2->value,r0) : ((void (*)(lime__graphics__Image))r2->fun)(r0);
	label$85f08ff_34_162:
	r6 = true;
	return r6;
	label$85f08ff_34_164:
	r6 = false;
	return r6;
}

void lime_graphics_Image___fromImageBuffer(lime__graphics__Image r0,lime__graphics__ImageBuffer r1) {
	int r3, r4;
	r0->buffer = r1;
	if( !r1 ) goto label$85f08ff_35_14;
	r3 = r0->width;
	r4 = -1;
	if( r3 != r4 ) goto label$85f08ff_35_8;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->width;
	r0->width = r3;
	label$85f08ff_35_8:
	r3 = r0->height;
	r4 = -1;
	if( r3 != r4 ) goto label$85f08ff_35_14;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->height;
	r0->height = r3;
	label$85f08ff_35_14:
	return;
}

bool lime_graphics_Image___isGIF(haxe__io__Bytes r0) {
	String r4, r6;
	venum *r5;
	bool r3;
	int r1, r2;
	if( !r0 ) goto label$85f08ff_36_5;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r2 = 6;
	if( r1 >= r2 ) goto label$85f08ff_36_7;
	label$85f08ff_36_5:
	r3 = false;
	return r3;
	label$85f08ff_36_7:
	r1 = 0;
	r2 = 6;
	r5 = NULL;
	r4 = haxe_io_Bytes_getString(r0,r1,r2,r5);
	r6 = (String)s$GIF87a;
	if( r4 == r6 || (r4 && r6 && String___compare(r4,(vdynamic*)r6) == 0) ) goto label$85f08ff_36_19;
	r6 = (String)s$GIF89a;
	if( r4 == r6 || (r4 && r6 && String___compare(r4,(vdynamic*)r6) == 0) ) goto label$85f08ff_36_17;
	r3 = false;
	goto label$85f08ff_36_18;
	label$85f08ff_36_17:
	r3 = true;
	label$85f08ff_36_18:
	return r3;
	label$85f08ff_36_19:
	r3 = true;
	return r3;
}

bool lime_graphics_Image___isJPG(haxe__io__Bytes r0) {
	bool r3;
	int r1, r2;
	if( !r0 ) goto label$85f08ff_37_5;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r2 = 4;
	if( r1 >= r2 ) goto label$85f08ff_37_7;
	label$85f08ff_37_5:
	r3 = false;
	return r3;
	label$85f08ff_37_7:
	r1 = 0;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 255;
	if( r1 != r2 ) goto label$85f08ff_37_31;
	r1 = 1;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 216;
	if( r1 != r2 ) goto label$85f08ff_37_31;
	r1 = r0->length;
	r2 = 2;
	r1 = r1 - r2;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 255;
	if( r1 != r2 ) goto label$85f08ff_37_31;
	r1 = r0->length;
	r2 = 1;
	r1 = r1 - r2;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 217;
	if( r1 == r2 ) goto label$85f08ff_37_29;
	r3 = false;
	goto label$85f08ff_37_30;
	label$85f08ff_37_29:
	r3 = true;
	label$85f08ff_37_30:
	return r3;
	label$85f08ff_37_31:
	r3 = false;
	return r3;
}

bool lime_graphics_Image___isPNG(haxe__io__Bytes r0) {
	bool r3;
	int r1, r2;
	if( !r0 ) goto label$85f08ff_38_5;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r2 = 8;
	if( r1 >= r2 ) goto label$85f08ff_38_7;
	label$85f08ff_38_5:
	r3 = false;
	return r3;
	label$85f08ff_38_7:
	r1 = 0;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 137;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 1;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 80;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 2;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 78;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 3;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 71;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 4;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 13;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 5;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 10;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 6;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 26;
	if( r1 != r2 ) goto label$85f08ff_38_43;
	r1 = 7;
	r1 = haxe_io_Bytes_get(r0,r1);
	r2 = 10;
	if( r1 == r2 ) goto label$85f08ff_38_41;
	r3 = false;
	goto label$85f08ff_38_42;
	label$85f08ff_38_41:
	r3 = true;
	label$85f08ff_38_42:
	return r3;
	label$85f08ff_38_43:
	r3 = false;
	return r3;
}

bool lime_graphics_Image___isWebP(haxe__io__Bytes r0) {
	String r4, r6;
	venum *r5;
	bool r3;
	int r1, r2;
	if( !r0 ) goto label$85f08ff_39_5;
	if( r0 == NULL ) hl_null_access();
	r1 = r0->length;
	r2 = 16;
	if( r1 >= r2 ) goto label$85f08ff_39_7;
	label$85f08ff_39_5:
	r3 = false;
	return r3;
	label$85f08ff_39_7:
	r1 = 0;
	r2 = 4;
	r5 = NULL;
	r4 = haxe_io_Bytes_getString(r0,r1,r2,r5);
	r6 = (String)s$RIFF;
	if( r4 != r6 && (!r4 || !r6 || String___compare(r4,(vdynamic*)r6) != 0) ) goto label$85f08ff_39_23;
	r1 = 8;
	r2 = 4;
	r5 = NULL;
	r4 = haxe_io_Bytes_getString(r0,r1,r2,r5);
	r6 = (String)s$WEBP;
	if( r4 == r6 || (r4 && r6 && String___compare(r4,(vdynamic*)r6) == 0) ) goto label$85f08ff_39_21;
	r3 = false;
	goto label$85f08ff_39_22;
	label$85f08ff_39_21:
	r3 = true;
	label$85f08ff_39_22:
	return r3;
	label$85f08ff_39_23:
	r3 = false;
	return r3;
}

lime__utils__ArrayBufferView lime_graphics_Image_get_data(lime__graphics__Image r0) {
	bool r1;
	lime__graphics__ImageBuffer r3;
	lime__utils__ArrayBufferView r2;
	int r4, r5;
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->data;
	if( r2 ) goto label$85f08ff_40_16;
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->width;
	r5 = 0;
	if( r5 >= r4 ) goto label$85f08ff_40_16;
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->height;
	r5 = 0;
	if( r5 >= r4 ) goto label$85f08ff_40_16;
	r1 = true;
	goto label$85f08ff_40_17;
	label$85f08ff_40_16:
	r1 = false;
	label$85f08ff_40_17:
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->data;
	return r2;
}

lime__utils__ArrayBufferView lime_graphics_Image_set_data(lime__graphics__Image r0,lime__utils__ArrayBufferView r1) {
	lime__graphics__ImageBuffer r2;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r2->data = r1;
	return r1;
}

int lime_graphics_Image_get_format(lime__graphics__Image r0) {
	lime__graphics__ImageBuffer r2;
	int r1;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->format;
	return r1;
}

int lime_graphics_Image_set_format(lime__graphics__Image r0,int r1) {
	venum *r6;
	lime__graphics__ImageBuffer r4;
	int r3, r5;
	r4 = r0->buffer;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->format;
	if( r3 == r1 ) goto label$85f08ff_43_10;
	r6 = r0->type;
	if( r6 == NULL ) hl_null_access();
	r3 = HL__ENUM_INDEX__(r6);
	r5 = 1;
	if( r3 != r5 ) goto label$85f08ff_43_10;
	lime__internal_graphics_ImageDataUtil_setFormat(r0,r1);
	label$85f08ff_43_10:
	r4 = r0->buffer;
	if( r4 == NULL ) hl_null_access();
	r4->format = r1;
	return r1;
}

bool lime_graphics_Image_get_powerOfTwo(lime__graphics__Image r0) {
	bool r5;
	lime__graphics__ImageBuffer r2;
	int r1, r3, r4;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->width;
	r3 = 0;
	if( r1 == r3 ) goto label$85f08ff_44_46;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->width;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->width;
	r4 = -1;
	r3 = r3 ^ r4;
	r4 = 1;
	r3 = r3 + r4;
	r1 = r1 & r3;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->width;
	if( r1 != r3 ) goto label$85f08ff_44_46;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->height;
	r3 = 0;
	if( r1 == r3 ) goto label$85f08ff_44_44;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->height;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->height;
	r4 = -1;
	r3 = r3 ^ r4;
	r4 = 1;
	r3 = r3 + r4;
	r1 = r1 & r3;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r3 = r2->height;
	if( r1 == r3 ) goto label$85f08ff_44_42;
	r5 = false;
	goto label$85f08ff_44_43;
	label$85f08ff_44_42:
	r5 = true;
	label$85f08ff_44_43:
	return r5;
	label$85f08ff_44_44:
	r5 = false;
	return r5;
	label$85f08ff_44_46:
	r5 = false;
	return r5;
}

bool lime_graphics_Image_set_powerOfTwo(lime__graphics__Image r0,bool r1) {
	venum *r9;
	bool r3;
	lime__graphics__ImageBuffer r8;
	int r4, r5, r6, r7;
	r3 = lime_graphics_Image_get_powerOfTwo(r0);
	if( r1 == r3 ) goto label$85f08ff_45_40;
	r4 = 1;
	r5 = 1;
	label$85f08ff_45_4:
	r8 = r0->buffer;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	if( r4 >= r7 ) goto label$85f08ff_45_13;
	r7 = 1;
	r6 = r4 << r7;
	r4 = r6;
	goto label$85f08ff_45_4;
	label$85f08ff_45_13:
	r8 = r0->buffer;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->height;
	if( r5 >= r7 ) goto label$85f08ff_45_22;
	r7 = 1;
	r6 = r5 << r7;
	r5 = r6;
	goto label$85f08ff_45_13;
	label$85f08ff_45_22:
	r8 = r0->buffer;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->width;
	if( r4 != r7 ) goto label$85f08ff_45_31;
	r8 = r0->buffer;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->height;
	if( r5 != r7 ) goto label$85f08ff_45_31;
	return r1;
	label$85f08ff_45_31:
	r9 = r0->type;
	if( r9 == NULL ) hl_null_access();
	r6 = HL__ENUM_INDEX__(r9);
	switch(r6) {
		default:
			goto label$85f08ff_45_40;
		case 0:
			lime__internal_graphics_ImageDataUtil_resizeBuffer(r0,r4,r5);
			goto label$85f08ff_45_40;
		case 1:
			lime__internal_graphics_ImageDataUtil_resizeBuffer(r0,r4,r5);
			goto label$85f08ff_45_40;
		case 2:
			break;
	}
	label$85f08ff_45_40:
	return r1;
}

bool lime_graphics_Image_get_premultiplied(lime__graphics__Image r0) {
	bool r1;
	lime__graphics__ImageBuffer r2;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->premultiplied;
	return r1;
}

bool lime_graphics_Image_set_premultiplied(lime__graphics__Image r0,bool r1) {
	venum *r6;
	bool r3;
	lime__graphics__ImageBuffer r4;
	int r5, r7;
	if( !r1 ) goto label$85f08ff_47_12;
	r4 = r0->buffer;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->premultiplied;
	if( r3 ) goto label$85f08ff_47_12;
	r6 = r0->type;
	if( r6 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r6);
	switch(r5) {
		default:
			goto label$85f08ff_47_11;
		case 0:
		case 1:
			lime__internal_graphics_ImageDataUtil_multiplyAlpha(r0);
	}
	label$85f08ff_47_11:
	goto label$85f08ff_47_23;
	label$85f08ff_47_12:
	if( r1 ) goto label$85f08ff_47_23;
	r4 = r0->buffer;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->premultiplied;
	if( !r3 ) goto label$85f08ff_47_23;
	r6 = r0->type;
	if( r6 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r6);
	r7 = 1;
	if( r5 != r7 ) goto label$85f08ff_47_23;
	lime__internal_graphics_ImageDataUtil_unmultiplyAlpha(r0);
	label$85f08ff_47_23:
	return r1;
}

lime__math__Rectangle lime_graphics_Image_get_rect(lime__graphics__Image r0) {
	double r3, r5, r7, r9;
	lime__math__Rectangle r1;
	double *r4, *r6, *r8, *r10;
	int r2;
	r1 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
	r2 = 0;
	r3 = (double)r2;
	r4 = &r3;
	r2 = 0;
	r5 = (double)r2;
	r6 = &r5;
	r2 = r0->width;
	r7 = (double)r2;
	r8 = &r7;
	r2 = r0->height;
	r9 = (double)r2;
	r10 = &r9;
	lime_math_Rectangle_new(r1,r4,r6,r8,r10);
	return r1;
}

vdynamic* lime_graphics_Image_get_src(lime__graphics__Image r0) {
	lime__graphics__ImageBuffer r2;
	vdynamic *r1;
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r1 = lime_graphics_ImageBuffer_get_src(r2);
	return r1;
}

vdynamic* lime_graphics_Image_set_src(lime__graphics__Image r0,vdynamic* r1) {
	lime__graphics__ImageBuffer r3;
	vdynamic *r2;
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r2 = lime_graphics_ImageBuffer_set_src(r3,r1);
	return r2;
}

bool lime_graphics_Image_get_transparent(lime__graphics__Image r0) {
	bool r2;
	lime__graphics__ImageBuffer r1;
	r1 = r0->buffer;
	if( r1 ) goto label$85f08ff_51_4;
	r2 = false;
	return r2;
	label$85f08ff_51_4:
	r1 = r0->buffer;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->transparent;
	return r2;
}

bool lime_graphics_Image_set_transparent(lime__graphics__Image r0,bool r1) {
	bool r3;
	lime__graphics__ImageBuffer r2;
	r2 = r0->buffer;
	if( r2 ) goto label$85f08ff_52_4;
	r3 = false;
	return r3;
	label$85f08ff_52_4:
	r2 = r0->buffer;
	if( r2 == NULL ) hl_null_access();
	r2->transparent = r1;
	return r1;
}

