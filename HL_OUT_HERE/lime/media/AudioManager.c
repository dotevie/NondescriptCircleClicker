// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/media/AudioManager.h>
#include <lime/media/OpenALAudioContext.h>
#include <hl/types/ArrayBytes_Int.h>
extern lime__media__$AudioManager g$_lime_media_AudioManager;
extern hl_type t$lime_media_AudioContext;
void lime_media_AudioContext_new(lime__media__AudioContext,String);
extern String s$openal;
int String___compare(String,vdynamic*);
vdynamic* lime_media_OpenALAudioContext_openDevice(lime__media__OpenALAudioContext,String);
vdynamic* lime_media_OpenALAudioContext_createContext(lime__media__OpenALAudioContext,vdynamic*,hl__types__ArrayBytes_Int);
bool lime_media_OpenALAudioContext_makeContextCurrent(lime__media__OpenALAudioContext,vdynamic*);
void lime_media_OpenALAudioContext_processContext(lime__media__OpenALAudioContext,vdynamic*);
vdynamic* lime_media_OpenALAudioContext_getCurrentContext(lime__media__OpenALAudioContext);
vdynamic* lime_media_OpenALAudioContext_getContextsDevice(lime__media__OpenALAudioContext,vdynamic*);
void lime_media_OpenALAudioContext_resumeDevice(lime__media__OpenALAudioContext,vdynamic*);
void lime_media_OpenALAudioContext_destroyContext(lime__media__OpenALAudioContext,vdynamic*);
bool lime_media_OpenALAudioContext_closeDevice(lime__media__OpenALAudioContext,vdynamic*);
void lime_media_OpenALAudioContext_suspendContext(lime__media__OpenALAudioContext,vdynamic*);
void lime_media_OpenALAudioContext_pauseDevice(lime__media__OpenALAudioContext,vdynamic*);

void lime_media_AudioManager_init(lime__media__AudioContext r0) {
	String r4, r5;
	lime__media__AudioContext r2;
	lime__media__$AudioManager r3;
	lime__media__OpenALAudioContext r6;
	bool r10;
	hl__types__ArrayBytes_Int r9;
	vdynamic *r7, *r8;
	r3 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r2 = r3->context;
	if( r2 ) goto label$82b2b4c_1_26;
	if( r0 ) goto label$82b2b4c_1_24;
	r2 = (lime__media__AudioContext)hl_alloc_obj(&t$lime_media_AudioContext);
	r4 = NULL;
	lime_media_AudioContext_new(r2,r4);
	r3 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r3->context = r2;
	r3 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r2 = r3->context;
	r0 = r2;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->type;
	r5 = (String)s$openal;
	if( r4 != r5 && (!r4 || !r5 || String___compare(r4,(vdynamic*)r5) != 0) ) goto label$82b2b4c_1_24;
	r6 = r2->openal;
	if( r6 == NULL ) hl_null_access();
	r4 = NULL;
	r7 = lime_media_OpenALAudioContext_openDevice(r6,r4);
	r9 = NULL;
	r8 = lime_media_OpenALAudioContext_createContext(r6,r7,r9);
	r10 = lime_media_OpenALAudioContext_makeContextCurrent(r6,r8);
	lime_media_OpenALAudioContext_processContext(r6,r8);
	label$82b2b4c_1_24:
	r3 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r3->context = r0;
	label$82b2b4c_1_26:
	return;
}

void lime_media_AudioManager_resume() {
	String r3, r4;
	lime__media__AudioContext r1;
	lime__media__$AudioManager r2;
	lime__media__OpenALAudioContext r5;
	vdynamic *r6, *r7;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( !r1 ) goto label$82b2b4c_2_19;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->type;
	r4 = (String)s$openal;
	if( r3 != r4 && (!r3 || !r4 || String___compare(r3,(vdynamic*)r4) != 0) ) goto label$82b2b4c_2_19;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->openal;
	if( r5 == NULL ) hl_null_access();
	r6 = lime_media_OpenALAudioContext_getCurrentContext(r5);
	if( !r6 ) goto label$82b2b4c_2_19;
	r7 = lime_media_OpenALAudioContext_getContextsDevice(r5,r6);
	lime_media_OpenALAudioContext_resumeDevice(r5,r7);
	lime_media_OpenALAudioContext_processContext(r5,r6);
	label$82b2b4c_2_19:
	return;
}

void lime_media_AudioManager_shutdown() {
	String r3, r4;
	lime__media__AudioContext r1;
	lime__media__$AudioManager r2;
	lime__media__OpenALAudioContext r5;
	bool r8;
	vdynamic *r6, *r7, *r9;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( !r1 ) goto label$82b2b4c_3_22;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->type;
	r4 = (String)s$openal;
	if( r3 != r4 && (!r3 || !r4 || String___compare(r3,(vdynamic*)r4) != 0) ) goto label$82b2b4c_3_22;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->openal;
	if( r5 == NULL ) hl_null_access();
	r6 = lime_media_OpenALAudioContext_getCurrentContext(r5);
	if( !r6 ) goto label$82b2b4c_3_22;
	r7 = lime_media_OpenALAudioContext_getContextsDevice(r5,r6);
	r9 = NULL;
	r8 = lime_media_OpenALAudioContext_makeContextCurrent(r5,r9);
	lime_media_OpenALAudioContext_destroyContext(r5,r6);
	if( !r7 ) goto label$82b2b4c_3_22;
	r8 = lime_media_OpenALAudioContext_closeDevice(r5,r7);
	label$82b2b4c_3_22:
	r1 = NULL;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r2->context = r1;
	return;
}

void lime_media_AudioManager_suspend() {
	String r3, r4;
	lime__media__AudioContext r1;
	lime__media__$AudioManager r2;
	lime__media__OpenALAudioContext r5;
	vdynamic *r6, *r7;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( !r1 ) goto label$82b2b4c_4_20;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->type;
	r4 = (String)s$openal;
	if( r3 != r4 && (!r3 || !r4 || String___compare(r3,(vdynamic*)r4) != 0) ) goto label$82b2b4c_4_20;
	r2 = (lime__media__$AudioManager)g$_lime_media_AudioManager;
	r1 = r2->context;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->openal;
	if( r5 == NULL ) hl_null_access();
	r6 = lime_media_OpenALAudioContext_getCurrentContext(r5);
	if( !r6 ) goto label$82b2b4c_4_20;
	lime_media_OpenALAudioContext_suspendContext(r5,r6);
	r7 = lime_media_OpenALAudioContext_getContextsDevice(r5,r6);
	if( !r7 ) goto label$82b2b4c_4_20;
	lime_media_OpenALAudioContext_pauseDevice(r5,r7);
	label$82b2b4c_4_20:
	return;
}

