// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/text/Font.h>
bool lime_utils_Assets_isLocal(String,String,bool*);
haxe__io__Bytes lime_utils_Assets_getBytes(String);
void lime_text_Font___fromBytes(lime__text__Font,haxe__io__Bytes);
void lime_text_Font___fromFile(lime__text__Font,String);
#include <hl/types/ArrayObj.h>
extern String s$Uninitialized_font_handle_;
#include <hl/natives.h>
extern hl_type t$_dyn;
extern hl_type t$_bytes;
extern hl_type t$String;
String String_fromUTF8(vbyte*);
extern hl_type t$vrt_98fe295;
extern hl_type t$lime_text_Font;
lime__app__Future lime_app_Future_withValue(vdynamic*);
#include <lime/net/_HTTPRequest_lime_text_Font.h>
lime__app__Future lime_text_Font_loadFromFile__$1(lime__text__Font);
extern hl_type t$fun_41b361a;
extern hl_type t$lime_net__HTTPRequest_lime_text_Font;
void lime_net__HTTPRequest_lime_text_Font_new(lime__net___HTTPRequest_lime_text_Font,String);
#include <lime/net/_HTTPRequest_Bytes.h>
lime__app__Future lime_net__HTTPRequest_Bytes_load(lime__net___HTTPRequest_Bytes,String);
lime__app__Future wrapt$fun_2647f04(vclosure*,vdynamic*);
extern hl_type t$fun_2647f04;
lime__app__Future lime_app_Future_then(lime__app__Future,vclosure*);
extern String s$;
lime__app__Future lime_app_Future_withError(vdynamic*);
#include <hl/types/ArrayBytes_Int.h>
extern String s$213b9aa;
extern hl_type t$hl_types_ArrayBytes_Int;
extern hl_type t$_array;
#include <lime/text/GlyphMetrics.h>
#include <lime/math/Vector2.h>
extern hl_type t$lime_text_GlyphMetrics;
void lime_text_GlyphMetrics_new(lime__text__GlyphMetrics);
extern hl_type t$lime_math_Vector2;
extern hl_type t$ref_f64;
void lime_math_Vector2_new(lime__math__Vector2,double*,double*);
extern hl_type t$_i32;
#include <hl/types/ArrayDyn.h>
#include <openfl/_Vector/IntVector.h>
#include <lime/utils/ArrayBufferView.h>
#include <lime/utils/TAError.h>
#include <lime/graphics/ImageBuffer.h>
#include <lime/graphics/Image.h>
#include <lime/graphics/ImageType.h>
void lime_text_Font___setSize(lime__text__Font,int);
haxe__io__Bytes haxe_io_Bytes_alloc(int);
int haxe_io_Bytes_getInt32(haxe__io__Bytes,int);
haxe__io__Bytes haxe_io_Bytes_sub(haxe__io__Bytes,int,int);
extern hl_type t$lime_utils_ArrayBufferView;
void lime_utils_ArrayBufferView_new(lime__utils__ArrayBufferView,vdynamic*,int);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
void lime_utils_ArrayBufferView_copyFromArray(lime__utils__ArrayBufferView,hl__types__ArrayDyn,int*);
extern hl_type t$hl_types_ArrayDyn;
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
extern String s$unimplemented;
extern venum* g$lime_utils_TAError_RangeError;
extern String s$ac96fc9;
extern hl_type t$lime_graphics_ImageBuffer;
void lime_graphics_ImageBuffer_new(lime__graphics__ImageBuffer,lime__utils__ArrayBufferView,int*,int*,int*,vdynamic*);
extern hl_type t$lime_graphics_Image;
void lime_graphics_Image_new(lime__graphics__Image,lime__graphics__ImageBuffer,int*,int*,int*,int*,vdynamic*,venum*);
#include <haxe/ds/IntMap.h>
extern hl_type t$haxe_ds_IntMap;
void haxe_ds_IntMap_new(haxe__ds__IntMap);
void haxe_ds_IntMap_set(haxe__ds__IntMap,int,vdynamic*);
hl__types__ArrayBytes_Int hl_types_ArrayBase_allocI32(vbyte*,int);
vvirtual* haxe_ds_IntMap_keys(haxe__ds__IntMap);
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_4dc72d5;
int hl_types_ArrayBytes_Int_push(hl__types__ArrayBytes_Int,int);
void lime_text_Font___initializeSource(lime__text__Font);
String haxe_io_Path_withoutDirectory(String);
#include <lime/app/Promise.h>
extern hl_type t$lime_app_Promise;
void lime_app_Promise_new(lime__app__Promise);
lime__app__Promise lime_app_Promise_error(lime__app__Promise,vdynamic*);

void lime_text_Font_new(lime__text__Font r0,String r1) {
	bool *r7;
	String r3, r6;
	haxe__io__Bytes r8;
	bool r4;
	int r5;
	if( !r1 ) goto label$c6dbf2e_1_2;
	r0->name = r1;
	label$c6dbf2e_1_2:
	r4 = r0->__init;
	if( r4 ) goto label$c6dbf2e_1_33;
	r5 = 0;
	r0->ascender = r5;
	r5 = 0;
	r0->descender = r5;
	r5 = 0;
	r0->height = r5;
	r5 = 0;
	r0->numGlyphs = r5;
	r5 = 0;
	r0->underlinePosition = r5;
	r5 = 0;
	r0->underlineThickness = r5;
	r5 = 0;
	r0->unitsPerEM = r5;
	r3 = r0->__fontID;
	if( !r3 ) goto label$c6dbf2e_1_29;
	r3 = r0->__fontID;
	r6 = NULL;
	r7 = NULL;
	r4 = lime_utils_Assets_isLocal(r3,r6,r7);
	if( !r4 ) goto label$c6dbf2e_1_28;
	r3 = r0->__fontID;
	r8 = lime_utils_Assets_getBytes(r3);
	lime_text_Font___fromBytes(r0,r8);
	label$c6dbf2e_1_28:
	goto label$c6dbf2e_1_33;
	label$c6dbf2e_1_29:
	r3 = r0->__fontPath;
	if( !r3 ) goto label$c6dbf2e_1_33;
	r3 = r0->__fontPath;
	lime_text_Font___fromFile(r0,r3);
	label$c6dbf2e_1_33:
	return;
}

vvirtual* lime_text_Font_decompose(lime__text__Font r0) {
	String r2, r6;
	vvirtual *r9;
	vdynamic *r1, *r4, *r8;
	vbyte *r5, *r7;
	int r3;
	r1 = r0->src;
	if( r1 ) goto label$c6dbf2e_2_4;
	r2 = (String)s$Uninitialized_font_handle_;
	hl_throw((vdynamic*)r2);
	label$c6dbf2e_2_4:
	r1 = r0->src;
	r3 = 20480;
	r1 = lime_hl_font_outline_decompose(r1,r3);
	if( !r1 ) goto label$c6dbf2e_2_21;
	if( r1 == NULL ) hl_null_access();
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r1,60685717/*family_name*/,&t$_dyn);
	r5 = (vbyte*)hl_dyn_castp(&r4,&t$_dyn,&t$_bytes);
	r2 = (String)hl_alloc_obj(&t$String);
	r2->bytes = r5;
	r3 = 0;
	r3 = hl_ucs2length(r5,r3);
	r2->length = r3;
	hl_dyn_setp((vdynamic*)r1,60685717/*family_name*/,&t$String,r2);
	r8 = (vdynamic*)hl_dyn_getp((vdynamic*)r1,-388401319/*style_name*/,&t$_dyn);
	r7 = (vbyte*)hl_dyn_castp(&r8,&t$_dyn,&t$_bytes);
	r6 = String_fromUTF8(r7);
	hl_dyn_setp((vdynamic*)r1,-388401319/*style_name*/,&t$String,r6);
	label$c6dbf2e_2_21:
	r9 = hl_to_virtual(&t$vrt_98fe295,(vdynamic*)r1);
	return r9;
}

lime__text__Font lime_text_Font_fromBytes(haxe__io__Bytes r0) {
	String r4;
	lime__text__Font r2, r5;
	vdynamic *r3;
	if( r0 ) goto label$c6dbf2e_3_3;
	r2 = NULL;
	return r2;
	label$c6dbf2e_3_3:
	r2 = (lime__text__Font)hl_alloc_obj(&t$lime_text_Font);
	r4 = NULL;
	lime_text_Font_new(r2,r4);
	lime_text_Font___fromBytes(r2,r0);
	r3 = r2->src;
	if( !r3 ) goto label$c6dbf2e_3_10;
	return r2;
	label$c6dbf2e_3_10:
	r5 = NULL;
	return r5;
}

lime__text__Font lime_text_Font_fromFile(String r0) {
	lime__text__Font r3, r5;
	String r2;
	vdynamic *r4;
	if( r0 ) goto label$c6dbf2e_4_3;
	r3 = NULL;
	return r3;
	label$c6dbf2e_4_3:
	r3 = (lime__text__Font)hl_alloc_obj(&t$lime_text_Font);
	r2 = NULL;
	lime_text_Font_new(r3,r2);
	lime_text_Font___fromFile(r3,r0);
	r4 = r3->src;
	if( !r4 ) goto label$c6dbf2e_4_10;
	return r3;
	label$c6dbf2e_4_10:
	r5 = NULL;
	return r5;
}

lime__app__Future lime_text_Font_loadFromBytes(haxe__io__Bytes r0) {
	lime__text__Font r2;
	lime__app__Future r1;
	r2 = lime_text_Font_fromBytes(r0);
	r1 = lime_app_Future_withValue(((vdynamic*)r2));
	return r1;
}

lime__app__Future lime_text_Font_loadFromFile(String r0) {
	String r2;
	lime__net___HTTPRequest_lime_text_Font r1;
	lime__app__Future r4;
	vclosure *r5, *r6;
	static vclosure cl$0 = { &t$fun_41b361a, lime_text_Font_loadFromFile__$1, 0 };
	r1 = (lime__net___HTTPRequest_lime_text_Font)hl_alloc_obj(&t$lime_net__HTTPRequest_lime_text_Font);
	r2 = NULL;
	lime_net__HTTPRequest_lime_text_Font_new(r1,r2);
	r4 = lime_net__HTTPRequest_Bytes_load(((lime__net___HTTPRequest_Bytes)r1),r0);
	if( r4 == NULL ) hl_null_access();
	r5 = &cl$0;
	if( r5 ) goto label$c6dbf2e_6_9;
	r6 = NULL;
	goto label$c6dbf2e_6_10;
	label$c6dbf2e_6_9:
	r6 = hl_alloc_closure_ptr(&t$fun_2647f04,wrapt$fun_2647f04,r5);
	label$c6dbf2e_6_10:
	r4 = lime_app_Future_then(r4,r6);
	return r4;
}

lime__app__Future lime_text_Font_loadFromFile__$1(lime__text__Font r0) {
	String r2;
	lime__app__Future r1;
	if( !r0 ) goto label$c6dbf2e_7_3;
	r1 = lime_app_Future_withValue(((vdynamic*)r0));
	return r1;
	label$c6dbf2e_7_3:
	r2 = (String)s$;
	r1 = lime_app_Future_withError(((vdynamic*)r2));
	return r1;
}

lime__app__Future lime_text_Font_loadFromName(String r0) {
	String r2;
	lime__app__Future r1;
	r2 = (String)s$;
	r1 = lime_app_Future_withError(((vdynamic*)r2));
	return r1;
}

int lime_text_Font_getGlyph(lime__text__Font r0,String r1) {
	vdynamic *r3;
	int r2;
	r3 = r0->src;
	r2 = lime_hl_font_get_glyph_index(r3,r1);
	return r2;
}

hl__types__ArrayBytes_Int lime_text_Font_getGlyphs(lime__text__Font r0,String r1) {
	String r2;
	hl__types__ArrayBytes_Int r5;
	vdynamic *r4;
	varray *r3;
	if( r1 ) goto label$c6dbf2e_10_3;
	r2 = (String)s$213b9aa;
	r1 = r2;
	label$c6dbf2e_10_3:
	r4 = r0->src;
	r3 = lime_hl_font_get_glyph_indices(r4,r1);
	r5 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r3,&t$_array,&t$hl_types_ArrayBytes_Int);
	return r5;
}

lime__text__GlyphMetrics lime_text_Font_getGlyphMetrics(lime__text__Font r0,int r1) {
	lime__text__GlyphMetrics r5;
	lime__math__Vector2 r6;
	double *r8, *r9;
	vdynamic *r2, *r7;
	int r3;
	r2 = r0->src;
	r2 = lime_hl_font_get_glyph_metrics(r2,r1);
	r5 = (lime__text__GlyphMetrics)hl_alloc_obj(&t$lime_text_GlyphMetrics);
	lime_text_GlyphMetrics_new(r5);
	r6 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
	if( r2 == NULL ) hl_null_access();
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-297904263/*horizontalAdvance*/,&t$_dyn);
	r8 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,402100150/*verticalAdvance*/,&t$_dyn);
	r9 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	lime_math_Vector2_new(r6,r8,r9);
	r5->advance = r6;
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,38537191/*height*/,&t$_dyn);
	r3 = (int)hl_dyn_casti(&r7,&t$_dyn,&t$_i32);
	r5->height = r3;
	r6 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,203563837/*horizontalBearingX*/,&t$_dyn);
	r8 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,203563838/*horizontalBearingY*/,&t$_dyn);
	r9 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	lime_math_Vector2_new(r6,r8,r9);
	r5->horizontalBearing = r6;
	r6 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,75023567/*verticalBearingX*/,&t$_dyn);
	r8 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,75023568/*verticalBearingY*/,&t$_dyn);
	r9 = (double*)hl_dyn_castp(&r7,&t$_dyn,&t$ref_f64);
	lime_math_Vector2_new(r6,r8,r9);
	r5->verticalBearing = r6;
	return r5;
}

lime__graphics__Image lime_text_Font_renderGlyph(lime__text__Font r0,int r1,int r2) {
	lime__graphics__Image r38;
	String r31;
	openfl___Vector__IntVector r18;
	venum *r32, *r40;
	haxe__io__Bytes r5, r6, r24, r29;
	lime__graphics__ImageBuffer r35;
	double r33, r34;
	lime__utils__ArrayBufferView r19, r22;
	hl__types__ArrayDyn r17, r23;
	int *r25, *r36, *r37, *r39;
	vdynamic *r7, *r16, *r20, *r21;
	int r4, r8, r9, r10, r11, r12, r13, r14, r15, r26, r27, r28, r30;
	lime_text_Font___setSize(r0,r2);
	r4 = 0;
	r5 = haxe_io_Bytes_alloc(r4);
	r4 = 0;
	r7 = r0->src;
	r6 = lime_hl_font_render_glyph(r7,r1,r5);
	if( !r6 ) goto label$c6dbf2e_12_203;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->length;
	r9 = 0;
	if( r9 >= r8 ) goto label$c6dbf2e_12_203;
	r8 = haxe_io_Bytes_getInt32(r6,r4);
	r10 = 4;
	r9 = r4 + r10;
	r4 = r9;
	r9 = haxe_io_Bytes_getInt32(r6,r9);
	r11 = 4;
	r10 = r4 + r11;
	r4 = r10;
	r10 = haxe_io_Bytes_getInt32(r6,r10);
	r12 = 4;
	r11 = r4 + r12;
	r4 = r11;
	r11 = haxe_io_Bytes_getInt32(r6,r11);
	r13 = 4;
	r12 = r4 + r13;
	r4 = r12;
	r12 = haxe_io_Bytes_getInt32(r6,r12);
	r14 = 4;
	r13 = r4 + r14;
	r14 = r9 * r10;
	r6 = haxe_io_Bytes_sub(r6,r13,r14);
	r14 = r9 * r10;
	r13 = r13 + r14;
	r16 = NULL;
	r17 = NULL;
	r18 = NULL;
	r19 = NULL;
	r20 = NULL;
	if( !r16 ) goto label$c6dbf2e_12_44;
	r22 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r13 = 4;
	lime_utils_ArrayBufferView_new(r22,r16,r13);
	goto label$c6dbf2e_12_177;
	label$c6dbf2e_12_44:
	if( !r17 ) goto label$c6dbf2e_12_65;
	r22 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r13 = 0;
	r21 = hl_alloc_dynamic(&t$_i32);
	r21->v.i = r13;
	r13 = 4;
	lime_utils_ArrayBufferView_new(r22,r21,r13);
	r13 = 0;
	r22->byteOffset = r13;
	if( r17 == NULL ) hl_null_access();
	r13 = hl_types_ArrayDyn_get_length(r17);
	r22->length = r13;
	r13 = r22->length;
	r14 = r22->bytesPerElement;
	r13 = r13 * r14;
	r22->byteLength = r13;
	r13 = r22->byteLength;
	r24 = haxe_io_Bytes_alloc(r13);
	r22->buffer = r24;
	r25 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r22,r17,r25);
	goto label$c6dbf2e_12_177;
	label$c6dbf2e_12_65:
	if( !r18 ) goto label$c6dbf2e_12_89;
	r22 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r13 = 0;
	r21 = hl_alloc_dynamic(&t$_i32);
	r21->v.i = r13;
	r13 = 4;
	lime_utils_ArrayBufferView_new(r22,r21,r13);
	if( r18 == NULL ) hl_null_access();
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r18,-269630230/*__array*/,&t$_dyn);
	r23 = (hl__types__ArrayDyn)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayDyn);
	r13 = 0;
	r22->byteOffset = r13;
	if( r23 == NULL ) hl_null_access();
	r13 = hl_types_ArrayDyn_get_length(r23);
	r22->length = r13;
	r13 = r22->length;
	r14 = r22->bytesPerElement;
	r13 = r13 * r14;
	r22->byteLength = r13;
	r13 = r22->byteLength;
	r24 = haxe_io_Bytes_alloc(r13);
	r22->buffer = r24;
	r25 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r22,r23,r25);
	goto label$c6dbf2e_12_177;
	label$c6dbf2e_12_89:
	if( !r19 ) goto label$c6dbf2e_12_123;
	r22 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r13 = 0;
	r21 = hl_alloc_dynamic(&t$_i32);
	r21->v.i = r13;
	r13 = 4;
	lime_utils_ArrayBufferView_new(r22,r21,r13);
	if( r19 == NULL ) hl_null_access();
	r24 = r19->buffer;
	r13 = r19->length;
	r14 = r19->byteOffset;
	r15 = r19->bytesPerElement;
	r26 = r22->bytesPerElement;
	r27 = r19->type;
	r28 = r22->type;
	if( r27 != r28 ) goto label$c6dbf2e_12_114;
	if( r24 == NULL ) hl_null_access();
	r27 = r24->length;
	r28 = r27 - r14;
	r29 = haxe_io_Bytes_alloc(r28);
	r22->buffer = r29;
	r29 = r22->buffer;
	if( r29 == NULL ) hl_null_access();
	r30 = 0;
	haxe_io_Bytes_blit(r29,r30,r24,r14,r28);
	goto label$c6dbf2e_12_116;
	label$c6dbf2e_12_114:
	r31 = (String)s$unimplemented;
	hl_throw((vdynamic*)r31);
	label$c6dbf2e_12_116:
	r27 = r22->bytesPerElement;
	r27 = r27 * r13;
	r22->byteLength = r27;
	r27 = 0;
	r22->byteOffset = r27;
	r22->length = r13;
	goto label$c6dbf2e_12_177;
	label$c6dbf2e_12_123:
	if( !r6 ) goto label$c6dbf2e_12_175;
	r22 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r13 = 0;
	r21 = hl_alloc_dynamic(&t$_i32);
	r21->v.i = r13;
	r13 = 4;
	lime_utils_ArrayBufferView_new(r22,r21,r13);
	r13 = 0;
	r15 = 0;
	if( r13 >= r15 ) goto label$c6dbf2e_12_134;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$c6dbf2e_12_134:
	r15 = r22->bytesPerElement;
	r14 = r15 == 0 ? 0 : r13 % r15;
	r15 = 0;
	if( r14 == r15 ) goto label$c6dbf2e_12_140;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$c6dbf2e_12_140:
	if( r6 == NULL ) hl_null_access();
	r14 = r6->length;
	r15 = r22->bytesPerElement;
	if( r20 ) goto label$c6dbf2e_12_157;
	r27 = r14 - r13;
	r26 = r27;
	r28 = r22->bytesPerElement;
	r27 = r28 == 0 ? 0 : r14 % r28;
	r28 = 0;
	if( r27 == r28 ) goto label$c6dbf2e_12_152;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$c6dbf2e_12_152:
	r28 = 0;
	if( r26 >= r28 ) goto label$c6dbf2e_12_156;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$c6dbf2e_12_156:
	goto label$c6dbf2e_12_165;
	label$c6dbf2e_12_157:
	r27 = r20 ? r20->v.i : 0;
	r28 = r22->bytesPerElement;
	r27 = r27 * r28;
	r26 = r27;
	r27 = r13 + r26;
	if( r14 >= r27 ) goto label$c6dbf2e_12_165;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$c6dbf2e_12_165:
	r22->buffer = r6;
	r22->byteOffset = r13;
	r22->byteLength = r26;
	r33 = (double)r26;
	r27 = r22->bytesPerElement;
	r34 = (double)r27;
	r33 = r33 / r34;
	r27 = (int)r33;
	r22->length = r27;
	goto label$c6dbf2e_12_177;
	label$c6dbf2e_12_175:
	r31 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r31);
	label$c6dbf2e_12_177:
	r35 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r13 = r9;
	r25 = &r13;
	r14 = r10;
	r36 = &r14;
	r15 = 8;
	r37 = &r15;
	r21 = NULL;
	lime_graphics_ImageBuffer_new(r35,r22,r25,r36,r37,r21);
	r38 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r26 = 0;
	r25 = &r26;
	r27 = 0;
	r36 = &r27;
	r28 = r9;
	r37 = &r28;
	r30 = r10;
	r39 = &r30;
	r21 = NULL;
	r40 = NULL;
	lime_graphics_Image_new(r38,r35,r25,r36,r37,r39,r21,r40);
	r33 = (double)r11;
	r38->x = r33;
	r33 = (double)r12;
	r38->y = r33;
	return r38;
	label$c6dbf2e_12_203:
	r38 = NULL;
	return r38;
}

haxe__ds__IntMap lime_text_Font_renderGlyphs(lime__text__Font r0,hl__types__ArrayBytes_Int r1,int r2) {
	String r62;
	lime__graphics__Image r50;
	openfl___Vector__IntVector r56;
	vvirtual *r13;
	venum *r52, *r63;
	hl_type *r15;
	haxe__io__Bytes r20, r21, r41, r48;
	bool r11;
	haxe__ds__IntMap r3, r10;
	hl__types__ArrayBytes_Int r8;
	lime__graphics__ImageBuffer r30;
	hl__types__ArrayDyn r55, r60;
	double r53, r64;
	lime__utils__ArrayBufferView r31, r59;
	int *r32, *r33, *r34, *r51;
	vdynamic *r12, *r35, *r57, *r58;
	varray *r14;
	vbyte *r9;
	int r5, r6, r7, r16, r17, r18, r19, r22, r23, r24, r25, r26, r27, r28, r29, r36, r37, r38, r39, r40, r42, r43, r44, r45, r46, r47, r49, r54, r61;
	r3 = (haxe__ds__IntMap)hl_alloc_obj(&t$haxe_ds_IntMap);
	haxe_ds_IntMap_new(r3);
	r5 = 0;
	label$c6dbf2e_13_3:
	if( r1 == NULL ) hl_null_access();
	r7 = r1->length;
	if( r5 >= r7 ) goto label$c6dbf2e_13_21;
	r7 = r1->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$c6dbf2e_13_11;
	r6 = 0;
	goto label$c6dbf2e_13_15;
	label$c6dbf2e_13_11:
	r9 = r1->bytes;
	r7 = 2;
	r7 = r5 << r7;
	r6 = *(int*)(r9 + r7);
	label$c6dbf2e_13_15:
	++r5;
	if( r3 == NULL ) hl_null_access();
	r11 = true;
	r12 = hl_alloc_dynbool(r11);
	haxe_ds_IntMap_set(r3,r6,r12);
	goto label$c6dbf2e_13_3;
	label$c6dbf2e_13_21:
	r5 = 0;
	r9 = hl_alloc_bytes(r5);
	r5 = 0;
	r5 = 0;
	r8 = hl_types_ArrayBase_allocI32(r9,r5);
	if( r3 == NULL ) hl_null_access();
	r13 = haxe_ds_IntMap_keys(r3);
	label$c6dbf2e_13_28:
	if( r13 == NULL ) hl_null_access();
	if( hl_vfields(r13)[0] ) r11 = ((bool (*)(vdynamic*))hl_vfields(r13)[0])(r13->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r13->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r11 = (bool)ret.v.i;
	}
	if( !r11 ) goto label$c6dbf2e_13_36;
	if( hl_vfields(r13)[1] ) r5 = ((int (*)(vdynamic*))hl_vfields(r13)[1])(r13->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r13->value,&t$fun_4dc72d5,151160317/*next*/,NULL,&ret);
		r5 = (int)ret.v.i;
	}
	if( r8 == NULL ) hl_null_access();
	r6 = hl_types_ArrayBytes_Int_push(r8,r5);
	goto label$c6dbf2e_13_28;
	label$c6dbf2e_13_36:
	if( r8 == NULL ) hl_null_access();
	r5 = r8->length;
	r15 = &t$_i32;
	r14 = hl_alloc_array(r15,r5);
	r6 = 0;
	r7 = r8->length;
	label$c6dbf2e_13_42:
	if( r6 >= r7 ) goto label$c6dbf2e_13_57;
	r16 = r6;
	++r6;
	if( r8 == NULL ) hl_null_access();
	r18 = r8->length;
	if( ((unsigned)r16) < ((unsigned)r18) ) goto label$c6dbf2e_13_51;
	r17 = 0;
	goto label$c6dbf2e_13_55;
	label$c6dbf2e_13_51:
	r9 = r8->bytes;
	r18 = 2;
	r18 = r16 << r18;
	r17 = *(int*)(r9 + r18);
	label$c6dbf2e_13_55:
	((int*)(r14 + 1))[r16] = r17;
	goto label$c6dbf2e_13_42;
	label$c6dbf2e_13_57:
	r12 = r0->src;
	lime_hl_font_set_size(r12,r2);
	r6 = 0;
	r20 = haxe_io_Bytes_alloc(r6);
	r12 = r0->src;
	r21 = lime_hl_font_render_glyphs(r12,r14,r20);
	r20 = r21;
	if( !r21 ) goto label$c6dbf2e_13_388;
	if( r21 == NULL ) hl_null_access();
	r6 = r21->length;
	r7 = 0;
	if( r7 >= r6 ) goto label$c6dbf2e_13_388;
	r6 = 0;
	r7 = haxe_io_Bytes_getInt32(r21,r6);
	r17 = 4;
	r16 = r6 + r17;
	r6 = r16;
	r16 = 128;
	r17 = 128;
	r18 = 0;
	r19 = 0;
	r22 = 0;
	r23 = 0;
	label$c6dbf2e_13_80:
	if( r23 >= r7 ) goto label$c6dbf2e_13_139;
	r25 = 4;
	r24 = r6 + r25;
	r6 = r24;
	if( r20 == NULL ) hl_null_access();
	r25 = haxe_io_Bytes_getInt32(r20,r24);
	r24 = r25;
	r26 = 4;
	r25 = r6 + r26;
	r6 = r25;
	r26 = haxe_io_Bytes_getInt32(r20,r25);
	r25 = r26;
	r27 = 4;
	r26 = r6 + r27;
	r27 = 8;
	r28 = r24 * r25;
	r27 = r27 + r28;
	r26 = r26 + r27;
	r6 = r26;
	r26 = r18 + r24;
	if( r16 >= r26 ) goto label$c6dbf2e_13_110;
	r28 = 1;
	r27 = r22 + r28;
	r26 = r19 + r27;
	r19 = r26;
	r26 = 0;
	r18 = r26;
	r26 = 0;
	r22 = r26;
	label$c6dbf2e_13_110:
	r26 = r19 + r25;
	if( r17 >= r26 ) goto label$c6dbf2e_13_131;
	if( r16 >= r17 ) goto label$c6dbf2e_13_117;
	r27 = 2;
	r26 = r16 * r27;
	r16 = r26;
	goto label$c6dbf2e_13_120;
	label$c6dbf2e_13_117:
	r27 = 2;
	r26 = r17 * r27;
	r17 = r26;
	label$c6dbf2e_13_120:
	r26 = 0;
	r18 = r26;
	r26 = 0;
	r19 = r26;
	r26 = 0;
	r22 = r26;
	r26 = 4;
	r6 = r26;
	r26 = 0;
	r23 = r26;
	goto label$c6dbf2e_13_80;
	label$c6dbf2e_13_131:
	r28 = 1;
	r27 = r24 + r28;
	r26 = r18 + r27;
	r18 = r26;
	if( r22 >= r25 ) goto label$c6dbf2e_13_137;
	r22 = r25;
	label$c6dbf2e_13_137:
	++r23;
	goto label$c6dbf2e_13_80;
	label$c6dbf2e_13_139:
	r10 = (haxe__ds__IntMap)hl_alloc_obj(&t$haxe_ds_IntMap);
	haxe_ds_IntMap_new(r10);
	r30 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r31 = NULL;
	r26 = r16;
	r32 = &r26;
	r27 = r17;
	r33 = &r27;
	r28 = 8;
	r34 = &r28;
	r35 = NULL;
	lime_graphics_ImageBuffer_new(r30,r31,r32,r33,r34,r35);
	r29 = 0;
	r36 = r16 * r17;
	r21 = haxe_io_Bytes_alloc(r36);
	r36 = 4;
	r6 = r36;
	r36 = 0;
	r18 = r36;
	r36 = 0;
	r19 = r36;
	r36 = 0;
	r22 = r36;
	r36 = 0;
	r37 = r7;
	label$c6dbf2e_13_164:
	if( r36 >= r37 ) goto label$c6dbf2e_13_242;
	++r36;
	if( r20 == NULL ) hl_null_access();
	r40 = haxe_io_Bytes_getInt32(r20,r6);
	r39 = r40;
	r42 = 4;
	r40 = r6 + r42;
	r6 = r40;
	r40 = haxe_io_Bytes_getInt32(r20,r40);
	r24 = r40;
	r42 = 4;
	r40 = r6 + r42;
	r6 = r40;
	r40 = haxe_io_Bytes_getInt32(r20,r40);
	r25 = r40;
	r42 = 4;
	r40 = r6 + r42;
	r6 = r40;
	r42 = haxe_io_Bytes_getInt32(r20,r40);
	r40 = r42;
	r43 = 4;
	r42 = r6 + r43;
	r6 = r42;
	r43 = haxe_io_Bytes_getInt32(r20,r42);
	r42 = r43;
	r44 = 4;
	r43 = r6 + r44;
	r6 = r43;
	r43 = r18 + r24;
	if( r16 >= r43 ) goto label$c6dbf2e_13_203;
	r45 = 1;
	r44 = r22 + r45;
	r43 = r19 + r44;
	r19 = r43;
	r43 = 0;
	r18 = r43;
	r43 = 0;
	r22 = r43;
	label$c6dbf2e_13_203:
	r43 = 0;
	r44 = r25;
	label$c6dbf2e_13_205:
	if( r43 >= r44 ) goto label$c6dbf2e_13_217;
	r45 = r43;
	++r43;
	r46 = r45 + r19;
	r46 = r46 * r16;
	r46 = r46 + r18;
	if( r21 == NULL ) hl_null_access();
	haxe_io_Bytes_blit(r21,r46,r20,r6,r24);
	r46 = r6 + r24;
	r6 = r46;
	goto label$c6dbf2e_13_205;
	label$c6dbf2e_13_217:
	r50 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r43 = r18;
	r32 = &r43;
	r44 = r19;
	r33 = &r44;
	r45 = r24;
	r34 = &r45;
	r46 = r25;
	r51 = &r46;
	r35 = NULL;
	r52 = NULL;
	lime_graphics_Image_new(r50,r30,r32,r33,r34,r51,r35,r52);
	r53 = (double)r40;
	r50->x = r53;
	r53 = (double)r42;
	r50->y = r53;
	if( r10 == NULL ) hl_null_access();
	haxe_ds_IntMap_set(r10,r39,((vdynamic*)r50));
	r54 = 1;
	r49 = r24 + r54;
	r47 = r18 + r49;
	r18 = r47;
	if( r22 >= r25 ) goto label$c6dbf2e_13_241;
	r22 = r25;
	label$c6dbf2e_13_241:
	goto label$c6dbf2e_13_164;
	label$c6dbf2e_13_242:
	r35 = NULL;
	r55 = NULL;
	r56 = NULL;
	r31 = NULL;
	r57 = NULL;
	if( !r35 ) goto label$c6dbf2e_13_252;
	r59 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 4;
	lime_utils_ArrayBufferView_new(r59,r35,r36);
	goto label$c6dbf2e_13_385;
	label$c6dbf2e_13_252:
	if( !r55 ) goto label$c6dbf2e_13_273;
	r59 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r58 = hl_alloc_dynamic(&t$_i32);
	r58->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r59,r58,r36);
	r36 = 0;
	r59->byteOffset = r36;
	if( r55 == NULL ) hl_null_access();
	r36 = hl_types_ArrayDyn_get_length(r55);
	r59->length = r36;
	r36 = r59->length;
	r37 = r59->bytesPerElement;
	r36 = r36 * r37;
	r59->byteLength = r36;
	r36 = r59->byteLength;
	r41 = haxe_io_Bytes_alloc(r36);
	r59->buffer = r41;
	r32 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r59,r55,r32);
	goto label$c6dbf2e_13_385;
	label$c6dbf2e_13_273:
	if( !r56 ) goto label$c6dbf2e_13_297;
	r59 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r58 = hl_alloc_dynamic(&t$_i32);
	r58->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r59,r58,r36);
	if( r56 == NULL ) hl_null_access();
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r56,-269630230/*__array*/,&t$_dyn);
	r60 = (hl__types__ArrayDyn)hl_dyn_castp(&r12,&t$_dyn,&t$hl_types_ArrayDyn);
	r36 = 0;
	r59->byteOffset = r36;
	if( r60 == NULL ) hl_null_access();
	r36 = hl_types_ArrayDyn_get_length(r60);
	r59->length = r36;
	r36 = r59->length;
	r37 = r59->bytesPerElement;
	r36 = r36 * r37;
	r59->byteLength = r36;
	r36 = r59->byteLength;
	r41 = haxe_io_Bytes_alloc(r36);
	r59->buffer = r41;
	r32 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r59,r60,r32);
	goto label$c6dbf2e_13_385;
	label$c6dbf2e_13_297:
	if( !r31 ) goto label$c6dbf2e_13_331;
	r59 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r58 = hl_alloc_dynamic(&t$_i32);
	r58->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r59,r58,r36);
	if( r31 == NULL ) hl_null_access();
	r41 = r31->buffer;
	r36 = r31->length;
	r37 = r31->byteOffset;
	r38 = r31->bytesPerElement;
	r47 = r59->bytesPerElement;
	r49 = r31->type;
	r54 = r59->type;
	if( r49 != r54 ) goto label$c6dbf2e_13_322;
	if( r41 == NULL ) hl_null_access();
	r49 = r41->length;
	r54 = r49 - r37;
	r48 = haxe_io_Bytes_alloc(r54);
	r59->buffer = r48;
	r48 = r59->buffer;
	if( r48 == NULL ) hl_null_access();
	r61 = 0;
	haxe_io_Bytes_blit(r48,r61,r41,r37,r54);
	goto label$c6dbf2e_13_324;
	label$c6dbf2e_13_322:
	r62 = (String)s$unimplemented;
	hl_throw((vdynamic*)r62);
	label$c6dbf2e_13_324:
	r49 = r59->bytesPerElement;
	r49 = r49 * r36;
	r59->byteLength = r49;
	r49 = 0;
	r59->byteOffset = r49;
	r59->length = r36;
	goto label$c6dbf2e_13_385;
	label$c6dbf2e_13_331:
	if( !r21 ) goto label$c6dbf2e_13_383;
	r59 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r58 = hl_alloc_dynamic(&t$_i32);
	r58->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r59,r58,r36);
	r36 = 0;
	r38 = 0;
	if( r36 >= r38 ) goto label$c6dbf2e_13_342;
	r63 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r63);
	label$c6dbf2e_13_342:
	r38 = r59->bytesPerElement;
	r37 = r38 == 0 ? 0 : r36 % r38;
	r38 = 0;
	if( r37 == r38 ) goto label$c6dbf2e_13_348;
	r63 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r63);
	label$c6dbf2e_13_348:
	if( r21 == NULL ) hl_null_access();
	r37 = r21->length;
	r38 = r59->bytesPerElement;
	if( r57 ) goto label$c6dbf2e_13_365;
	r49 = r37 - r36;
	r47 = r49;
	r54 = r59->bytesPerElement;
	r49 = r54 == 0 ? 0 : r37 % r54;
	r54 = 0;
	if( r49 == r54 ) goto label$c6dbf2e_13_360;
	r63 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r63);
	label$c6dbf2e_13_360:
	r54 = 0;
	if( r47 >= r54 ) goto label$c6dbf2e_13_364;
	r63 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r63);
	label$c6dbf2e_13_364:
	goto label$c6dbf2e_13_373;
	label$c6dbf2e_13_365:
	r49 = r57 ? r57->v.i : 0;
	r54 = r59->bytesPerElement;
	r49 = r49 * r54;
	r47 = r49;
	r49 = r36 + r47;
	if( r37 >= r49 ) goto label$c6dbf2e_13_373;
	r63 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r63);
	label$c6dbf2e_13_373:
	r59->buffer = r21;
	r59->byteOffset = r36;
	r59->byteLength = r47;
	r53 = (double)r47;
	r49 = r59->bytesPerElement;
	r64 = (double)r49;
	r53 = r53 / r64;
	r49 = (int)r53;
	r59->length = r49;
	goto label$c6dbf2e_13_385;
	label$c6dbf2e_13_383:
	r62 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r62);
	label$c6dbf2e_13_385:
	if( r30 == NULL ) hl_null_access();
	r30->data = r59;
	return r10;
	label$c6dbf2e_13_388:
	r10 = NULL;
	return r10;
}

void lime_text_Font___copyFrom(lime__text__Font r0,lime__text__Font r1) {
	String r4;
	bool r6;
	vdynamic *r5;
	int r3;
	if( !r1 ) goto label$c6dbf2e_14_28;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->ascender;
	r0->ascender = r3;
	r3 = r1->descender;
	r0->descender = r3;
	r3 = r1->height;
	r0->height = r3;
	r4 = r1->name;
	r0->name = r4;
	r3 = r1->numGlyphs;
	r0->numGlyphs = r3;
	r5 = r1->src;
	r0->src = r5;
	r3 = r1->underlinePosition;
	r0->underlinePosition = r3;
	r3 = r1->underlineThickness;
	r0->underlineThickness = r3;
	r3 = r1->unitsPerEM;
	r0->unitsPerEM = r3;
	r4 = r1->__fontID;
	r0->__fontID = r4;
	r4 = r1->__fontPath;
	r0->__fontPath = r4;
	r4 = r1->__fontPathWithoutDirectory;
	r0->__fontPathWithoutDirectory = r4;
	r6 = true;
	r0->__init = r6;
	label$c6dbf2e_14_28:
	return;
}

void lime_text_Font___fromBytes(lime__text__Font r0,haxe__io__Bytes r1) {
	String r2;
	vdynamic *r3;
	r2 = NULL;
	r0->__fontPath = r2;
	r2 = NULL;
	r0->__fontPathWithoutDirectory = r2;
	r3 = lime_hl_font_load_bytes(r1);
	r0->src = r3;
	lime_text_Font___initializeSource(r0);
	return;
}

void lime_text_Font___fromFile(lime__text__Font r0,String r1) {
	String r2;
	vdynamic *r3;
	r0->__fontPath = r1;
	r2 = r0->__fontPath;
	r2 = haxe_io_Path_withoutDirectory(r2);
	r0->__fontPathWithoutDirectory = r2;
	r2 = r0->__fontPath;
	r3 = lime_hl_font_load_file(r2);
	r0->src = r3;
	lime_text_Font___initializeSource(r0);
	return;
}

void lime_text_Font___initializeSource(lime__text__Font r0) {
	String r3;
	bool r6;
	vdynamic *r2;
	int r5;
	vbyte *r4;
	r2 = r0->src;
	if( !r2 ) goto label$c6dbf2e_17_29;
	r3 = r0->name;
	if( r3 ) goto label$c6dbf2e_17_8;
	r2 = r0->src;
	r4 = lime_hl_font_get_family_name(r2);
	r3 = String_fromUTF8(r4);
	r0->name = r3;
	label$c6dbf2e_17_8:
	r2 = r0->src;
	r5 = lime_hl_font_get_ascender(r2);
	r0->ascender = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_descender(r2);
	r0->descender = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_height(r2);
	r0->height = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_num_glyphs(r2);
	r0->numGlyphs = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_underline_position(r2);
	r0->underlinePosition = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_underline_thickness(r2);
	r0->underlineThickness = r5;
	r2 = r0->src;
	r5 = lime_hl_font_get_units_per_em(r2);
	r0->unitsPerEM = r5;
	label$c6dbf2e_17_29:
	r6 = true;
	r0->__init = r6;
	return;
}

lime__app__Future lime_text_Font___loadFromName(lime__text__Font r0,String r1) {
	String r5;
	lime__app__Future r6;
	lime__app__Promise r2, r4;
	r2 = (lime__app__Promise)hl_alloc_obj(&t$lime_app_Promise);
	lime_app_Promise_new(r2);
	r5 = (String)s$;
	r4 = lime_app_Promise_error(r2,((vdynamic*)r5));
	r6 = r2->future;
	return r6;
}

void lime_text_Font___setSize(lime__text__Font r0,int r1) {
	vdynamic *r3;
	r3 = r0->src;
	lime_hl_font_set_size(r3,r1);
	return;
}

