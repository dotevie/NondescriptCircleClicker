// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/_internal/graphics/ImageCanvasUtil.h>
void lime__internal_graphics_ImageCanvasUtil_convertToData(lime__graphics__Image,bool*);
void lime__internal_graphics_ImageDataUtil_colorTransform(lime__graphics__Image,lime__math__Rectangle,lime__utils__ArrayBufferView);
#include <lime/graphics/ImageType.h>
extern venum* g$lime_graphics_ImageType_CANVAS;
#include <lime/graphics/ImageBuffer.h>
extern venum* g$lime_graphics_ImageType_DATA;
void lime__internal_graphics_ImageDataUtil_copyChannel(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,venum*,venum*);
bool lime_graphics_Image_get_transparent(lime__graphics__Image);
extern hl_type t$lime_math_Vector2;
void lime_math_Vector2_new(lime__math__Vector2,double*,double*);
lime__graphics__Image lime_graphics_Image_clone(lime__graphics__Image);
extern hl_type t$lime_math_Rectangle;
void lime_math_Rectangle_new(lime__math__Rectangle,double*,double*,double*,double*);
extern venum* g$lime_graphics_ImageChannel_ALPHA;
void lime_graphics_Image_copyChannel(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,venum*,venum*);
extern hl_type t$_dyn;
extern hl_type t$_f64;
vdynamic* lime_graphics_ImageBuffer_get_src(lime__graphics__ImageBuffer);
extern String s$source_over;
extern hl_type t$String;
extern hl_type t$_i32;
extern String s$rgba_;
#include <hl/natives.h>
String String___alloc__(vbyte*,int);
String String___add__(String,String);
extern String s$fc763cb;
extern String s$9371d7a;
void lime__internal_graphics_ImageDataUtil_floodFill(lime__graphics__Image,int,int,int,int);
int lime__internal_graphics_ImageDataUtil_getPixel(lime__graphics__Image,int,int,int);
int lime__internal_graphics_ImageDataUtil_getPixel32(lime__graphics__Image,int,int,int);
haxe__io__Bytes lime__internal_graphics_ImageDataUtil_getPixels(lime__graphics__Image,lime__math__Rectangle,int);
void lime__internal_graphics_ImageDataUtil_merge(lime__graphics__Image,lime__graphics__Image,lime__math__Rectangle,lime__math__Vector2,int,int,int,int);
vdynamic* lime_graphics_Image_get_src(lime__graphics__Image);
void lime__internal_graphics_ImageDataUtil_setPixel(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_setPixel32(lime__graphics__Image,int,int,int,int);
void lime__internal_graphics_ImageDataUtil_setPixels(lime__graphics__Image,lime__math__Rectangle,lime__utils__BytePointerData,int,venum*);

void lime__internal_graphics_ImageCanvasUtil_colorTransform(lime__graphics__Image r0,lime__math__Rectangle r1,lime__utils__ArrayBufferView r2) {
	bool *r4;
	r4 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r4);
	lime__internal_graphics_ImageDataUtil_colorTransform(r0,r1,r2);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_convertToCanvas(lime__graphics__Image r0,bool* r1) {
	venum *r3;
	bool r2;
	if( r1 ) goto label$619f5ae_2_3;
	r2 = false;
	goto label$619f5ae_2_4;
	label$619f5ae_2_3:
	r2 = *r1;
	label$619f5ae_2_4:
	if( r0 == NULL ) hl_null_access();
	r3 = (venum*)g$lime_graphics_ImageType_CANVAS;
	r0->type = r3;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_convertToData(lime__graphics__Image r0,bool* r1) {
	venum *r5;
	bool r2;
	lime__graphics__ImageBuffer r3;
	if( r1 ) goto label$619f5ae_3_3;
	r2 = false;
	goto label$619f5ae_3_4;
	label$619f5ae_3_3:
	r2 = *r1;
	label$619f5ae_3_4:
	if( r0 == NULL ) hl_null_access();
	r3 = r0->buffer;
	r5 = (venum*)g$lime_graphics_ImageType_DATA;
	r0->type = r5;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_copyChannel(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,venum* r4,venum* r5) {
	bool *r7;
	r7 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r1,r7);
	r7 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r7);
	lime__internal_graphics_ImageDataUtil_copyChannel(r0,r1,r2,r3,r4,r5);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_copyPixels(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,lime__graphics__Image r4,lime__math__Vector2 r5,bool* r6) {
	String r35;
	lime__graphics__Image r12;
	venum *r25, *r26;
	lime__math__Vector2 r9;
	bool r7, r16, r27;
	lime__graphics__ImageBuffer r28;
	lime__math__Rectangle r14;
	double r10, r13, r19, r21, r23, r24, r29, r30, r37, r39, r41, r43, r45, r47;
	double *r17, *r18, *r20, *r22;
	vdynamic *r15, *r31, *r32, *r33, *r34, *r49, *r50, *r51, *r52, *r53, *r54, *r55;
	int r11, r36, r38, r40, r42, r44, r46, r48;
	if( r6 ) goto label$619f5ae_5_3;
	r7 = false;
	goto label$619f5ae_5_4;
	label$619f5ae_5_3:
	r7 = *r6;
	label$619f5ae_5_4:
	if( !r3 ) goto label$619f5ae_5_23;
	if( r3 == NULL ) hl_null_access();
	r10 = r3->x;
	if( r0 == NULL ) hl_null_access();
	r11 = r0->width;
	r13 = (double)r11;
	if( r10 >= r13 ) goto label$619f5ae_5_23;
	r10 = r3->y;
	r11 = r0->height;
	r13 = (double)r11;
	if( r10 >= r13 ) goto label$619f5ae_5_23;
	if( !r2 ) goto label$619f5ae_5_23;
	if( r2 == NULL ) hl_null_access();
	r10 = r2->width;
	r13 = 1.;
	if( r10 < r13 ) goto label$619f5ae_5_23;
	r10 = r2->height;
	r13 = 1.;
	if( !(r10 < r13) ) goto label$619f5ae_5_24;
	label$619f5ae_5_23:
	return;
	label$619f5ae_5_24:
	if( !r4 ) goto label$619f5ae_5_62;
	if( r4 == NULL ) hl_null_access();
	r16 = lime_graphics_Image_get_transparent(r4);
	if( !r16 ) goto label$619f5ae_5_62;
	if( r5 ) goto label$619f5ae_5_34;
	r9 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
	r17 = NULL;
	r18 = NULL;
	lime_math_Vector2_new(r9,r17,r18);
	r5 = r9;
	label$619f5ae_5_34:
	if( r1 == NULL ) hl_null_access();
	r12 = lime_graphics_Image_clone(r1);
	if( r12 == NULL ) hl_null_access();
	r14 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
	r10 = r2->x;
	if( r5 == NULL ) hl_null_access();
	r13 = r5->x;
	r10 = r10 + r13;
	r17 = &r10;
	r13 = r2->y;
	r19 = r5->y;
	r13 = r13 + r19;
	r18 = &r13;
	r19 = r2->width;
	r20 = &r19;
	r21 = r2->height;
	r22 = &r21;
	lime_math_Rectangle_new(r14,r17,r18,r20,r22);
	r9 = (lime__math__Vector2)hl_alloc_obj(&t$lime_math_Vector2);
	r23 = r2->x;
	r17 = &r23;
	r24 = r2->y;
	r18 = &r24;
	lime_math_Vector2_new(r9,r17,r18);
	r25 = (venum*)g$lime_graphics_ImageChannel_ALPHA;
	r26 = (venum*)g$lime_graphics_ImageChannel_ALPHA;
	lime_graphics_Image_copyChannel(r12,r4,r14,r9,r25,r26);
	r1 = r12;
	label$619f5ae_5_62:
	r16 = true;
	r6 = &r16;
	lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r6);
	if( r7 ) goto label$619f5ae_5_98;
	r27 = lime_graphics_Image_get_transparent(r0);
	if( !r27 ) goto label$619f5ae_5_98;
	if( r1 == NULL ) hl_null_access();
	r27 = lime_graphics_Image_get_transparent(r1);
	if( !r27 ) goto label$619f5ae_5_98;
	r28 = r0->buffer;
	if( r28 == NULL ) hl_null_access();
	r15 = r28->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r15 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,-9948089/*clearRect*/,&t$_dyn);
	if( r15 == NULL ) hl_null_access();
	r29 = r3->x;
	r11 = r0->offsetX;
	r30 = (double)r11;
	r29 = r29 + r30;
	r31 = hl_alloc_dynamic(&t$_f64);
	r31->v.d = r29;
	r29 = r3->y;
	r11 = r0->offsetY;
	r30 = (double)r11;
	r29 = r29 + r30;
	r32 = hl_alloc_dynamic(&t$_f64);
	r32->v.d = r29;
	r29 = r2->width;
	r11 = r0->offsetX;
	r30 = (double)r11;
	r29 = r29 + r30;
	r33 = hl_alloc_dynamic(&t$_f64);
	r33->v.d = r29;
	r29 = r2->height;
	r11 = r0->offsetY;
	r30 = (double)r11;
	r29 = r29 + r30;
	r34 = hl_alloc_dynamic(&t$_f64);
	r34->v.d = r29;
	{
		vdynamic *args[] = {r31,r32,r33,r34};
		r15 = (vdynamic*)hl_dyn_call((vclosure*)r15,args,4);
	}
	label$619f5ae_5_98:
	r6 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r1,r6);
	if( r1 == NULL ) hl_null_access();
	r28 = r1->buffer;
	if( r28 == NULL ) hl_null_access();
	r15 = lime_graphics_ImageBuffer_get_src(r28);
	if( !r15 ) goto label$619f5ae_5_157;
	r28 = r0->buffer;
	if( r28 == NULL ) hl_null_access();
	r15 = r28->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r35 = (String)s$source_over;
	hl_dyn_setp((vdynamic*)r15,-520551202/*globalCompositeOperation*/,&t$String,r35);
	r28 = r0->buffer;
	if( r28 == NULL ) hl_null_access();
	r15 = r28->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r15 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,-445361368/*drawImage*/,&t$_dyn);
	r28 = r1->buffer;
	if( r28 == NULL ) hl_null_access();
	r31 = lime_graphics_ImageBuffer_get_src(r28);
	r29 = r2->x;
	r11 = r1->offsetX;
	r30 = (double)r11;
	r29 = r29 + r30;
	r11 = (int)r29;
	r30 = r2->y;
	r36 = r1->offsetY;
	r37 = (double)r36;
	r30 = r30 + r37;
	r36 = (int)r30;
	r37 = r2->width;
	r38 = (int)r37;
	r39 = r2->height;
	r40 = (int)r39;
	r41 = r3->x;
	r42 = r0->offsetX;
	r43 = (double)r42;
	r41 = r41 + r43;
	r42 = (int)r41;
	r43 = r3->y;
	r44 = r0->offsetY;
	r45 = (double)r44;
	r43 = r43 + r45;
	r44 = (int)r43;
	r45 = r2->width;
	r46 = (int)r45;
	r47 = r2->height;
	if( r15 == NULL ) hl_null_access();
	r34 = hl_alloc_dynamic(&t$_i32);
	r34->v.i = r11;
	r49 = hl_alloc_dynamic(&t$_i32);
	r49->v.i = r36;
	r50 = hl_alloc_dynamic(&t$_i32);
	r50->v.i = r38;
	r51 = hl_alloc_dynamic(&t$_i32);
	r51->v.i = r40;
	r52 = hl_alloc_dynamic(&t$_i32);
	r52->v.i = r42;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r44;
	r54 = hl_alloc_dynamic(&t$_i32);
	r54->v.i = r46;
	r48 = (int)r47;
	r55 = hl_alloc_dynamic(&t$_i32);
	r55->v.i = r48;
	{
		vdynamic *args[] = {r31,r34,r49,r50,r51,r52,r53,r54,r55};
		r32 = (vdynamic*)hl_dyn_call((vclosure*)r15,args,9);
	}
	label$619f5ae_5_157:
	r27 = true;
	r0->dirty = r27;
	r11 = r0->version;
	++r11;
	r0->version = r11;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_createCanvas(lime__graphics__Image r0,int r1,int r2) {
	return;
}

void lime__internal_graphics_ImageCanvasUtil_createImageData(lime__graphics__Image r0) {
	return;
}

void lime__internal_graphics_ImageCanvasUtil_fillRect(lime__graphics__Image r0,lime__math__Rectangle r1,int r2,int r3) {
	String r21, r24;
	bool *r5;
	bool r11;
	lime__graphics__ImageBuffer r16;
	double r13, r14;
	int *r22;
	vdynamic *r15, *r17, *r18, *r19, *r20;
	vbyte *r23;
	int r6, r7, r8, r9, r10, r12;
	r5 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r5);
	r7 = 1;
	if( r3 != r7 ) goto label$619f5ae_8_28;
	r8 = 16;
	r7 = r2 >> r8;
	r8 = 255;
	r7 = r7 & r8;
	r6 = r7;
	r9 = 8;
	r8 = r2 >> r9;
	r9 = 255;
	r8 = r8 & r9;
	r7 = r8;
	r10 = 255;
	r9 = r2 & r10;
	r8 = r9;
	if( r0 == NULL ) hl_null_access();
	r11 = lime_graphics_Image_get_transparent(r0);
	if( !r11 ) goto label$619f5ae_8_25;
	r12 = 24;
	r10 = r2 >> r12;
	r12 = 255;
	r10 = r10 & r12;
	goto label$619f5ae_8_26;
	label$619f5ae_8_25:
	r10 = 255;
	label$619f5ae_8_26:
	r9 = r10;
	goto label$619f5ae_8_51;
	label$619f5ae_8_28:
	r12 = 24;
	r10 = r2 >> r12;
	r12 = 255;
	r10 = r10 & r12;
	r6 = r10;
	r12 = 16;
	r10 = r2 >> r12;
	r12 = 255;
	r10 = r10 & r12;
	r7 = r10;
	r12 = 8;
	r10 = r2 >> r12;
	r12 = 255;
	r10 = r10 & r12;
	r8 = r10;
	if( r0 == NULL ) hl_null_access();
	r11 = lime_graphics_Image_get_transparent(r0);
	if( !r11 ) goto label$619f5ae_8_49;
	r12 = 255;
	r10 = r2 & r12;
	goto label$619f5ae_8_50;
	label$619f5ae_8_49:
	r10 = 255;
	label$619f5ae_8_50:
	r9 = r10;
	label$619f5ae_8_51:
	if( r1 == NULL ) hl_null_access();
	r13 = r1->x;
	r14 = 0.;
	if( r13 != r14 ) goto label$619f5ae_8_79;
	r13 = r1->y;
	r14 = 0.;
	if( r13 != r14 ) goto label$619f5ae_8_79;
	r13 = r1->width;
	r10 = r0->width;
	r14 = (double)r10;
	if( r13 != r14 ) goto label$619f5ae_8_79;
	r13 = r1->height;
	r10 = r0->height;
	r14 = (double)r10;
	if( r13 != r14 ) goto label$619f5ae_8_79;
	r11 = lime_graphics_Image_get_transparent(r0);
	if( !r11 ) goto label$619f5ae_8_79;
	r12 = 0;
	if( r9 != r12 ) goto label$619f5ae_8_79;
	r16 = r0->buffer;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->__srcCanvas;
	if( r15 == NULL ) hl_null_access();
	r16 = r0->buffer;
	if( r16 == NULL ) hl_null_access();
	r10 = r16->width;
	hl_dyn_seti((vdynamic*)r15,-362629759/*width*/,&t$_i32,r10);
	return;
	label$619f5ae_8_79:
	r12 = 255;
	if( r9 >= r12 ) goto label$619f5ae_8_108;
	r16 = r0->buffer;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r15 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,-9948089/*clearRect*/,&t$_dyn);
	if( r15 == NULL ) hl_null_access();
	r13 = r1->x;
	r10 = r0->offsetX;
	r14 = (double)r10;
	r13 = r13 + r14;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r13;
	r13 = r1->y;
	r10 = r0->offsetY;
	r14 = (double)r10;
	r13 = r13 + r14;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r13;
	r13 = r1->width;
	r10 = r0->offsetX;
	r14 = (double)r10;
	r13 = r13 + r14;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r13;
	r13 = r1->height;
	r10 = r0->offsetY;
	r14 = (double)r10;
	r13 = r13 + r14;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r13;
	{
		vdynamic *args[] = {r17,r18,r19,r20};
		r15 = (vdynamic*)hl_dyn_call((vclosure*)r15,args,4);
	}
	label$619f5ae_8_108:
	r12 = 0;
	if( r12 >= r9 ) goto label$619f5ae_8_174;
	r16 = r0->buffer;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r21 = (String)s$rgba_;
	r10 = r6;
	r22 = &r10;
	r23 = hl_itos(r10,r22);
	r24 = String___alloc__(r23,r10);
	r21 = String___add__(r21,r24);
	r24 = (String)s$fc763cb;
	r21 = String___add__(r21,r24);
	r10 = r7;
	r22 = &r10;
	r23 = hl_itos(r10,r22);
	r24 = String___alloc__(r23,r10);
	r21 = String___add__(r21,r24);
	r24 = (String)s$fc763cb;
	r21 = String___add__(r21,r24);
	r10 = r8;
	r22 = &r10;
	r23 = hl_itos(r10,r22);
	r24 = String___alloc__(r23,r10);
	r21 = String___add__(r21,r24);
	r24 = (String)s$fc763cb;
	r21 = String___add__(r21,r24);
	r10 = r9;
	r13 = (double)r9;
	r14 = 255.;
	r13 = r13 / r14;
	r22 = &r10;
	r23 = hl_ftos(r13,r22);
	r24 = String___alloc__(r23,r10);
	r21 = String___add__(r21,r24);
	r24 = (String)s$9371d7a;
	r21 = String___add__(r21,r24);
	hl_dyn_setp((vdynamic*)r15,314887352/*fillStyle*/,&t$String,r21);
	r16 = r0->buffer;
	if( r16 == NULL ) hl_null_access();
	r15 = r16->__srcContext;
	if( r15 == NULL ) hl_null_access();
	r15 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,213468886/*fillRect*/,&t$_dyn);
	if( r15 == NULL ) hl_null_access();
	r13 = r1->x;
	r10 = r0->offsetX;
	r14 = (double)r10;
	r13 = r13 + r14;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r13;
	r13 = r1->y;
	r10 = r0->offsetY;
	r14 = (double)r10;
	r13 = r13 + r14;
	r18 = hl_alloc_dynamic(&t$_f64);
	r18->v.d = r13;
	r13 = r1->width;
	r10 = r0->offsetX;
	r14 = (double)r10;
	r13 = r13 + r14;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r13;
	r13 = r1->height;
	r10 = r0->offsetY;
	r14 = (double)r10;
	r13 = r13 + r14;
	r20 = hl_alloc_dynamic(&t$_f64);
	r20->v.d = r13;
	{
		vdynamic *args[] = {r17,r18,r19,r20};
		r15 = (vdynamic*)hl_dyn_call((vclosure*)r15,args,4);
	}
	label$619f5ae_8_174:
	r11 = true;
	r0->dirty = r11;
	r10 = r0->version;
	++r10;
	r0->version = r10;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_floodFill(lime__graphics__Image r0,int r1,int r2,int r3,int r4) {
	bool *r6;
	r6 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r6);
	lime__internal_graphics_ImageDataUtil_floodFill(r0,r1,r2,r3,r4);
	return;
}

int lime__internal_graphics_ImageCanvasUtil_getPixel(lime__graphics__Image r0,int r1,int r2,int r3) {
	bool *r5;
	int r6;
	r5 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r5);
	r6 = lime__internal_graphics_ImageDataUtil_getPixel(r0,r1,r2,r3);
	return r6;
}

int lime__internal_graphics_ImageCanvasUtil_getPixel32(lime__graphics__Image r0,int r1,int r2,int r3) {
	bool *r5;
	int r6;
	r5 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r5);
	r6 = lime__internal_graphics_ImageDataUtil_getPixel32(r0,r1,r2,r3);
	return r6;
}

haxe__io__Bytes lime__internal_graphics_ImageCanvasUtil_getPixels(lime__graphics__Image r0,lime__math__Rectangle r1,int r2) {
	bool *r4;
	haxe__io__Bytes r5;
	r4 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r4);
	r5 = lime__internal_graphics_ImageDataUtil_getPixels(r0,r1,r2);
	return r5;
}

void lime__internal_graphics_ImageCanvasUtil_merge(lime__graphics__Image r0,lime__graphics__Image r1,lime__math__Rectangle r2,lime__math__Vector2 r3,int r4,int r5,int r6,int r7) {
	bool *r9;
	r9 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r1,r9);
	r9 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r9);
	lime__internal_graphics_ImageDataUtil_merge(r0,r1,r2,r3,r4,r5,r6,r7);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_resize(lime__graphics__Image r0,int r1,int r2) {
	bool *r13;
	bool r12, r16;
	lime__graphics__ImageBuffer r3;
	lime__utils__ArrayBufferView r15;
	vdynamic *r5, *r7, *r8, *r9, *r10, *r11, *r14;
	int r6;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->buffer;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->__srcCanvas;
	if( r5 ) goto label$619f5ae_14_19;
	lime__internal_graphics_ImageCanvasUtil_createCanvas(r0,r1,r2);
	r5 = r3->__srcContext;
	if( r5 == NULL ) hl_null_access();
	r5 = (vdynamic*)hl_dyn_getp((vdynamic*)r5,-445361368/*drawImage*/,&t$_dyn);
	if( r5 == NULL ) hl_null_access();
	r7 = lime_graphics_ImageBuffer_get_src(r3);
	r6 = 0;
	r8 = hl_alloc_dynamic(&t$_i32);
	r8->v.i = r6;
	r6 = 0;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r6;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r1;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r2;
	{
		vdynamic *args[] = {r7,r8,r9,r10,r11};
		r5 = (vdynamic*)hl_dyn_call((vclosure*)r5,args,5);
	}
	goto label$619f5ae_14_37;
	label$619f5ae_14_19:
	r12 = true;
	r13 = &r12;
	lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r13);
	r5 = r3->__srcCanvas;
	r7 = NULL;
	r3->__srcCanvas = r7;
	lime__internal_graphics_ImageCanvasUtil_createCanvas(r0,r1,r2);
	r7 = r3->__srcContext;
	if( r7 == NULL ) hl_null_access();
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,-445361368/*drawImage*/,&t$_dyn);
	if( r7 == NULL ) hl_null_access();
	r6 = 0;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r6;
	r6 = 0;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r6;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r1;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r2;
	{
		vdynamic *args[] = {r5,r9,r10,r11,r14};
		r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,5);
	}
	label$619f5ae_14_37:
	r5 = NULL;
	r3->__srcImageData = r5;
	r15 = NULL;
	r3->data = r15;
	r16 = true;
	r0->dirty = r16;
	r6 = r0->version;
	++r6;
	r0->version = r6;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_scroll(lime__graphics__Image r0,int r1,int r2) {
	bool *r9;
	lime__graphics__Image r6;
	bool r8, r15;
	lime__graphics__ImageBuffer r10;
	vdynamic *r7, *r11, *r12, *r13, *r14;
	int r4, r5;
	if( r0 == NULL ) hl_null_access();
	r5 = r0->width;
	r4 = r5 == 0 ? 0 : r1 % r5;
	r5 = 0;
	if( r4 != r5 ) goto label$619f5ae_15_10;
	r5 = r0->height;
	r4 = r5 == 0 ? 0 : r2 % r5;
	r5 = 0;
	if( r4 != r5 ) goto label$619f5ae_15_10;
	return;
	label$619f5ae_15_10:
	r6 = lime_graphics_Image_clone(r0);
	r8 = true;
	r9 = &r8;
	lime__internal_graphics_ImageCanvasUtil_convertToCanvas(r0,r9);
	r10 = r0->buffer;
	if( r10 == NULL ) hl_null_access();
	r7 = r10->__srcContext;
	if( r7 == NULL ) hl_null_access();
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,-9948089/*clearRect*/,&t$_dyn);
	if( r7 == NULL ) hl_null_access();
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r1;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r2;
	r4 = r0->width;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r4;
	r4 = r0->height;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r4;
	{
		vdynamic *args[] = {r11,r12,r13,r14};
		r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,4);
	}
	r10 = r0->buffer;
	if( r10 == NULL ) hl_null_access();
	r7 = r10->__srcContext;
	if( r7 == NULL ) hl_null_access();
	r7 = (vdynamic*)hl_dyn_getp((vdynamic*)r7,-445361368/*drawImage*/,&t$_dyn);
	if( r7 == NULL ) hl_null_access();
	if( r6 == NULL ) hl_null_access();
	r11 = lime_graphics_Image_get_src(r6);
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r1;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r2;
	{
		vdynamic *args[] = {r11,r12,r13};
		r7 = (vdynamic*)hl_dyn_call((vclosure*)r7,args,3);
	}
	r15 = true;
	r0->dirty = r15;
	r4 = r0->version;
	++r4;
	r0->version = r4;
	return;
}

void lime__internal_graphics_ImageCanvasUtil_setPixel(lime__graphics__Image r0,int r1,int r2,int r3,int r4) {
	bool *r6;
	r6 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r6);
	lime__internal_graphics_ImageDataUtil_setPixel(r0,r1,r2,r3,r4);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_setPixel32(lime__graphics__Image r0,int r1,int r2,int r3,int r4) {
	bool *r6;
	r6 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r6);
	lime__internal_graphics_ImageDataUtil_setPixel32(r0,r1,r2,r3,r4);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_setPixels(lime__graphics__Image r0,lime__math__Rectangle r1,lime__utils__BytePointerData r2,int r3,venum* r4) {
	bool *r6;
	r6 = NULL;
	lime__internal_graphics_ImageCanvasUtil_convertToData(r0,r6);
	lime__internal_graphics_ImageDataUtil_setPixels(r0,r1,r2,r3,r4);
	return;
}

void lime__internal_graphics_ImageCanvasUtil_sync(lime__graphics__Image r0,bool r1) {
	if( r0 ) goto label$619f5ae_19_2;
	return;
	label$619f5ae_19_2:
	return;
}

