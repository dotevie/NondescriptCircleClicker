// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/_internal/backend/native/NativeWindow.h>
#include <lime/_internal/backend/native/NativeApplication.h>
#include <lime/app/Application.h>
#include <lime/graphics/RenderContext.h>
#include <lime/_internal/backend/native/NativeOpenGLRenderContext.h>
#include <lime/graphics/opengl/GL.h>
extern venum* g$lime_ui_MouseCursor_DEFAULT;
extern hl_type t$lime_system_DisplayMode;
void lime_system_DisplayMode_new(lime__system__DisplayMode,int,int,int,int);
extern String s$context;
bool Reflect_hasField(vdynamic*,String);
extern hl_type t$vrt_4278b5a;
extern String s$title;
extern hl_type t$String;
extern String s$Lime_Application;
extern String s$antialiasing;
extern hl_type t$_i32;
extern hl_type t$nul_i32;
extern String s$background;
extern String s$colorDepth;
extern String s$depth;
extern hl_type t$nul_bool;
extern String s$hardware;
extern String s$stencil;
extern String s$vsync;
extern String s$type;
extern String s$cairo;
int String___compare(String,vdynamic*);
extern String s$allowHighDPI;
extern String s$alwaysOnTop;
extern String s$borderless;
extern String s$fullscreen;
extern String s$hidden;
extern String s$maximized;
extern String s$minimized;
extern String s$resizable;
extern String s$width;
extern String s$height;
#include <hl/natives.h>
extern hl_type t$lime_graphics_RenderContext;
void lime_graphics_RenderContext_new(lime__graphics__RenderContext);
String String_fromUTF8(vbyte*);
extern String s$opengl;
extern hl_type t$lime__internal_backend_native_NativeOpenGLRenderContext;
void lime__internal_backend_native_NativeOpenGLRenderContext_new(lime___internal__backend__native__NativeOpenGLRenderContext);
lime___internal__backend__native__NativeOpenGLRenderContext lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__fromWebGL2RenderContext(lime___internal__backend__native__NativeOpenGLRenderContext);
extern hl_type t$_f64;
String Std_string(vdynamic*);
extern String s$opengles;
extern lime__graphics__opengl__$GL g$_lime_graphics_opengl_GL;
extern String s$;
void lime__internal_backend_native_NativeWindow_render(lime___internal__backend__native__NativeWindow);
extern String s$frameRate;
extern hl_type t$nul_f64;
double lime__internal_backend_native_NativeWindow_setFrameRate(lime___internal__backend__native__NativeWindow,double);
#include <lime/app/_Event_Void_Void.h>
void lime_app__Event_Void_Void_dispatch(lime__app___Event_Void_Void);
void lime_graphics_cairo__CairoSurface_CairoSurface_Impl__flush(vdynamic*);
#include <lime/system/Display.h>
lime__system__Display lime_system_System_getDisplay(int);
#include <lime/math/Rectangle.h>
#include <lime/graphics/ImageBuffer.h>
#include <haxe/io/Bytes.h>
#include <hl/types/ArrayDyn.h>
#include <openfl/_Vector/IntVector.h>
#include <lime/utils/ArrayBufferView.h>
#include <lime/utils/TAError.h>
#include <lime/utils/BytePointerData.h>
#include <lime/graphics/_WebGL2RenderContext/WebGL2RenderContext_Impl_.h>
#include <lime/graphics/Image.h>
#include <lime/graphics/ImageType.h>
haxe__io__Bytes haxe_io_Bytes_alloc(int);
extern hl_type t$lime_utils_ArrayBufferView;
void lime_utils_ArrayBufferView_new(lime__utils__ArrayBufferView,vdynamic*,int);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
void lime_utils_ArrayBufferView_copyFromArray(lime__utils__ArrayBufferView,hl__types__ArrayDyn,int*);
extern hl_type t$_dyn;
extern hl_type t$hl_types_ArrayDyn;
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
extern String s$unimplemented;
extern venum* g$lime_utils_TAError_RangeError;
extern String s$ac96fc9;
extern hl_type t$lime_graphics_ImageBuffer;
void lime_graphics_ImageBuffer_new(lime__graphics__ImageBuffer,lime__utils__ArrayBufferView,int*,int*,int*,vdynamic*);
extern lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ g$05c85d7;
void lime_utils__BytePointer_BytePointer_Impl__set(lime__utils__BytePointerData,haxe__io__Bytes,lime__utils__ArrayBufferView,haxe__io__Bytes,vdynamic*);
extern hl_type t$fun_9b9adff;
double lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(lime__utils__BytePointerData);
extern hl_type t$lime_graphics_Image;
void lime_graphics_Image_new(lime__graphics__Image,lime__graphics__ImageBuffer,int*,int*,int*,int*,vdynamic*,venum*);
vdynamic* lime_graphics_cairo__CairoImageSurface_CairoImageSurface_Impl__create(double,int,int,int,int);
void lime_graphics_cairo_Cairo_recreate(lime__graphics__cairo__Cairo,vdynamic*);
extern hl_type t$lime_graphics_cairo_Cairo;
void lime_graphics_cairo_Cairo_new(lime__graphics__cairo__Cairo,vdynamic*);

void lime__internal_backend_native_NativeWindow_new(lime___internal__backend__native__NativeWindow r0,lime__ui__Window r1) {
	vdynobj *r13;
	String r12, r14, r17, r25;
	vvirtual *r9, *r10;
	venum *r2;
	bool r11;
	lime__graphics__opengl__$GL r29;
	lime__graphics__cairo__Cairo r30;
	lime___internal__backend__native__NativeOpenGLRenderContext r26, r27;
	lime___internal__backend__native__NativeApplication r20;
	lime__system__DisplayMode r3;
	lime__graphics__RenderContext r23;
	lime__app__Application r21;
	double r22, r28;
	vdynamic *r15, *r16, *r18, *r19, *r31;
	vbyte *r24;
	int r4, r5, r6, r7;
	r0->parent = r1;
	r2 = (venum*)g$lime_ui_MouseCursor_DEFAULT;
	r0->cursor = r2;
	r3 = (lime__system__DisplayMode)hl_alloc_obj(&t$lime_system_DisplayMode);
	r4 = 0;
	r5 = 0;
	r6 = 0;
	r7 = 0;
	lime_system_DisplayMode_new(r3,r4,r5,r6,r7);
	r0->displayMode = r3;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->__attributes;
	r12 = (String)s$context;
	r11 = Reflect_hasField(((vdynamic*)r9),r12);
	if( !r11 ) goto label$1331ea3_1_18;
	if( r9 == NULL ) hl_null_access();
	r10 = hl_vfields(r9)[3] ? (*(vvirtual**)(hl_vfields(r9)[3])) : (vvirtual*)hl_dyn_getp(r9->value,427267567/*context*/,&t$vrt_4278b5a);
	goto label$1331ea3_1_20;
	label$1331ea3_1_18:
	r13 = hl_alloc_dynobj();
	r10 = hl_to_virtual(&t$vrt_4278b5a,(vdynamic*)r13);
	label$1331ea3_1_20:
	r12 = (String)s$title;
	r11 = Reflect_hasField(((vdynamic*)r9),r12);
	if( !r11 ) goto label$1331ea3_1_26;
	if( r9 == NULL ) hl_null_access();
	r12 = hl_vfields(r9)[13] ? (*(String*)(hl_vfields(r9)[13])) : (String)hl_dyn_getp(r9->value,272307608/*title*/,&t$String);
	goto label$1331ea3_1_27;
	label$1331ea3_1_26:
	r12 = (String)s$Lime_Application;
	label$1331ea3_1_27:
	r4 = 0;
	r14 = (String)s$antialiasing;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_35;
	if( r10 == NULL ) hl_null_access();
	r5 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r5;
	if( hl_vfields(r10)[0] ) *(vdynamic**)(hl_vfields(r10)[0]) = (vdynamic*)r15; else hl_dyn_setp(r10->value,145954814/*antialiasing*/,&t$nul_i32,r15);
	label$1331ea3_1_35:
	r14 = (String)s$background;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_42;
	if( r10 == NULL ) hl_null_access();
	r5 = 0;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r5;
	if( hl_vfields(r10)[1] ) *(vdynamic**)(hl_vfields(r10)[1]) = (vdynamic*)r15; else hl_dyn_setp(r10->value,102601843/*background*/,&t$nul_i32,r15);
	label$1331ea3_1_42:
	r14 = (String)s$colorDepth;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_49;
	if( r10 == NULL ) hl_null_access();
	r5 = 24;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r5;
	if( hl_vfields(r10)[2] ) *(vdynamic**)(hl_vfields(r10)[2]) = (vdynamic*)r15; else hl_dyn_setp(r10->value,-74053472/*colorDepth*/,&t$nul_i32,r15);
	label$1331ea3_1_49:
	r14 = (String)s$depth;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_56;
	if( r10 == NULL ) hl_null_access();
	r11 = true;
	r16 = hl_alloc_dynbool(r11);
	if( hl_vfields(r10)[3] ) *(vdynamic**)(hl_vfields(r10)[3]) = (vdynamic*)r16; else hl_dyn_setp(r10->value,-148246402/*depth*/,&t$nul_bool,r16);
	label$1331ea3_1_56:
	r14 = (String)s$hardware;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_63;
	if( r10 == NULL ) hl_null_access();
	r11 = true;
	r16 = hl_alloc_dynbool(r11);
	if( hl_vfields(r10)[4] ) *(vdynamic**)(hl_vfields(r10)[4]) = (vdynamic*)r16; else hl_dyn_setp(r10->value,366208055/*hardware*/,&t$nul_bool,r16);
	label$1331ea3_1_63:
	r14 = (String)s$stencil;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_70;
	if( r10 == NULL ) hl_null_access();
	r11 = true;
	r16 = hl_alloc_dynbool(r11);
	if( hl_vfields(r10)[5] ) *(vdynamic**)(hl_vfields(r10)[5]) = (vdynamic*)r16; else hl_dyn_setp(r10->value,-536626067/*stencil*/,&t$nul_bool,r16);
	label$1331ea3_1_70:
	r14 = (String)s$vsync;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( r11 ) goto label$1331ea3_1_77;
	if( r10 == NULL ) hl_null_access();
	r11 = false;
	r16 = hl_alloc_dynbool(r11);
	if( hl_vfields(r10)[8] ) *(vdynamic**)(hl_vfields(r10)[8]) = (vdynamic*)r16; else hl_dyn_setp(r10->value,497561174/*vsync*/,&t$nul_bool,r16);
	label$1331ea3_1_77:
	r14 = (String)s$type;
	r11 = Reflect_hasField(((vdynamic*)r10),r14);
	if( !r11 ) goto label$1331ea3_1_87;
	if( r10 == NULL ) hl_null_access();
	r14 = hl_vfields(r10)[6] ? (*(String*)(hl_vfields(r10)[6])) : (String)hl_dyn_getp(r10->value,218690500/*type*/,&t$String);
	r17 = (String)s$cairo;
	if( r14 != r17 && (!r14 || !r17 || String___compare(r14,(vdynamic*)r17) != 0) ) goto label$1331ea3_1_87;
	r11 = false;
	r16 = hl_alloc_dynbool(r11);
	if( hl_vfields(r10)[4] ) *(vdynamic**)(hl_vfields(r10)[4]) = (vdynamic*)r16; else hl_dyn_setp(r10->value,366208055/*hardware*/,&t$nul_bool,r16);
	label$1331ea3_1_87:
	r14 = (String)s$allowHighDPI;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_97;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[0] ? (*(vdynamic**)(hl_vfields(r9)[0])) : (vdynamic*)hl_dyn_getp(r9->value,-190708088/*allowHighDPI*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_97;
	r6 = 2048;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_97:
	r14 = (String)s$alwaysOnTop;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_107;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[1] ? (*(vdynamic**)(hl_vfields(r9)[1])) : (vdynamic*)hl_dyn_getp(r9->value,374558055/*alwaysOnTop*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_107;
	r6 = 32768;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_107:
	r14 = (String)s$borderless;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_117;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[2] ? (*(vdynamic**)(hl_vfields(r9)[2])) : (vdynamic*)hl_dyn_getp(r9->value,393299525/*borderless*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_117;
	r6 = 2;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_117:
	r14 = (String)s$fullscreen;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_127;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[6] ? (*(vdynamic**)(hl_vfields(r9)[6])) : (vdynamic*)hl_dyn_getp(r9->value,-105629125/*fullscreen*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_127;
	r6 = 1;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_127:
	r14 = (String)s$hidden;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_137;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[8] ? (*(vdynamic**)(hl_vfields(r9)[8])) : (vdynamic*)hl_dyn_getp(r9->value,211157108/*hidden*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_137;
	r6 = 4096;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_137:
	r14 = (String)s$maximized;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_147;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[9] ? (*(vdynamic**)(hl_vfields(r9)[9])) : (vdynamic*)hl_dyn_getp(r9->value,-18805224/*maximized*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_147;
	r6 = 16384;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_147:
	r14 = (String)s$minimized;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_157;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[10] ? (*(vdynamic**)(hl_vfields(r9)[10])) : (vdynamic*)hl_dyn_getp(r9->value,144571403/*minimized*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_157;
	r6 = 8192;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_157:
	r14 = (String)s$resizable;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_167;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[12] ? (*(vdynamic**)(hl_vfields(r9)[12])) : (vdynamic*)hl_dyn_getp(r9->value,-380619167/*resizable*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_167;
	r6 = 4;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_167:
	if( r10 == NULL ) hl_null_access();
	r15 = hl_vfields(r10)[0] ? (*(vdynamic**)(hl_vfields(r10)[0])) : (vdynamic*)hl_dyn_getp(r10->value,145954814/*antialiasing*/,&t$nul_i32);
	r5 = r15 ? r15->v.i : 0;
	r6 = 4;
	if( r5 < r6 ) goto label$1331ea3_1_176;
	r6 = 96;
	r5 = r4 | r6;
	r4 = r5;
	goto label$1331ea3_1_183;
	label$1331ea3_1_176:
	r15 = hl_vfields(r10)[0] ? (*(vdynamic**)(hl_vfields(r10)[0])) : (vdynamic*)hl_dyn_getp(r10->value,145954814/*antialiasing*/,&t$nul_i32);
	r5 = r15 ? r15->v.i : 0;
	r6 = 2;
	if( r5 < r6 ) goto label$1331ea3_1_183;
	r6 = 32;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_183:
	r15 = hl_vfields(r10)[2] ? (*(vdynamic**)(hl_vfields(r10)[2])) : (vdynamic*)hl_dyn_getp(r10->value,-74053472/*colorDepth*/,&t$nul_i32);
	r5 = 32;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r5;
	if( r15 != r18 && (!r15 || !r18 || (r15->v.i != r18->v.i)) ) goto label$1331ea3_1_190;
	r6 = 65536;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_190:
	r16 = hl_vfields(r10)[3] ? (*(vdynamic**)(hl_vfields(r10)[3])) : (vdynamic*)hl_dyn_getp(r10->value,-148246402/*depth*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_196;
	r6 = 512;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_196:
	r16 = hl_vfields(r10)[4] ? (*(vdynamic**)(hl_vfields(r10)[4])) : (vdynamic*)hl_dyn_getp(r10->value,366208055/*hardware*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_202;
	r6 = 8;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_202:
	r16 = hl_vfields(r10)[5] ? (*(vdynamic**)(hl_vfields(r10)[5])) : (vdynamic*)hl_dyn_getp(r10->value,-536626067/*stencil*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_208;
	r6 = 1024;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_208:
	r16 = hl_vfields(r10)[8] ? (*(vdynamic**)(hl_vfields(r10)[8])) : (vdynamic*)hl_dyn_getp(r10->value,497561174/*vsync*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_214;
	r6 = 16;
	r5 = r4 | r6;
	r4 = r5;
	label$1331ea3_1_214:
	r14 = (String)s$width;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_220;
	if( r9 == NULL ) hl_null_access();
	r15 = hl_vfields(r9)[14] ? (*(vdynamic**)(hl_vfields(r9)[14])) : (vdynamic*)hl_dyn_getp(r9->value,-362629759/*width*/,&t$nul_i32);
	goto label$1331ea3_1_222;
	label$1331ea3_1_220:
	r5 = 800;
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r5;
	label$1331ea3_1_222:
	r14 = (String)s$height;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_228;
	if( r9 == NULL ) hl_null_access();
	r18 = hl_vfields(r9)[7] ? (*(vdynamic**)(hl_vfields(r9)[7])) : (vdynamic*)hl_dyn_getp(r9->value,38537191/*height*/,&t$nul_i32);
	goto label$1331ea3_1_230;
	label$1331ea3_1_228:
	r5 = 600;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r5;
	label$1331ea3_1_230:
	r21 = r1->application;
	if( r21 == NULL ) hl_null_access();
	r20 = r21->__backend;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->handle;
	r5 = r15 ? r15->v.i : 0;
	r6 = r18 ? r18->v.i : 0;
	r19 = lime_hl_window_create(r19,r5,r6,r4,r12);
	r0->handle = r19;
	r19 = r0->handle;
	if( !r19 ) goto label$1331ea3_1_267;
	r19 = r0->handle;
	r5 = lime_hl_window_get_width(r19);
	r1->__width = r5;
	r19 = r0->handle;
	r5 = lime_hl_window_get_height(r19);
	r1->__height = r5;
	r19 = r0->handle;
	r5 = lime_hl_window_get_x(r19);
	r1->__x = r5;
	r19 = r0->handle;
	r5 = lime_hl_window_get_y(r19);
	r1->__y = r5;
	r14 = (String)s$hidden;
	r11 = Reflect_hasField(((vdynamic*)r9),r14);
	if( !r11 ) goto label$1331ea3_1_262;
	if( r9 == NULL ) hl_null_access();
	r16 = hl_vfields(r9)[8] ? (*(vdynamic**)(hl_vfields(r9)[8])) : (vdynamic*)hl_dyn_getp(r9->value,211157108/*hidden*/,&t$nul_bool);
	r11 = r16 ? r16->v.b : 0;
	if( !r11 ) goto label$1331ea3_1_262;
	r11 = true;
	goto label$1331ea3_1_263;
	label$1331ea3_1_262:
	r11 = false;
	label$1331ea3_1_263:
	r1->__hidden = r11;
	r19 = r0->handle;
	r5 = lime_hl_window_get_id(r19);
	r1->id = r5;
	label$1331ea3_1_267:
	r19 = r0->handle;
	r22 = lime_hl_window_get_scale(r19);
	r1->__scale = r22;
	r23 = (lime__graphics__RenderContext)hl_alloc_obj(&t$lime_graphics_RenderContext);
	lime_graphics_RenderContext_new(r23);
	r23->window = r1;
	r19 = r0->handle;
	r24 = lime_hl_window_get_context_type(r19);
	r14 = String_fromUTF8(r24);
	r25 = (String)s$opengl;
	if( r14 != r25 && (!r14 || !r25 || String___compare(r14,(vdynamic*)r25) != 0) ) goto label$1331ea3_1_306;
	r26 = (lime___internal__backend__native__NativeOpenGLRenderContext)hl_alloc_obj(&t$lime__internal_backend_native_NativeOpenGLRenderContext);
	lime__internal_backend_native_NativeOpenGLRenderContext_new(r26);
	r11 = true;
	r0->useHardware = r11;
	r23->gl = r26;
	r23->gles2 = r26;
	r27 = lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__fromWebGL2RenderContext(r26);
	r23->webgl = r27;
	r17 = r26->type;
	r23->type = r17;
	r22 = r26->version;
	r19 = hl_alloc_dynamic(&t$_f64);
	r19->v.d = r22;
	r17 = Std_string(r19);
	r23->version = r17;
	r17 = r26->type;
	r25 = (String)s$opengles;
	if( r17 != r25 && (!r17 || !r25 || String___compare(r17,(vdynamic*)r25) != 0) ) goto label$1331ea3_1_300;
	r22 = r26->version;
	r28 = 3.;
	if( !(r22 >= r28) ) goto label$1331ea3_1_300;
	r23->gles3 = r26;
	r23->webgl2 = r26;
	label$1331ea3_1_300:
	r29 = (lime__graphics__opengl__$GL)g$_lime_graphics_opengl_GL;
	r27 = r29->context;
	if( r27 ) goto label$1331ea3_1_305;
	r29 = (lime__graphics__opengl__$GL)g$_lime_graphics_opengl_GL;
	r29->context = r26;
	label$1331ea3_1_305:
	goto label$1331ea3_1_318;
	label$1331ea3_1_306:
	r11 = false;
	r0->useHardware = r11;
	r30 = r0->cairo;
	r23->cairo = r30;
	r17 = (String)s$cairo;
	r23->type = r17;
	r17 = (String)s$;
	r23->version = r17;
	r1->context = r23;
	lime__internal_backend_native_NativeWindow_render(r0);
	r17 = (String)s$cairo;
	r23->type = r17;
	label$1331ea3_1_318:
	r17 = r23->type;
	if( hl_vfields(r10)[6] ) *(String*)(hl_vfields(r10)[6]) = (String)r17; else hl_dyn_setp(r10->value,218690500/*type*/,&t$String,r17);
	r23->attributes = r10;
	r1->context = r23;
	r17 = (String)s$frameRate;
	r11 = Reflect_hasField(((vdynamic*)r9),r17);
	if( !r11 ) goto label$1331ea3_1_329;
	if( r9 == NULL ) hl_null_access();
	r31 = hl_vfields(r9)[5] ? (*(vdynamic**)(hl_vfields(r9)[5])) : (vdynamic*)hl_dyn_getp(r9->value,421859890/*frameRate*/,&t$nul_f64);
	r22 = r31 ? r31->v.d : 0;
	goto label$1331ea3_1_330;
	label$1331ea3_1_329:
	r22 = 60.;
	label$1331ea3_1_330:
	r22 = lime__internal_backend_native_NativeWindow_setFrameRate(r0,r22);
	return;
}

void lime__internal_backend_native_NativeWindow_alert(lime___internal__backend__native__NativeWindow r0,String r1,String r2) {
	vdynamic *r4;
	r4 = r0->handle;
	if( !r4 ) goto label$1331ea3_2_4;
	r4 = r0->handle;
	lime_hl_window_alert(r4,r1,r2);
	label$1331ea3_2_4:
	return;
}

void lime__internal_backend_native_NativeWindow_close(lime___internal__backend__native__NativeWindow r0) {
	lime__ui__Window r4;
	lime__app___Event_Void_Void r3;
	bool r2;
	vdynamic *r5;
	r2 = r0->closing;
	if( r2 ) goto label$1331ea3_3_24;
	r2 = true;
	r0->closing = r2;
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->onClose;
	if( r3 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r3);
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->onClose;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->canceled;
	if( r2 ) goto label$1331ea3_3_22;
	r5 = r0->handle;
	if( !r5 ) goto label$1331ea3_3_21;
	r5 = r0->handle;
	lime_hl_window_close(r5);
	r5 = NULL;
	r0->handle = r5;
	label$1331ea3_3_21:
	goto label$1331ea3_3_24;
	label$1331ea3_3_22:
	r2 = false;
	r0->closing = r2;
	label$1331ea3_3_24:
	return;
}

void lime__internal_backend_native_NativeWindow_contextFlip(lime___internal__backend__native__NativeWindow r0) {
	bool r2;
	lime__graphics__cairo__Cairo r3;
	vdynamic *r4;
	r2 = r0->useHardware;
	if( r2 ) goto label$1331ea3_4_8;
	r3 = r0->cairo;
	if( !r3 ) goto label$1331ea3_4_6;
	r4 = r0->primarySurface;
	lime_graphics_cairo__CairoSurface_CairoSurface_Impl__flush(r4);
	label$1331ea3_4_6:
	r4 = r0->handle;
	lime_hl_window_context_unlock(r4);
	label$1331ea3_4_8:
	r4 = r0->handle;
	lime_hl_window_context_flip(r4);
	return;
}

void lime__internal_backend_native_NativeWindow_focus(lime___internal__backend__native__NativeWindow r0) {
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_5_4;
	r2 = r0->handle;
	lime_hl_window_focus(r2);
	label$1331ea3_5_4:
	return;
}

venum* lime__internal_backend_native_NativeWindow_getCursor(lime___internal__backend__native__NativeWindow r0) {
	venum *r1;
	r1 = r0->cursor;
	return r1;
}

lime__system__Display lime__internal_backend_native_NativeWindow_getDisplay(lime___internal__backend__native__NativeWindow r0) {
	lime__system__Display r4;
	vdynamic *r1;
	int r2, r3;
	r1 = r0->handle;
	if( !r1 ) goto label$1331ea3_7_8;
	r1 = r0->handle;
	r2 = lime_hl_window_get_display(r1);
	r3 = -1;
	if( r3 >= r2 ) goto label$1331ea3_7_8;
	r4 = lime_system_System_getDisplay(r2);
	return r4;
	label$1331ea3_7_8:
	r4 = NULL;
	return r4;
}

lime__system__DisplayMode lime__internal_backend_native_NativeWindow_getDisplayMode(lime___internal__backend__native__NativeWindow r0) {
	lime__system__DisplayMode r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_8_5;
	r2 = r0->handle;
	r3 = r0->displayMode;
	lime_hl_window_get_display_mode(r2,r3);
	label$1331ea3_8_5:
	r3 = r0->displayMode;
	return r3;
}

double lime__internal_backend_native_NativeWindow_getFrameRate(lime___internal__backend__native__NativeWindow r0) {
	double r1;
	r1 = r0->frameRate;
	return r1;
}

bool lime__internal_backend_native_NativeWindow_getMouseLock(lime___internal__backend__native__NativeWindow r0) {
	bool r2;
	vdynamic *r1;
	r1 = r0->handle;
	if( !r1 ) goto label$1331ea3_10_5;
	r1 = r0->handle;
	r2 = lime_hl_window_get_mouse_lock(r1);
	r0->mouseLock = r2;
	label$1331ea3_10_5:
	r2 = r0->mouseLock;
	return r2;
}

bool lime__internal_backend_native_NativeWindow_getTextInputEnabled(lime___internal__backend__native__NativeWindow r0) {
	bool r2;
	vdynamic *r1;
	r1 = r0->handle;
	if( !r1 ) goto label$1331ea3_11_5;
	r1 = r0->handle;
	r2 = lime_hl_window_get_text_input_enabled(r1);
	return r2;
	label$1331ea3_11_5:
	r2 = false;
	return r2;
}

void lime__internal_backend_native_NativeWindow_move(lime___internal__backend__native__NativeWindow r0,int r1,int r2) {
	vdynamic *r4;
	r4 = r0->handle;
	if( !r4 ) goto label$1331ea3_12_4;
	r4 = r0->handle;
	lime_hl_window_move(r4,r1,r2);
	label$1331ea3_12_4:
	return;
}

lime__graphics__Image lime__internal_backend_native_NativeWindow_readPixels(lime___internal__backend__native__NativeWindow r0,lime__math__Rectangle r1) {
	lime__graphics__Image r51;
	lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ r49;
	String r4;
	openfl___Vector__IntVector r15;
	lime__utils__BytePointerData r48;
	venum *r32, *r53;
	haxe__io__Bytes r13, r21, r28;
	lime__ui__Window r6;
	lime___internal__backend__native__NativeOpenGLRenderContext r38;
	lime__graphics__ImageBuffer r2, r35;
	lime__graphics__RenderContext r5;
	vclosure *r50;
	double r33, r34, r39, r40, r41, r42;
	lime__utils__ArrayBufferView r16, r19;
	hl__types__ArrayDyn r14, r20;
	int *r22, *r36, *r37, *r52;
	vdynamic *r11, *r12, *r17, *r18, *r23;
	vbyte *r9, *r10;
	int r7, r8, r24, r25, r26, r27, r29, r30, r31, r43, r44, r45, r46, r47;
	r2 = NULL;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->context;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	if( !r4 ) goto label$1331ea3_13_15;
	r7 = r4->length;
	r8 = 6;
	if( r7 != r8 ) goto label$1331ea3_13_15;
	r9 = r4->bytes;
	r10 = (vbyte*)USTR("opengl");
	r7 = hl_string_compare(r9,r10,r7);
	r8 = 0;
	if( r7 == r8 ) goto label$1331ea3_13_192;
	label$1331ea3_13_15:
	if( !r4 ) goto label$1331ea3_13_24;
	r7 = r4->length;
	r8 = 8;
	if( r7 != r8 ) goto label$1331ea3_13_24;
	r9 = r4->bytes;
	r10 = (vbyte*)USTR("opengles");
	r7 = hl_string_compare(r9,r10,r7);
	r8 = 0;
	if( r7 == r8 ) goto label$1331ea3_13_192;
	label$1331ea3_13_24:
	if( !r4 ) goto label$1331ea3_13_33;
	r7 = r4->length;
	r8 = 5;
	if( r7 != r8 ) goto label$1331ea3_13_33;
	r9 = r4->bytes;
	r10 = (vbyte*)USTR("webgl");
	r7 = hl_string_compare(r9,r10,r7);
	r8 = 0;
	if( r7 == r8 ) goto label$1331ea3_13_192;
	label$1331ea3_13_33:
	r11 = r0->handle;
	r12 = NULL;
	r7 = 0;
	r13 = haxe_io_Bytes_alloc(r7);
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	if( !r12 ) goto label$1331ea3_13_46;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 4;
	lime_utils_ArrayBufferView_new(r19,r12,r7);
	goto label$1331ea3_13_179;
	label$1331ea3_13_46:
	if( !r14 ) goto label$1331ea3_13_67;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r7);
	r7 = 0;
	r19->byteOffset = r7;
	if( r14 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r14);
	r19->length = r7;
	r7 = r19->length;
	r8 = r19->bytesPerElement;
	r7 = r7 * r8;
	r19->byteLength = r7;
	r7 = r19->byteLength;
	r21 = haxe_io_Bytes_alloc(r7);
	r19->buffer = r21;
	r22 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r19,r14,r22);
	goto label$1331ea3_13_179;
	label$1331ea3_13_67:
	if( !r15 ) goto label$1331ea3_13_91;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r7);
	if( r15 == NULL ) hl_null_access();
	r23 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,-269630230/*__array*/,&t$_dyn);
	r20 = (hl__types__ArrayDyn)hl_dyn_castp(&r23,&t$_dyn,&t$hl_types_ArrayDyn);
	r7 = 0;
	r19->byteOffset = r7;
	if( r20 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r20);
	r19->length = r7;
	r7 = r19->length;
	r8 = r19->bytesPerElement;
	r7 = r7 * r8;
	r19->byteLength = r7;
	r7 = r19->byteLength;
	r21 = haxe_io_Bytes_alloc(r7);
	r19->buffer = r21;
	r22 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r19,r20,r22);
	goto label$1331ea3_13_179;
	label$1331ea3_13_91:
	if( !r16 ) goto label$1331ea3_13_125;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r7);
	if( r16 == NULL ) hl_null_access();
	r21 = r16->buffer;
	r7 = r16->length;
	r8 = r16->byteOffset;
	r24 = r16->bytesPerElement;
	r25 = r19->bytesPerElement;
	r26 = r16->type;
	r27 = r19->type;
	if( r26 != r27 ) goto label$1331ea3_13_116;
	if( r21 == NULL ) hl_null_access();
	r26 = r21->length;
	r27 = r26 - r8;
	r28 = haxe_io_Bytes_alloc(r27);
	r19->buffer = r28;
	r28 = r19->buffer;
	if( r28 == NULL ) hl_null_access();
	r29 = 0;
	haxe_io_Bytes_blit(r28,r29,r21,r8,r27);
	goto label$1331ea3_13_118;
	label$1331ea3_13_116:
	r4 = (String)s$unimplemented;
	hl_throw((vdynamic*)r4);
	label$1331ea3_13_118:
	r26 = r19->bytesPerElement;
	r26 = r26 * r7;
	r19->byteLength = r26;
	r26 = 0;
	r19->byteOffset = r26;
	r19->length = r7;
	goto label$1331ea3_13_179;
	label$1331ea3_13_125:
	if( !r13 ) goto label$1331ea3_13_177;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r7 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r7;
	r7 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r7);
	r7 = 0;
	r24 = 0;
	if( r7 >= r24 ) goto label$1331ea3_13_136;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_136:
	r24 = r19->bytesPerElement;
	r8 = r24 == 0 ? 0 : r7 % r24;
	r24 = 0;
	if( r8 == r24 ) goto label$1331ea3_13_142;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_142:
	if( r13 == NULL ) hl_null_access();
	r8 = r13->length;
	r24 = r19->bytesPerElement;
	if( r17 ) goto label$1331ea3_13_159;
	r26 = r8 - r7;
	r25 = r26;
	r27 = r19->bytesPerElement;
	r26 = r27 == 0 ? 0 : r8 % r27;
	r27 = 0;
	if( r26 == r27 ) goto label$1331ea3_13_154;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_154:
	r27 = 0;
	if( r25 >= r27 ) goto label$1331ea3_13_158;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_158:
	goto label$1331ea3_13_167;
	label$1331ea3_13_159:
	r26 = r17 ? r17->v.i : 0;
	r27 = r19->bytesPerElement;
	r26 = r26 * r27;
	r25 = r26;
	r26 = r7 + r25;
	if( r8 >= r26 ) goto label$1331ea3_13_167;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_167:
	r19->buffer = r13;
	r19->byteOffset = r7;
	r19->byteLength = r25;
	r33 = (double)r25;
	r26 = r19->bytesPerElement;
	r34 = (double)r26;
	r33 = r33 / r34;
	r26 = (int)r33;
	r19->length = r26;
	goto label$1331ea3_13_179;
	label$1331ea3_13_177:
	r4 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r4);
	label$1331ea3_13_179:
	r35 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r22 = NULL;
	r36 = NULL;
	r37 = NULL;
	r18 = NULL;
	lime_graphics_ImageBuffer_new(r35,r19,r22,r36,r37,r18);
	r23 = lime_hl_window_read_pixels(r11,r1,r35);
	r35 = (lime__graphics__ImageBuffer)hl_dyn_castp(&r23,&t$_dyn,&t$lime_graphics_ImageBuffer);
	if( !r35 ) goto label$1331ea3_13_191;
	if( r35 == NULL ) hl_null_access();
	r7 = 0;
	r35->format = r7;
	label$1331ea3_13_191:
	goto label$1331ea3_13_440;
	label$1331ea3_13_192:
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->context;
	if( r5 == NULL ) hl_null_access();
	r38 = r5->webgl;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r7 = r6->__width;
	r33 = (double)r7;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r34 = r6->__scale;
	r33 = r33 * r34;
	r7 = (int)r33;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->__height;
	r34 = (double)r8;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r39 = r6->__scale;
	r34 = r34 * r39;
	r8 = (int)r34;
	if( !r1 ) goto label$1331ea3_13_234;
	if( r1 == NULL ) hl_null_access();
	r39 = r1->x;
	r25 = (int)r39;
	r24 = r25;
	r40 = (double)r8;
	r41 = r1->y;
	r40 = r40 - r41;
	r41 = r1->height;
	r40 = r40 - r41;
	r26 = (int)r40;
	r25 = r26;
	r41 = r1->width;
	r27 = (int)r41;
	r26 = r27;
	r42 = r1->height;
	r29 = (int)r42;
	r27 = r29;
	goto label$1331ea3_13_240;
	label$1331ea3_13_234:
	r29 = 0;
	r24 = r29;
	r29 = 0;
	r25 = r29;
	r26 = r7;
	r27 = r8;
	label$1331ea3_13_240:
	r29 = r26 * r27;
	r30 = 4;
	r29 = r29 * r30;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r29;
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	if( !r12 ) goto label$1331ea3_13_254;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r29 = 4;
	lime_utils_ArrayBufferView_new(r19,r12,r29);
	goto label$1331ea3_13_387;
	label$1331ea3_13_254:
	if( !r14 ) goto label$1331ea3_13_275;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r29 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r29;
	r29 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r29);
	r29 = 0;
	r19->byteOffset = r29;
	if( r14 == NULL ) hl_null_access();
	r29 = hl_types_ArrayDyn_get_length(r14);
	r19->length = r29;
	r29 = r19->length;
	r30 = r19->bytesPerElement;
	r29 = r29 * r30;
	r19->byteLength = r29;
	r29 = r19->byteLength;
	r21 = haxe_io_Bytes_alloc(r29);
	r19->buffer = r21;
	r22 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r19,r14,r22);
	goto label$1331ea3_13_387;
	label$1331ea3_13_275:
	if( !r15 ) goto label$1331ea3_13_299;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r29 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r29;
	r29 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r29);
	if( r15 == NULL ) hl_null_access();
	r11 = (vdynamic*)hl_dyn_getp((vdynamic*)r15,-269630230/*__array*/,&t$_dyn);
	r20 = (hl__types__ArrayDyn)hl_dyn_castp(&r11,&t$_dyn,&t$hl_types_ArrayDyn);
	r29 = 0;
	r19->byteOffset = r29;
	if( r20 == NULL ) hl_null_access();
	r29 = hl_types_ArrayDyn_get_length(r20);
	r19->length = r29;
	r29 = r19->length;
	r30 = r19->bytesPerElement;
	r29 = r29 * r30;
	r19->byteLength = r29;
	r29 = r19->byteLength;
	r21 = haxe_io_Bytes_alloc(r29);
	r19->buffer = r21;
	r22 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r19,r20,r22);
	goto label$1331ea3_13_387;
	label$1331ea3_13_299:
	if( !r16 ) goto label$1331ea3_13_333;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r29 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r29;
	r29 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r29);
	if( r16 == NULL ) hl_null_access();
	r21 = r16->buffer;
	r29 = r16->length;
	r30 = r16->byteOffset;
	r31 = r16->bytesPerElement;
	r43 = r19->bytesPerElement;
	r44 = r16->type;
	r45 = r19->type;
	if( r44 != r45 ) goto label$1331ea3_13_324;
	if( r21 == NULL ) hl_null_access();
	r44 = r21->length;
	r45 = r44 - r30;
	r28 = haxe_io_Bytes_alloc(r45);
	r19->buffer = r28;
	r28 = r19->buffer;
	if( r28 == NULL ) hl_null_access();
	r46 = 0;
	haxe_io_Bytes_blit(r28,r46,r21,r30,r45);
	goto label$1331ea3_13_326;
	label$1331ea3_13_324:
	r4 = (String)s$unimplemented;
	hl_throw((vdynamic*)r4);
	label$1331ea3_13_326:
	r44 = r19->bytesPerElement;
	r44 = r44 * r29;
	r19->byteLength = r44;
	r44 = 0;
	r19->byteOffset = r44;
	r19->length = r29;
	goto label$1331ea3_13_387;
	label$1331ea3_13_333:
	if( !r13 ) goto label$1331ea3_13_385;
	r19 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r29 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r29;
	r29 = 4;
	lime_utils_ArrayBufferView_new(r19,r18,r29);
	r29 = 0;
	r31 = 0;
	if( r29 >= r31 ) goto label$1331ea3_13_344;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_344:
	r31 = r19->bytesPerElement;
	r30 = r31 == 0 ? 0 : r29 % r31;
	r31 = 0;
	if( r30 == r31 ) goto label$1331ea3_13_350;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_350:
	if( r13 == NULL ) hl_null_access();
	r30 = r13->length;
	r31 = r19->bytesPerElement;
	if( r17 ) goto label$1331ea3_13_367;
	r44 = r30 - r29;
	r43 = r44;
	r45 = r19->bytesPerElement;
	r44 = r45 == 0 ? 0 : r30 % r45;
	r45 = 0;
	if( r44 == r45 ) goto label$1331ea3_13_362;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_362:
	r45 = 0;
	if( r43 >= r45 ) goto label$1331ea3_13_366;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_366:
	goto label$1331ea3_13_375;
	label$1331ea3_13_367:
	r44 = r17 ? r17->v.i : 0;
	r45 = r19->bytesPerElement;
	r44 = r44 * r45;
	r43 = r44;
	r44 = r29 + r43;
	if( r30 >= r44 ) goto label$1331ea3_13_375;
	r32 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r32);
	label$1331ea3_13_375:
	r19->buffer = r13;
	r19->byteOffset = r29;
	r19->byteLength = r43;
	r39 = (double)r43;
	r44 = r19->bytesPerElement;
	r40 = (double)r44;
	r39 = r39 / r40;
	r44 = (int)r39;
	r19->length = r44;
	goto label$1331ea3_13_387;
	label$1331ea3_13_385:
	r4 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r4);
	label$1331ea3_13_387:
	if( r38 == NULL ) hl_null_access();
	r29 = r38->RGBA;
	r30 = r38->UNSIGNED_BYTE;
	r49 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r48 = r49->__tempPointer;
	r21 = NULL;
	r28 = NULL;
	r31 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r31;
	lime_utils__BytePointer_BytePointer_Impl__set(r48,r21,r19,r28,r18);
	r50 = (vclosure*)hl_dyn_getp((vdynamic*)r38,-433729132/*readPixels*/,&t$fun_9b9adff);
	if( r50 == NULL ) hl_null_access();
	r49 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r48 = r49->__tempPointer;
	r39 = lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(r48);
	r50->hasValue ? ((void (*)(vdynamic*,int,int,int,int,int,int,double))r50->fun)((vdynamic*)r50->value,r24,r25,r26,r27,r29,r30,r39) : ((void (*)(int,int,int,int,int,int,double))r50->fun)(r24,r25,r26,r27,r29,r30,r39);
	r30 = 4;
	r29 = r26 * r30;
	r31 = 1;
	r30 = r27 - r31;
	r30 = r30 * r29;
	r31 = 0;
	r21 = haxe_io_Bytes_alloc(r29);
	r28 = r19->buffer;
	r44 = 2;
	r43 = r44 == 0 ? 0 : r27 / r44;
	label$1331ea3_13_413:
	r44 = r43;
	--r43;
	r45 = 0;
	if( r45 >= r44 ) goto label$1331ea3_13_430;
	if( r21 == NULL ) hl_null_access();
	r44 = 0;
	haxe_io_Bytes_blit(r21,r44,r28,r31,r29);
	if( r28 == NULL ) hl_null_access();
	haxe_io_Bytes_blit(r28,r31,r28,r30,r29);
	r45 = 0;
	haxe_io_Bytes_blit(r28,r30,r21,r45,r29);
	r44 = r31 + r29;
	r31 = r44;
	r44 = r30 - r29;
	r30 = r44;
	goto label$1331ea3_13_413;
	label$1331ea3_13_430:
	r35 = (lime__graphics__ImageBuffer)hl_alloc_obj(&t$lime_graphics_ImageBuffer);
	r44 = r26;
	r22 = &r44;
	r45 = r27;
	r36 = &r45;
	r46 = 32;
	r37 = &r46;
	r47 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r47;
	lime_graphics_ImageBuffer_new(r35,r19,r22,r36,r37,r18);
	label$1331ea3_13_440:
	if( !r35 ) goto label$1331ea3_13_450;
	r51 = (lime__graphics__Image)hl_alloc_obj(&t$lime_graphics_Image);
	r22 = NULL;
	r36 = NULL;
	r37 = NULL;
	r52 = NULL;
	r12 = NULL;
	r53 = NULL;
	lime_graphics_Image_new(r51,r35,r22,r36,r37,r52,r12,r53);
	return r51;
	label$1331ea3_13_450:
	r51 = NULL;
	return r51;
}

void lime__internal_backend_native_NativeWindow_render(lime___internal__backend__native__NativeWindow r0) {
	lime__ui__Window r13;
	bool r3;
	lime__graphics__cairo__Cairo r11;
	lime__graphics__RenderContext r12;
	double r6;
	vdynamic *r2, *r4, *r5;
	int r7, r8, r9, r10;
	r2 = r0->handle;
	lime_hl_window_context_make_current(r2);
	r3 = r0->useHardware;
	if( r3 ) goto label$1331ea3_14_55;
	r2 = r0->handle;
	r2 = lime_hl_window_context_lock(r2);
	if( !r2 ) goto label$1331ea3_14_54;
	r4 = r0->cacheLock;
	if( !r4 ) goto label$1331ea3_14_25;
	r4 = r0->cacheLock;
	if( r4 == NULL ) hl_null_access();
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r4,-324407906/*pixels*/,&t$_dyn);
	if( r2 == NULL ) hl_null_access();
	r5 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-324407906/*pixels*/,&t$_dyn);
	{ int i = hl_dyn_compare((vdynamic*)r4,(vdynamic*)r5); if( i != 0 ) goto label$1331ea3_14_25; };
	r4 = r0->cacheLock;
	if( r4 == NULL ) hl_null_access();
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r4,-362629759/*width*/,&t$_dyn);
	r5 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-362629759/*width*/,&t$_dyn);
	{ int i = hl_dyn_compare((vdynamic*)r4,(vdynamic*)r5); if( i != 0 ) goto label$1331ea3_14_25; };
	r4 = r0->cacheLock;
	if( r4 == NULL ) hl_null_access();
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r4,38537191/*height*/,&t$_dyn);
	r5 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,38537191/*height*/,&t$_dyn);
	{ int i = hl_dyn_compare((vdynamic*)r4,(vdynamic*)r5); if( i == 0 ) goto label$1331ea3_14_54; };
	label$1331ea3_14_25:
	if( r2 == NULL ) hl_null_access();
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-324407906/*pixels*/,&t$_dyn);
	r6 = (double)hl_dyn_castd(&r4,&t$_dyn);
	r7 = 0;
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-362629759/*width*/,&t$_dyn);
	r8 = (int)hl_dyn_casti(&r4,&t$_dyn,&t$_i32);
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,38537191/*height*/,&t$_dyn);
	r9 = (int)hl_dyn_casti(&r4,&t$_dyn,&t$_i32);
	r4 = (vdynamic*)hl_dyn_getp((vdynamic*)r2,-492782789/*pitch*/,&t$_dyn);
	r10 = (int)hl_dyn_casti(&r4,&t$_dyn,&t$_i32);
	r4 = lime_graphics_cairo__CairoImageSurface_CairoImageSurface_Impl__create(r6,r7,r8,r9,r10);
	r0->primarySurface = r4;
	r11 = r0->cairo;
	if( !r11 ) goto label$1331ea3_14_44;
	r11 = r0->cairo;
	if( r11 == NULL ) hl_null_access();
	r4 = r0->primarySurface;
	lime_graphics_cairo_Cairo_recreate(r11,r4);
	goto label$1331ea3_14_48;
	label$1331ea3_14_44:
	r11 = (lime__graphics__cairo__Cairo)hl_alloc_obj(&t$lime_graphics_cairo_Cairo);
	r4 = r0->primarySurface;
	lime_graphics_cairo_Cairo_new(r11,r4);
	r0->cairo = r11;
	label$1331ea3_14_48:
	r13 = r0->parent;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->context;
	if( r12 == NULL ) hl_null_access();
	r11 = r0->cairo;
	r12->cairo = r11;
	label$1331ea3_14_54:
	r0->cacheLock = r2;
	label$1331ea3_14_55:
	return;
}

void lime__internal_backend_native_NativeWindow_resize(lime___internal__backend__native__NativeWindow r0,int r1,int r2) {
	vdynamic *r4;
	r4 = r0->handle;
	if( !r4 ) goto label$1331ea3_15_4;
	r4 = r0->handle;
	lime_hl_window_resize(r4,r1,r2);
	label$1331ea3_15_4:
	return;
}

bool lime__internal_backend_native_NativeWindow_setBorderless(lime___internal__backend__native__NativeWindow r0,bool r1) {
	bool r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_16_4;
	r2 = r0->handle;
	r3 = lime_hl_window_set_borderless(r2,r1);
	label$1331ea3_16_4:
	return r1;
}

venum* lime__internal_backend_native_NativeWindow_setCursor(lime___internal__backend__native__NativeWindow r0,venum* r1) {
	venum *r3;
	vdynamic *r4;
	int r5, r6;
	r3 = r0->cursor;
	if( r3 == r1 ) goto label$1331ea3_17_36;
	if( r1 ) goto label$1331ea3_17_7;
	r4 = r0->handle;
	r5 = 0;
	lime_hl_window_set_cursor(r4,r5);
	goto label$1331ea3_17_35;
	label$1331ea3_17_7:
	if( r1 == NULL ) hl_null_access();
	r5 = HL__ENUM_INDEX__(r1);
	switch(r5) {
		default:
		case 2:
			r6 = 3;
			goto label$1331ea3_17_33;
		case 0:
			r6 = 1;
			goto label$1331ea3_17_33;
		case 1:
			r6 = 2;
			goto label$1331ea3_17_33;
		case 3:
			r6 = 4;
			goto label$1331ea3_17_33;
		case 4:
			r6 = 5;
			goto label$1331ea3_17_33;
		case 5:
			r6 = 6;
			goto label$1331ea3_17_33;
		case 6:
			r6 = 7;
			goto label$1331ea3_17_33;
		case 7:
			r6 = 8;
			goto label$1331ea3_17_33;
		case 8:
			r6 = 9;
			goto label$1331ea3_17_33;
		case 9:
			r6 = 10;
			goto label$1331ea3_17_33;
		case 10:
			r6 = 11;
			goto label$1331ea3_17_33;
		case 11:
			r6 = 12;
	}
	label$1331ea3_17_33:
	r4 = r0->handle;
	lime_hl_window_set_cursor(r4,r6);
	label$1331ea3_17_35:
	r0->cursor = r1;
	label$1331ea3_17_36:
	r3 = r0->cursor;
	return r3;
}

lime__system__DisplayMode lime__internal_backend_native_NativeWindow_setDisplayMode(lime___internal__backend__native__NativeWindow r0,lime__system__DisplayMode r1) {
	lime__system__DisplayMode r4, r5;
	vdynamic *r3;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_18_5;
	r3 = r0->handle;
	r5 = r0->displayMode;
	lime_hl_window_set_display_mode(r3,r1,r5);
	label$1331ea3_18_5:
	r4 = r0->displayMode;
	return r4;
}

bool lime__internal_backend_native_NativeWindow_setMouseLock(lime___internal__backend__native__NativeWindow r0,bool r1) {
	bool r3;
	vdynamic *r4;
	r3 = r0->mouseLock;
	if( r3 == r1 ) goto label$1331ea3_19_5;
	r4 = r0->handle;
	lime_hl_window_set_mouse_lock(r4,r1);
	r0->mouseLock = r1;
	label$1331ea3_19_5:
	r3 = r0->mouseLock;
	return r3;
}

bool lime__internal_backend_native_NativeWindow_setTextInputEnabled(lime___internal__backend__native__NativeWindow r0,bool r1) {
	vdynamic *r3;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_20_4;
	r3 = r0->handle;
	lime_hl_window_set_text_input_enabled(r3,r1);
	label$1331ea3_20_4:
	return r1;
}

lime__math__Rectangle lime__internal_backend_native_NativeWindow_setTextInputRect(lime___internal__backend__native__NativeWindow r0,lime__math__Rectangle r1) {
	vdynamic *r3;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_21_4;
	r3 = r0->handle;
	lime_hl_window_set_text_input_rect(r3,r1);
	label$1331ea3_21_4:
	return r1;
}

double lime__internal_backend_native_NativeWindow_setFrameRate(lime___internal__backend__native__NativeWindow r0,double r1) {
	lime__ui__Window r6;
	lime___internal__backend__native__NativeApplication r4;
	lime__app__Application r5;
	vdynamic *r3;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_22_10;
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->application;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->__backend;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->handle;
	lime_hl_application_set_frame_rate(r3,r1);
	label$1331ea3_22_10:
	r0->frameRate = r1;
	return r1;
}

bool lime__internal_backend_native_NativeWindow_setFullscreen(lime___internal__backend__native__NativeWindow r0,bool r1) {
	lime__app___Event_Void_Void r7;
	lime__ui__Window r5;
	bool r4;
	vdynamic *r3;
	int r6;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_23_31;
	r3 = r0->handle;
	r4 = lime_hl_window_set_fullscreen(r3,r1);
	r1 = r4;
	r5 = r0->parent;
	if( r5 == NULL ) hl_null_access();
	r3 = r0->handle;
	r6 = lime_hl_window_get_width(r3);
	r5->__width = r6;
	r5 = r0->parent;
	if( r5 == NULL ) hl_null_access();
	r3 = r0->handle;
	r6 = lime_hl_window_get_height(r3);
	r5->__height = r6;
	r5 = r0->parent;
	if( r5 == NULL ) hl_null_access();
	r3 = r0->handle;
	r6 = lime_hl_window_get_x(r3);
	r5->__x = r6;
	r5 = r0->parent;
	if( r5 == NULL ) hl_null_access();
	r3 = r0->handle;
	r6 = lime_hl_window_get_y(r3);
	r5->__y = r6;
	if( !r4 ) goto label$1331ea3_23_31;
	r5 = r0->parent;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->onFullscreen;
	if( r7 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r7);
	label$1331ea3_23_31:
	return r1;
}

void lime__internal_backend_native_NativeWindow_setIcon(lime___internal__backend__native__NativeWindow r0,lime__graphics__Image r1) {
	lime__graphics__ImageBuffer r4;
	vdynamic *r3;
	r3 = r0->handle;
	if( !r3 ) goto label$1331ea3_24_6;
	r3 = r0->handle;
	if( r1 == NULL ) hl_null_access();
	r4 = r1->buffer;
	lime_hl_window_set_icon(r3,r4);
	label$1331ea3_24_6:
	return;
}

bool lime__internal_backend_native_NativeWindow_setMaximized(lime___internal__backend__native__NativeWindow r0,bool r1) {
	bool r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_25_5;
	r2 = r0->handle;
	r3 = lime_hl_window_set_maximized(r2,r1);
	return r3;
	label$1331ea3_25_5:
	return r1;
}

bool lime__internal_backend_native_NativeWindow_setMinimized(lime___internal__backend__native__NativeWindow r0,bool r1) {
	bool r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_26_5;
	r2 = r0->handle;
	r3 = lime_hl_window_set_minimized(r2,r1);
	return r3;
	label$1331ea3_26_5:
	return r1;
}

bool lime__internal_backend_native_NativeWindow_setResizable(lime___internal__backend__native__NativeWindow r0,bool r1) {
	lime__ui__Window r4;
	bool r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_27_15;
	r2 = r0->handle;
	r3 = lime_hl_window_set_resizable(r2,r1);
	r2 = r0->handle;
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->__borderless;
	r3 = !r3;
	r3 = lime_hl_window_set_borderless(r2,r3);
	r2 = r0->handle;
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->__borderless;
	r3 = lime_hl_window_set_borderless(r2,r3);
	label$1331ea3_27_15:
	return r1;
}

String lime__internal_backend_native_NativeWindow_setTitle(lime___internal__backend__native__NativeWindow r0,String r1) {
	String r3;
	vdynamic *r2;
	r2 = r0->handle;
	if( !r2 ) goto label$1331ea3_28_5;
	r2 = r0->handle;
	r3 = lime_hl_window_set_title(r2,r1);
	return r3;
	label$1331ea3_28_5:
	return r1;
}

void lime__internal_backend_native_NativeWindow_warpMouse(lime___internal__backend__native__NativeWindow r0,int r1,int r2) {
	vdynamic *r4;
	r4 = r0->handle;
	lime_hl_window_warp_mouse(r4,r1,r2);
	return;
}

