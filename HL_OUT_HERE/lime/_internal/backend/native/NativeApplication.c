// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/_internal/backend/native/NativeApplication.h>
#include <hl/types/ArrayObj.h>
#include <haxe/Timer.h>
int lime_system_System_getTimer(void);
extern haxe__$Timer g$_haxe_Timer;
#include <lime/app/_Event_Int_Void.h>
void lime__internal_backend_native_NativeApplication_handleApplicationEvent(lime___internal__backend__native__NativeApplication);
extern hl_type t$fun_d6da6f6;
#include <hl/natives.h>
void lime__internal_backend_native_NativeApplication_handleClipboardEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleDropEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleGamepadEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleJoystickEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleKeyEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleMouseEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleRenderEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleTextEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleTouchEvent(lime___internal__backend__native__NativeApplication);
void lime__internal_backend_native_NativeApplication_handleWindowEvent(lime___internal__backend__native__NativeApplication);
void lime_app__Event_Int_Void_dispatch(lime__app___Event_Int_Void,int);
void lime_media_AudioManager_shutdown(void);
void lime__internal_backend_native_NativeApplication_updateTimer(lime___internal__backend__native__NativeApplication);
void lime_system_Clipboard___update(void);
#include <lime/ui/Window.h>
#include <lime/app/_Event_String_Void.h>
String String_fromUTF8(vbyte*);
void lime_app__Event_String_Void_dispatch(lime__app___Event_String_Void,String);
#include <lime/ui/Gamepad.h>
#include <lime/app/_Event_lime_ui_GamepadAxis_Float_Void.h>
#include <lime/app/_Event_lime_ui_GamepadButton_Void.h>
extern lime__ui__$Gamepad g$_lime_ui_Gamepad;
vdynamic* haxe_ds_IntMap_get(haxe__ds__IntMap,int);
void lime_app__Event_lime_ui_GamepadAxis_Float_Void_dispatch(lime__app___Event_lime_ui_GamepadAxis_Float_Void,int,double);
void lime_app__Event_lime_ui_GamepadButton_Void_dispatch(lime__app___Event_lime_ui_GamepadButton_Void,int);
void lime_ui_Gamepad___connect(int);
void lime_ui_Gamepad___disconnect(int);
#include <lime/ui/Joystick.h>
#include <lime/app/_Event_Int_Float_Void.h>
#include <lime/app/_Event_Int_lime_ui_JoystickHatPosition_Void.h>
#include <lime/app/_Event_Int_Float_Float_Void.h>
extern lime__ui__$Joystick g$_lime_ui_Joystick;
void lime_app__Event_Int_Float_Void_dispatch(lime__app___Event_Int_Float_Void,int,double);
void lime_app__Event_Int_lime_ui_JoystickHatPosition_Void_dispatch(lime__app___Event_Int_lime_ui_JoystickHatPosition_Void,int,int);
void lime_app__Event_Int_Float_Float_Void_dispatch(lime__app___Event_Int_Float_Float_Void,int,double,double);
void lime_ui_Joystick___connect(int);
void lime_ui_Joystick___disconnect(int);
#include <lime/app/_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.h>
void lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_dispatch(lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void,int,int);
bool lime_ui__KeyModifier_KeyModifier_Impl__get_altKey(int);
bool lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(int);
bool lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(int);
bool lime_ui__KeyModifier_KeyModifier_Impl__get_metaKey(int);
bool lime_ui_Window_set_fullscreen(lime__ui__Window,bool);
#include <lime/app/_Event_Float_Float_lime_ui_MouseButton_Void.h>
#include <lime/app/_Event_Float_Float_Int_Void.h>
#include <lime/app/_Event_Float_Float_Void.h>
#include <lime/app/_Event_Float_Float_lime_ui_MouseWheelMode_Void.h>
#include <lime/ui/MouseWheelMode.h>
void lime_app__Event_Float_Float_lime_ui_MouseButton_Void_dispatch(lime__app___Event_Float_Float_lime_ui_MouseButton_Void,double,double,int);
void lime_app__Event_Float_Float_Int_Void_dispatch(lime__app___Event_Float_Float_Int_Void,double,double,int);
void lime_app__Event_Float_Float_Void_dispatch(lime__app___Event_Float_Float_Void,double,double);
extern venum* g$lime_ui_MouseWheelMode_UNKNOWN;
void lime_app__Event_Float_Float_lime_ui_MouseWheelMode_Void_dispatch(lime__app___Event_Float_Float_lime_ui_MouseWheelMode_Void,double,double,venum*);
#include <lime/graphics/RenderContext.h>
#include <lime/_internal/backend/native/NativeWindow.h>
#include <lime/app/_Event_lime_graphics_RenderContext_Void.h>
#include <lime/_internal/backend/native/NativeOpenGLRenderContext.h>
#include <lime/graphics/opengl/GL.h>
#include <lime/app/_Event_Void_Void.h>
void lime__internal_backend_native_NativeWindow_render(lime___internal__backend__native__NativeWindow);
void lime_app__Event_lime_graphics_RenderContext_Void_dispatch(lime__app___Event_lime_graphics_RenderContext_Void,lime__graphics__RenderContext);
void lime__internal_backend_native_NativeWindow_contextFlip(lime___internal__backend__native__NativeWindow);
void lime__internal_backend_native_NativeOpenGLRenderContext___contextLost(lime___internal__backend__native__NativeOpenGLRenderContext);
extern lime__graphics__opengl__$GL g$_lime_graphics_opengl_GL;
void lime_app__Event_Void_Void_dispatch(lime__app___Event_Void_Void);
#include <lime/system/Sensor.h>
#include <lime/app/_Event_Float_Float_Float_Void.h>
extern lime__system__$Sensor g$_lime_system_Sensor;
void lime_app__Event_Float_Float_Float_Void_dispatch(lime__app___Event_Float_Float_Float_Void,double,double,double);
#include <lime/app/_Event_String_Int_Int_Void.h>
void lime_app__Event_String_Int_Int_Void_dispatch(lime__app___Event_String_Int_Int_Void,String,int,int);
#include <lime/ui/Touch.h>
#include <lime/app/_Event_lime_ui_Touch_Void.h>
vdynamic* haxe_ds_List_pop(haxe__ds__List);
extern hl_type t$lime_ui_Touch;
void lime_ui_Touch_new(lime__ui__Touch,double,double,int,double,double,double,int);
void haxe_ds_IntMap_set(haxe__ds__IntMap,int,vdynamic*);
extern lime__ui__$Touch g$_lime_ui_Touch;
void lime_app__Event_lime_ui_Touch_Void_dispatch(lime__app___Event_lime_ui_Touch_Void,lime__ui__Touch);
bool haxe_ds_IntMap_remove(haxe__ds__IntMap,int);
void haxe_ds_List_add(haxe__ds__List,vdynamic*);
#include <lime/app/_Event_Int_Int_Void.h>
void lime_media_AudioManager_resume(void);
void lime_ui_Window_close(lime__ui__Window);
void lime_media_AudioManager_suspend(void);
void lime_app__Event_Int_Int_Void_dispatch(lime__app___Event_Int_Int_Void,int,int);
#include <sys/thread/NextEventTime.h>
#include <sys/thread/EventLoop.h>
#include <sys/thread/_Thread/HaxeThread.h>
extern hl_type t$haxe_Timer;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
sys__thread___Thread__HaxeThread sys_thread__Thread_Thread_Impl__current(void);
sys__thread__EventLoop sys_thread__Thread_Thread_Impl__get_events(sys__thread___Thread__HaxeThread);
venum* sys_thread_EventLoop_progress(sys__thread__EventLoop);
#include <lime/media/AudioContext.h>
extern hl_type t$lime__internal_backend_native_WindowEventInfo;
void lime__internal_backend_native_WindowEventInfo_new(lime___internal__backend__native__WindowEventInfo,vdynamic*,int*,int*,int*,int*,int*);
extern hl_type t$haxe_ds_List;
void haxe_ds_List_new(haxe__ds__List);
extern hl_type t$lime__internal_backend_native_TouchEventInfo;
void lime__internal_backend_native_TouchEventInfo_new(lime___internal__backend__native__TouchEventInfo,vdynamic*,double*,double*,int*,double*,double*,double*,int*);
extern hl_type t$lime__internal_backend_native_TextEventInfo;
void lime__internal_backend_native_TextEventInfo_new(lime___internal__backend__native__TextEventInfo,vdynamic*,int*,vbyte*,int*,int*);
extern hl_type t$lime__internal_backend_native_SensorEventInfo;
void lime__internal_backend_native_SensorEventInfo_new(lime___internal__backend__native__SensorEventInfo,vdynamic*,int*,double*,double*,double*);
extern hl_type t$lime__internal_backend_native_RenderEventInfo;
extern hl_type t$_i32;
void lime__internal_backend_native_RenderEventInfo_new(lime___internal__backend__native__RenderEventInfo,vdynamic*);
extern hl_type t$lime__internal_backend_native_MouseEventInfo;
void lime__internal_backend_native_MouseEventInfo_new(lime___internal__backend__native__MouseEventInfo,vdynamic*,int*,double*,double*,int*,double*,double*);
extern hl_type t$lime__internal_backend_native_KeyEventInfo;
void lime__internal_backend_native_KeyEventInfo_new(lime___internal__backend__native__KeyEventInfo,vdynamic*,int*,double*,int*);
extern hl_type t$lime__internal_backend_native_JoystickEventInfo;
void lime__internal_backend_native_JoystickEventInfo_new(lime___internal__backend__native__JoystickEventInfo,vdynamic*,int*,int*,int*,double*,double*);
extern hl_type t$lime__internal_backend_native_GamepadEventInfo;
void lime__internal_backend_native_GamepadEventInfo_new(lime___internal__backend__native__GamepadEventInfo,vdynamic*,int*,int*,int*,double*);
extern hl_type t$lime__internal_backend_native_DropEventInfo;
void lime__internal_backend_native_DropEventInfo_new(lime___internal__backend__native__DropEventInfo,vdynamic*,vbyte*);
extern hl_type t$haxe_ds_IntMap;
void haxe_ds_IntMap_new(haxe__ds__IntMap);
extern hl_type t$lime__internal_backend_native_ClipboardEventInfo;
void lime__internal_backend_native_ClipboardEventInfo_new(lime___internal__backend__native__ClipboardEventInfo,vdynamic*);
extern hl_type t$lime__internal_backend_native_ApplicationEventInfo;
void lime__internal_backend_native_ApplicationEventInfo_new(lime___internal__backend__native__ApplicationEventInfo,vdynamic*,int*);
void lime_media_AudioManager_init(lime__media__AudioContext);

void lime__internal_backend_native_NativeApplication_advanceTimer(lime___internal__backend__native__NativeApplication r0) {
	hl__types__ArrayObj r5;
	haxe__Timer r9;
	double r12, r13;
	haxe__$Timer r6;
	vdynamic *r10;
	varray *r11;
	int r2, r3, r4, r7, r8;
	r2 = r0->pauseTimer;
	r3 = -1;
	if( r3 >= r2 ) goto label$e392150_1_44;
	r2 = lime_system_System_getTimer();
	r3 = r0->pauseTimer;
	r2 = r2 - r3;
	r3 = 0;
	r6 = (haxe__$Timer)g$_haxe_Timer;
	r5 = r6->sRunningTimers;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->length;
	label$e392150_1_11:
	if( r3 >= r4 ) goto label$e392150_1_42;
	r7 = r3;
	++r3;
	r6 = (haxe__$Timer)g$_haxe_Timer;
	r5 = r6->sRunningTimers;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$e392150_1_22;
	r9 = NULL;
	goto label$e392150_1_25;
	label$e392150_1_22:
	r11 = r5->array;
	r10 = ((vdynamic**)(r11 + 1))[r7];
	r9 = (haxe__Timer)r10;
	label$e392150_1_25:
	if( !r9 ) goto label$e392150_1_41;
	r6 = (haxe__$Timer)g$_haxe_Timer;
	r5 = r6->sRunningTimers;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$e392150_1_33;
	r9 = NULL;
	goto label$e392150_1_36;
	label$e392150_1_33:
	r11 = r5->array;
	r10 = ((vdynamic**)(r11 + 1))[r7];
	r9 = (haxe__Timer)r10;
	label$e392150_1_36:
	if( r9 == NULL ) hl_null_access();
	r12 = r9->mFireAt;
	r13 = (double)r2;
	r12 = r12 + r13;
	r9->mFireAt = r12;
	label$e392150_1_41:
	goto label$e392150_1_11;
	label$e392150_1_42:
	r3 = -1;
	r0->pauseTimer = r3;
	label$e392150_1_44:
	return;
}

int lime__internal_backend_native_NativeApplication_exec(lime___internal__backend__native__NativeApplication r0) {
	lime___internal__backend__native__MouseEventInfo r9;
	lime___internal__backend__native__ApplicationEventInfo r3;
	lime___internal__backend__native__ClipboardEventInfo r4;
	lime___internal__backend__native__WindowEventInfo r13;
	lime__app___Event_Int_Void r16;
	lime___internal__backend__native__KeyEventInfo r8;
	lime___internal__backend__native__DropEventInfo r5;
	lime___internal__backend__native__TextEventInfo r11;
	lime___internal__backend__native__RenderEventInfo r10;
	lime___internal__backend__native__GamepadEventInfo r6;
	lime__app__Application r17;
	lime___internal__backend__native__TouchEventInfo r12;
	lime___internal__backend__native__JoystickEventInfo r7;
	vclosure *r2;
	vdynamic *r15;
	int r14;
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleApplicationEvent,r0);
	r3 = r0->applicationEventInfo;
	lime_hl_application_event_manager_register(r2,r3);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleClipboardEvent,r0);
	r4 = r0->clipboardEventInfo;
	lime_hl_clipboard_event_manager_register(r2,r4);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleDropEvent,r0);
	r5 = r0->dropEventInfo;
	lime_hl_drop_event_manager_register(r2,r5);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleGamepadEvent,r0);
	r6 = r0->gamepadEventInfo;
	lime_hl_gamepad_event_manager_register(r2,r6);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleJoystickEvent,r0);
	r7 = r0->joystickEventInfo;
	lime_hl_joystick_event_manager_register(r2,r7);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleKeyEvent,r0);
	r8 = r0->keyEventInfo;
	lime_hl_key_event_manager_register(r2,r8);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleMouseEvent,r0);
	r9 = r0->mouseEventInfo;
	lime_hl_mouse_event_manager_register(r2,r9);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleRenderEvent,r0);
	r10 = r0->renderEventInfo;
	lime_hl_render_event_manager_register(r2,r10);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleTextEvent,r0);
	r11 = r0->textEventInfo;
	lime_hl_text_event_manager_register(r2,r11);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleTouchEvent,r0);
	r12 = r0->touchEventInfo;
	lime_hl_touch_event_manager_register(r2,r12);
	r2 = hl_alloc_closure_ptr(&t$fun_d6da6f6,lime__internal_backend_native_NativeApplication_handleWindowEvent,r0);
	r13 = r0->windowEventInfo;
	lime_hl_window_event_manager_register(r2,r13);
	r15 = r0->handle;
	r14 = lime_hl_application_exec(r15);
	r17 = r0->parent;
	if( r17 == NULL ) hl_null_access();
	r16 = r17->onExit;
	if( r16 == NULL ) hl_null_access();
	lime_app__Event_Int_Void_dispatch(r16,r14);
	return r14;
}

void lime__internal_backend_native_NativeApplication_exit(lime___internal__backend__native__NativeApplication r0) {
	vdynamic *r3;
	int r2;
	lime_media_AudioManager_shutdown();
	r3 = r0->handle;
	r2 = lime_hl_application_quit(r3);
	return;
}

void lime__internal_backend_native_NativeApplication_handleApplicationEvent(lime___internal__backend__native__NativeApplication r0) {
	lime___internal__backend__native__ApplicationEventInfo r3;
	lime__app___Event_Int_Void r5;
	lime__app__Application r6;
	int r2, r4;
	r3 = r0->applicationEventInfo;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->type;
	r4 = 0;
	if( r2 != r4 ) goto label$e392150_4_14;
	lime__internal_backend_native_NativeApplication_updateTimer(r0);
	r6 = r0->parent;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->onUpdate;
	if( r5 == NULL ) hl_null_access();
	r3 = r0->applicationEventInfo;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->deltaTime;
	lime_app__Event_Int_Void_dispatch(r5,r2);
	label$e392150_4_14:
	return;
}

void lime__internal_backend_native_NativeApplication_handleClipboardEvent(lime___internal__backend__native__NativeApplication r0) {
	lime_system_Clipboard___update();
	return;
}

void lime__internal_backend_native_NativeApplication_handleDropEvent(lime___internal__backend__native__NativeApplication r0) {
	String r10;
	hl__types__ArrayObj r3;
	lime__ui__Window r6;
	lime___internal__backend__native__DropEventInfo r12;
	lime__app___Event_String_Void r9;
	lime__app__Application r4;
	vdynamic *r7;
	vbyte *r11;
	varray *r8;
	int r1, r5;
	r1 = 0;
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->__windows;
	label$e392150_6_4:
	if( r3 == NULL ) hl_null_access();
	r5 = r3->length;
	if( r1 >= r5 ) goto label$e392150_6_25;
	r5 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r5) ) goto label$e392150_6_12;
	r6 = NULL;
	goto label$e392150_6_15;
	label$e392150_6_12:
	r8 = r3->array;
	r7 = ((vdynamic**)(r8 + 1))[r1];
	r6 = (lime__ui__Window)r7;
	label$e392150_6_15:
	++r1;
	if( r6 == NULL ) hl_null_access();
	r9 = r6->onDropFile;
	if( r9 == NULL ) hl_null_access();
	r12 = r0->dropEventInfo;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->file;
	r10 = String_fromUTF8(r11);
	lime_app__Event_String_Void_dispatch(r9,r10);
	goto label$e392150_6_4;
	label$e392150_6_25:
	return;
}

void lime__internal_backend_native_NativeApplication_handleGamepadEvent(lime___internal__backend__native__NativeApplication r0) {
	lime__app___Event_lime_ui_GamepadButton_Void r10;
	lime__ui__Gamepad r7;
	haxe__ds__IntMap r5;
	lime___internal__backend__native__GamepadEventInfo r3;
	double r9;
	lime__app___Event_lime_ui_GamepadAxis_Float_Void r8;
	lime__ui__$Gamepad r6;
	vdynamic *r4;
	int r2;
	r3 = r0->gamepadEventInfo;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->type;
	switch(r2) {
		default:
			goto label$e392150_7_68;
		case 0:
			r6 = (lime__ui__$Gamepad)g$_lime_ui_Gamepad;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Gamepad)r4;
			if( !r7 ) goto label$e392150_7_24;
			if( r7 == NULL ) hl_null_access();
			r8 = r7->onAxisMove;
			if( r8 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->axis;
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r9 = r3->axisValue;
			lime_app__Event_lime_ui_GamepadAxis_Float_Void_dispatch(r8,r2,r9);
			label$e392150_7_24:
			goto label$e392150_7_68;
		case 1:
			r6 = (lime__ui__$Gamepad)g$_lime_ui_Gamepad;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Gamepad)r4;
			if( !r7 ) goto label$e392150_7_41;
			if( r7 == NULL ) hl_null_access();
			r10 = r7->onButtonDown;
			if( r10 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->button;
			lime_app__Event_lime_ui_GamepadButton_Void_dispatch(r10,r2);
			label$e392150_7_41:
			goto label$e392150_7_68;
		case 2:
			r6 = (lime__ui__$Gamepad)g$_lime_ui_Gamepad;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Gamepad)r4;
			if( !r7 ) goto label$e392150_7_58;
			if( r7 == NULL ) hl_null_access();
			r10 = r7->onButtonUp;
			if( r10 == NULL ) hl_null_access();
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->button;
			lime_app__Event_lime_ui_GamepadButton_Void_dispatch(r10,r2);
			label$e392150_7_58:
			goto label$e392150_7_68;
		case 3:
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			lime_ui_Gamepad___connect(r2);
			goto label$e392150_7_68;
		case 4:
			r3 = r0->gamepadEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			lime_ui_Gamepad___disconnect(r2);
	}
	label$e392150_7_68:
	return;
}

void lime__internal_backend_native_NativeApplication_handleJoystickEvent(lime___internal__backend__native__NativeApplication r0) {
	lime__ui__Joystick r7;
	lime__app___Event_Int_Float_Float_Void r12;
	haxe__ds__IntMap r5;
	lime__app___Event_Int_Void r14;
	lime__ui__$Joystick r6;
	lime___internal__backend__native__JoystickEventInfo r3;
	double r9, r13;
	lime__app___Event_Int_Float_Void r8;
	vdynamic *r4;
	lime__app___Event_Int_lime_ui_JoystickHatPosition_Void r10;
	int r2, r11;
	r3 = r0->joystickEventInfo;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->type;
	switch(r2) {
		default:
			goto label$e392150_8_111;
		case 0:
			r6 = (lime__ui__$Joystick)g$_lime_ui_Joystick;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Joystick)r4;
			if( !r7 ) goto label$e392150_8_24;
			if( r7 == NULL ) hl_null_access();
			r8 = r7->onAxisMove;
			if( r8 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->index;
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r9 = r3->x;
			lime_app__Event_Int_Float_Void_dispatch(r8,r2,r9);
			label$e392150_8_24:
			goto label$e392150_8_111;
		case 1:
			r6 = (lime__ui__$Joystick)g$_lime_ui_Joystick;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Joystick)r4;
			if( !r7 ) goto label$e392150_8_44;
			if( r7 == NULL ) hl_null_access();
			r10 = r7->onHatMove;
			if( r10 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->index;
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r11 = r3->eventValue;
			lime_app__Event_Int_lime_ui_JoystickHatPosition_Void_dispatch(r10,r2,r11);
			label$e392150_8_44:
			goto label$e392150_8_111;
		case 2:
			r6 = (lime__ui__$Joystick)g$_lime_ui_Joystick;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Joystick)r4;
			if( !r7 ) goto label$e392150_8_67;
			if( r7 == NULL ) hl_null_access();
			r12 = r7->onTrackballMove;
			if( r12 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->index;
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r9 = r3->x;
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r13 = r3->y;
			lime_app__Event_Int_Float_Float_Void_dispatch(r12,r2,r9,r13);
			label$e392150_8_67:
			goto label$e392150_8_111;
		case 3:
			r6 = (lime__ui__$Joystick)g$_lime_ui_Joystick;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Joystick)r4;
			if( !r7 ) goto label$e392150_8_84;
			if( r7 == NULL ) hl_null_access();
			r14 = r7->onButtonDown;
			if( r14 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->index;
			lime_app__Event_Int_Void_dispatch(r14,r2);
			label$e392150_8_84:
			goto label$e392150_8_111;
		case 4:
			r6 = (lime__ui__$Joystick)g$_lime_ui_Joystick;
			r5 = r6->devices;
			if( r5 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r5,r2);
			r7 = (lime__ui__Joystick)r4;
			if( !r7 ) goto label$e392150_8_101;
			if( r7 == NULL ) hl_null_access();
			r14 = r7->onButtonUp;
			if( r14 == NULL ) hl_null_access();
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->index;
			lime_app__Event_Int_Void_dispatch(r14,r2);
			label$e392150_8_101:
			goto label$e392150_8_111;
		case 5:
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			lime_ui_Joystick___connect(r2);
			goto label$e392150_8_111;
		case 6:
			r3 = r0->joystickEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			lime_ui_Joystick___disconnect(r2);
	}
	label$e392150_8_111:
	return;
}

void lime__internal_backend_native_NativeApplication_handleKeyEvent(lime___internal__backend__native__NativeApplication r0) {
	lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void r11;
	bool r13;
	lime__ui__Window r6;
	haxe__ds__IntMap r2;
	lime___internal__backend__native__KeyEventInfo r5;
	lime__app__Application r3;
	double r8;
	vdynamic *r1;
	int r4, r9, r10, r12;
	r3 = r0->parent;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->__windowByID;
	if( r2 == NULL ) hl_null_access();
	r5 = r0->keyEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->windowID;
	r1 = haxe_ds_IntMap_get(r2,r4);
	r6 = (lime__ui__Window)r1;
	if( !r6 ) goto label$e392150_9_58;
	r5 = r0->keyEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	r5 = r0->keyEventInfo;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->keyCode;
	r9 = (int)r8;
	r5 = r0->keyEventInfo;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->modifier;
	switch(r4) {
		default:
			goto label$e392150_9_31;
		case 0:
			if( r6 == NULL ) hl_null_access();
			r11 = r6->onKeyDown;
			if( r11 == NULL ) hl_null_access();
			lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_dispatch(r11,r9,r10);
			goto label$e392150_9_31;
		case 1:
			if( r6 == NULL ) hl_null_access();
			r11 = r6->onKeyUp;
			if( r11 == NULL ) hl_null_access();
			lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_dispatch(r11,r9,r10);
	}
	label$e392150_9_31:
	r12 = 13;
	if( r9 != r12 ) goto label$e392150_9_58;
	r12 = 0;
	if( r4 != r12 ) goto label$e392150_9_56;
	r13 = r0->toggleFullscreen;
	if( !r13 ) goto label$e392150_9_55;
	r13 = lime_ui__KeyModifier_KeyModifier_Impl__get_altKey(r10);
	if( !r13 ) goto label$e392150_9_55;
	r13 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r10);
	if( r13 ) goto label$e392150_9_55;
	r13 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r10);
	if( r13 ) goto label$e392150_9_55;
	r13 = lime_ui__KeyModifier_KeyModifier_Impl__get_metaKey(r10);
	if( r13 ) goto label$e392150_9_55;
	r13 = false;
	r0->toggleFullscreen = r13;
	if( r6 == NULL ) hl_null_access();
	r11 = r6->onKeyDown;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->canceled;
	if( r13 ) goto label$e392150_9_55;
	r13 = r6->__fullscreen;
	r13 = !r13;
	r13 = lime_ui_Window_set_fullscreen(r6,r13);
	label$e392150_9_55:
	goto label$e392150_9_58;
	label$e392150_9_56:
	r13 = true;
	r0->toggleFullscreen = r13;
	label$e392150_9_58:
	return;
}

void lime__internal_backend_native_NativeApplication_handleMouseEvent(lime___internal__backend__native__NativeApplication r0) {
	lime___internal__backend__native__MouseEventInfo r5;
	venum *r14;
	lime__ui__Window r6;
	lime__app___Event_Float_Float_lime_ui_MouseWheelMode_Void r13;
	lime__app___Event_Float_Float_Void r12;
	haxe__ds__IntMap r2;
	lime__app___Event_Float_Float_lime_ui_MouseButton_Void r8;
	lime__app__Application r3;
	double r9, r10;
	lime__app___Event_Float_Float_Int_Void r11;
	vdynamic *r1;
	int r4;
	r3 = r0->parent;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->__windowByID;
	if( r2 == NULL ) hl_null_access();
	r5 = r0->mouseEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->windowID;
	r1 = haxe_ds_IntMap_get(r2,r4);
	r6 = (lime__ui__Window)r1;
	if( !r6 ) goto label$e392150_10_74;
	r5 = r0->mouseEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	switch(r4) {
		default:
			goto label$e392150_10_74;
		case 0:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onMouseDown;
			if( r8 == NULL ) hl_null_access();
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->y;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->button;
			lime_app__Event_Float_Float_lime_ui_MouseButton_Void_dispatch(r8,r9,r10,r4);
			goto label$e392150_10_74;
		case 1:
			if( r6 == NULL ) hl_null_access();
			r11 = r6->onMouseUp;
			if( r11 == NULL ) hl_null_access();
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->y;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->button;
			lime_app__Event_Float_Float_Int_Void_dispatch(r11,r9,r10,r4);
			goto label$e392150_10_74;
		case 2:
			if( r6 == NULL ) hl_null_access();
			r12 = r6->onMouseMove;
			if( r12 == NULL ) hl_null_access();
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->y;
			lime_app__Event_Float_Float_Void_dispatch(r12,r9,r10);
			r12 = r6->onMouseMoveRelative;
			if( r12 == NULL ) hl_null_access();
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->movementX;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->movementY;
			lime_app__Event_Float_Float_Void_dispatch(r12,r9,r10);
			goto label$e392150_10_74;
		case 3:
			if( r6 == NULL ) hl_null_access();
			r13 = r6->onMouseWheel;
			if( r13 == NULL ) hl_null_access();
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r9 = r5->x;
			r5 = r0->mouseEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->y;
			r14 = (venum*)g$lime_ui_MouseWheelMode_UNKNOWN;
			lime_app__Event_Float_Float_lime_ui_MouseWheelMode_Void_dispatch(r13,r9,r10,r14);
	}
	label$e392150_10_74:
	return;
}

void lime__internal_backend_native_NativeApplication_handleRenderEvent(lime___internal__backend__native__NativeApplication r0) {
	String r15;
	hl__types__ArrayObj r3;
	lime__app___Event_Void_Void r21;
	bool r14;
	lime__app___Event_lime_graphics_RenderContext_Void r13;
	lime__ui__Window r7;
	lime__graphics__opengl__$GL r20;
	lime___internal__backend__native__NativeOpenGLRenderContext r18, r19;
	lime___internal__backend__native__RenderEventInfo r10;
	lime__graphics__RenderContext r11;
	lime___internal__backend__native__NativeWindow r12;
	lime__app__Application r4;
	vdynamic *r8;
	vbyte *r16, *r17;
	varray *r9;
	int r1, r5, r6;
	r1 = 0;
	r4 = r0->parent;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->__windows;
	label$e392150_11_4:
	if( r3 == NULL ) hl_null_access();
	r6 = r3->length;
	if( r1 >= r6 ) goto label$e392150_11_106;
	r6 = r3->length;
	if( ((unsigned)r1) < ((unsigned)r6) ) goto label$e392150_11_12;
	r7 = NULL;
	goto label$e392150_11_15;
	label$e392150_11_12:
	r9 = r3->array;
	r8 = ((vdynamic**)(r9 + 1))[r1];
	r7 = (lime__ui__Window)r8;
	label$e392150_11_15:
	++r1;
	if( r7 ) goto label$e392150_11_18;
	goto label$e392150_11_4;
	label$e392150_11_18:
	r10 = r0->renderEventInfo;
	if( r10 == NULL ) hl_null_access();
	r5 = r10->type;
	switch(r5) {
		default:
			goto label$e392150_11_105;
		case 0:
			if( r7 == NULL ) hl_null_access();
			r11 = r7->context;
			if( !r11 ) goto label$e392150_11_40;
			r12 = r7->__backend;
			if( r12 == NULL ) hl_null_access();
			lime__internal_backend_native_NativeWindow_render(r12);
			r13 = r7->onRender;
			if( r13 == NULL ) hl_null_access();
			r11 = r7->context;
			lime_app__Event_lime_graphics_RenderContext_Void_dispatch(r13,r11);
			r13 = r7->onRender;
			if( r13 == NULL ) hl_null_access();
			r14 = r13->canceled;
			if( r14 ) goto label$e392150_11_40;
			r12 = r7->__backend;
			if( r12 == NULL ) hl_null_access();
			lime__internal_backend_native_NativeWindow_contextFlip(r12);
			label$e392150_11_40:
			goto label$e392150_11_105;
		case 1:
			if( r7 == NULL ) hl_null_access();
			r12 = r7->__backend;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->useHardware;
			if( !r14 ) goto label$e392150_11_95;
			r11 = r7->context;
			if( !r11 ) goto label$e392150_11_95;
			r11 = r7->context;
			if( r11 == NULL ) hl_null_access();
			r15 = r11->type;
			if( !r15 ) goto label$e392150_11_60;
			r5 = r15->length;
			r6 = 6;
			if( r5 != r6 ) goto label$e392150_11_60;
			r16 = r15->bytes;
			r17 = (vbyte*)USTR("opengl");
			r5 = hl_string_compare(r16,r17,r5);
			r6 = 0;
			if( r5 == r6 ) goto label$e392150_11_79;
			label$e392150_11_60:
			if( !r15 ) goto label$e392150_11_69;
			r5 = r15->length;
			r6 = 8;
			if( r5 != r6 ) goto label$e392150_11_69;
			r16 = r15->bytes;
			r17 = (vbyte*)USTR("opengles");
			r5 = hl_string_compare(r16,r17,r5);
			r6 = 0;
			if( r5 == r6 ) goto label$e392150_11_79;
			label$e392150_11_69:
			if( !r15 ) goto label$e392150_11_78;
			r5 = r15->length;
			r6 = 5;
			if( r5 != r6 ) goto label$e392150_11_78;
			r16 = r15->bytes;
			r17 = (vbyte*)USTR("webgl");
			r5 = hl_string_compare(r16,r17,r5);
			r6 = 0;
			if( r5 == r6 ) goto label$e392150_11_79;
			label$e392150_11_78:
			goto label$e392150_11_90;
			label$e392150_11_79:
			r11 = r7->context;
			if( r11 == NULL ) hl_null_access();
			r18 = r11->gl;
			if( r18 == NULL ) hl_null_access();
			lime__internal_backend_native_NativeOpenGLRenderContext___contextLost(r18);
			r20 = (lime__graphics__opengl__$GL)g$_lime_graphics_opengl_GL;
			r19 = r20->context;
			if( r19 != r18 ) goto label$e392150_11_90;
			r19 = NULL;
			r20 = (lime__graphics__opengl__$GL)g$_lime_graphics_opengl_GL;
			r20->context = r19;
			label$e392150_11_90:
			r11 = NULL;
			r7->context = r11;
			r21 = r7->onRenderContextLost;
			if( r21 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r21);
			label$e392150_11_95:
			goto label$e392150_11_105;
		case 2:
			if( r7 == NULL ) hl_null_access();
			r12 = r7->__backend;
			if( r12 == NULL ) hl_null_access();
			r14 = r12->useHardware;
			if( !r14 ) goto label$e392150_11_105;
			r13 = r7->onRenderContextRestored;
			if( r13 == NULL ) hl_null_access();
			r11 = r7->context;
			lime_app__Event_lime_graphics_RenderContext_Void_dispatch(r13,r11);
	}
	label$e392150_11_105:
	goto label$e392150_11_4;
	label$e392150_11_106:
	return;
}

void lime__internal_backend_native_NativeApplication_handleSensorEvent(lime___internal__backend__native__NativeApplication r0) {
	lime__system__Sensor r6;
	lime__system__$Sensor r3;
	lime__app___Event_Float_Float_Float_Void r8;
	haxe__ds__IntMap r2;
	lime___internal__backend__native__SensorEventInfo r5;
	double r9, r10, r11;
	vdynamic *r1;
	int r4;
	r3 = (lime__system__$Sensor)g$_lime_system_Sensor;
	r2 = r3->sensorByID;
	if( r2 == NULL ) hl_null_access();
	r5 = r0->sensorEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->id;
	r1 = haxe_ds_IntMap_get(r2,r4);
	r6 = (lime__system__Sensor)r1;
	if( !r6 ) goto label$e392150_12_22;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->onUpdate;
	if( r8 == NULL ) hl_null_access();
	r5 = r0->sensorEventInfo;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->x;
	r5 = r0->sensorEventInfo;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->y;
	r5 = r0->sensorEventInfo;
	if( r5 == NULL ) hl_null_access();
	r11 = r5->z;
	lime_app__Event_Float_Float_Float_Void_dispatch(r8,r9,r10,r11);
	label$e392150_12_22:
	return;
}

void lime__internal_backend_native_NativeApplication_handleTextEvent(lime___internal__backend__native__NativeApplication r0) {
	String r9;
	lime__app___Event_String_Int_Int_Void r11;
	lime__ui__Window r6;
	haxe__ds__IntMap r2;
	lime___internal__backend__native__TextEventInfo r5;
	lime__app___Event_String_Void r8;
	lime__app__Application r3;
	vdynamic *r1;
	vbyte *r10;
	int r4, r12;
	r3 = r0->parent;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->__windowByID;
	if( r2 == NULL ) hl_null_access();
	r5 = r0->textEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->windowID;
	r1 = haxe_ds_IntMap_get(r2,r4);
	r6 = (lime__ui__Window)r1;
	if( !r6 ) goto label$e392150_13_38;
	r5 = r0->textEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	switch(r4) {
		default:
			goto label$e392150_13_38;
		case 0:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onTextInput;
			if( r8 == NULL ) hl_null_access();
			r5 = r0->textEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->text;
			r9 = String_fromUTF8(r10);
			lime_app__Event_String_Void_dispatch(r8,r9);
			goto label$e392150_13_38;
		case 1:
			if( r6 == NULL ) hl_null_access();
			r11 = r6->onTextEdit;
			if( r11 == NULL ) hl_null_access();
			r5 = r0->textEventInfo;
			if( r5 == NULL ) hl_null_access();
			r10 = r5->text;
			r9 = String_fromUTF8(r10);
			r5 = r0->textEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->start;
			r5 = r0->textEventInfo;
			if( r5 == NULL ) hl_null_access();
			r12 = r5->length;
			lime_app__Event_String_Int_Int_Void_dispatch(r11,r9,r4,r12);
	}
	label$e392150_13_38:
	return;
}

void lime__internal_backend_native_NativeApplication_handleTouchEvent(lime___internal__backend__native__NativeApplication r0) {
	bool r17;
	lime__ui__$Touch r16;
	haxe__ds__IntMap r14;
	lime__ui__Touch r6, r7;
	lime__app___Event_lime_ui_Touch_Void r15;
	haxe__ds__List r5;
	lime___internal__backend__native__TouchEventInfo r3;
	double r8, r9, r10, r11, r12;
	vdynamic *r4;
	int r2, r13;
	r3 = r0->touchEventInfo;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->type;
	switch(r2) {
		default:
			goto label$e392150_14_149;
		case 0:
			r5 = r0->unusedTouchesPool;
			if( r5 == NULL ) hl_null_access();
			r4 = haxe_ds_List_pop(r5);
			r6 = (lime__ui__Touch)r4;
			if( r6 ) goto label$e392150_14_35;
			r7 = (lime__ui__Touch)hl_alloc_obj(&t$lime_ui_Touch);
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->x;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r9 = r3->y;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r10 = r3->dx;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r11 = r3->dy;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r12 = r3->pressure;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r13 = r3->device;
			lime_ui_Touch_new(r7,r8,r9,r2,r10,r11,r12,r13);
			r6 = r7;
			goto label$e392150_14_64;
			label$e392150_14_35:
			if( r6 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->x;
			r6->x = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->y;
			r6->y = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r6->id = r2;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dx;
			r6->dx = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dy;
			r6->dy = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->pressure;
			r6->pressure = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->device;
			r6->device = r2;
			label$e392150_14_64:
			r14 = r0->currentTouches;
			if( r14 == NULL ) hl_null_access();
			r2 = r6->id;
			haxe_ds_IntMap_set(r14,r2,((vdynamic*)r6));
			r16 = (lime__ui__$Touch)g$_lime_ui_Touch;
			r15 = r16->onStart;
			if( r15 == NULL ) hl_null_access();
			lime_app__Event_lime_ui_Touch_Void_dispatch(r15,r6);
			goto label$e392150_14_149;
		case 1:
			r14 = r0->currentTouches;
			if( r14 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r14,r2);
			r6 = (lime__ui__Touch)r4;
			if( !r6 ) goto label$e392150_14_115;
			if( r6 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->x;
			r6->x = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->y;
			r6->y = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dx;
			r6->dx = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dy;
			r6->dy = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->pressure;
			r6->pressure = r8;
			r16 = (lime__ui__$Touch)g$_lime_ui_Touch;
			r15 = r16->onEnd;
			if( r15 == NULL ) hl_null_access();
			lime_app__Event_lime_ui_Touch_Void_dispatch(r15,r6);
			r14 = r0->currentTouches;
			if( r14 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r17 = haxe_ds_IntMap_remove(r14,r2);
			r5 = r0->unusedTouchesPool;
			if( r5 == NULL ) hl_null_access();
			haxe_ds_List_add(r5,((vdynamic*)r6));
			label$e392150_14_115:
			goto label$e392150_14_149;
		case 2:
			r14 = r0->currentTouches;
			if( r14 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r2 = r3->id;
			r4 = haxe_ds_IntMap_get(r14,r2);
			r6 = (lime__ui__Touch)r4;
			if( !r6 ) goto label$e392150_14_149;
			if( r6 == NULL ) hl_null_access();
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->x;
			r6->x = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->y;
			r6->y = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dx;
			r6->dx = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->dy;
			r6->dy = r8;
			r3 = r0->touchEventInfo;
			if( r3 == NULL ) hl_null_access();
			r8 = r3->pressure;
			r6->pressure = r8;
			r16 = (lime__ui__$Touch)g$_lime_ui_Touch;
			r15 = r16->onMove;
			if( r15 == NULL ) hl_null_access();
			lime_app__Event_lime_ui_Touch_Void_dispatch(r15,r6);
	}
	label$e392150_14_149:
	return;
}

void lime__internal_backend_native_NativeApplication_handleWindowEvent(lime___internal__backend__native__NativeApplication r0) {
	bool r9;
	lime__app___Event_Void_Void r8;
	lime__ui__Window r6;
	lime__app___Event_Float_Float_Void r10;
	lime___internal__backend__native__WindowEventInfo r5;
	haxe__ds__IntMap r2;
	lime__app___Event_Int_Int_Void r13;
	lime__app__Application r3;
	double r11, r12;
	vdynamic *r1;
	int r4, r14;
	r3 = r0->parent;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->__windowByID;
	if( r2 == NULL ) hl_null_access();
	r5 = r0->windowEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->windowID;
	r1 = haxe_ds_IntMap_get(r2,r4);
	r6 = (lime__ui__Window)r1;
	if( !r6 ) goto label$e392150_15_128;
	r5 = r0->windowEventInfo;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->type;
	switch(r4) {
		default:
			goto label$e392150_15_128;
		case 0:
			lime__internal_backend_native_NativeApplication_advanceTimer(r0);
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onActivate;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			lime_media_AudioManager_resume();
			goto label$e392150_15_128;
		case 1:
			if( r6 == NULL ) hl_null_access();
			lime_ui_Window_close(r6);
			goto label$e392150_15_128;
		case 2:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onDeactivate;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			lime_media_AudioManager_suspend();
			r4 = lime_system_System_getTimer();
			r0->pauseTimer = r4;
			goto label$e392150_15_128;
		case 3:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onEnter;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 4:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onExpose;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 5:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onFocusIn;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 6:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onFocusOut;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 7:
			if( r6 == NULL ) hl_null_access();
			r8 = r6->onLeave;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 8:
			if( r6 == NULL ) hl_null_access();
			r9 = true;
			r6->__maximized = r9;
			r9 = false;
			r6->__fullscreen = r9;
			r9 = false;
			r6->__minimized = r9;
			r8 = r6->onMaximize;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 9:
			if( r6 == NULL ) hl_null_access();
			r9 = true;
			r6->__minimized = r9;
			r9 = false;
			r6->__maximized = r9;
			r9 = false;
			r6->__fullscreen = r9;
			r8 = r6->onMinimize;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
			goto label$e392150_15_128;
		case 10:
			if( r6 == NULL ) hl_null_access();
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->x;
			r6->__x = r4;
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->y;
			r6->__y = r4;
			r10 = r6->onMove;
			if( r10 == NULL ) hl_null_access();
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->x;
			r11 = (double)r4;
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->y;
			r12 = (double)r4;
			lime_app__Event_Float_Float_Void_dispatch(r10,r11,r12);
			goto label$e392150_15_128;
		case 11:
			if( r6 == NULL ) hl_null_access();
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->width;
			r6->__width = r4;
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->height;
			r6->__height = r4;
			r13 = r6->onResize;
			if( r13 == NULL ) hl_null_access();
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r4 = r5->width;
			r5 = r0->windowEventInfo;
			if( r5 == NULL ) hl_null_access();
			r14 = r5->height;
			lime_app__Event_Int_Int_Void_dispatch(r13,r4,r14);
			goto label$e392150_15_128;
		case 12:
			if( r6 == NULL ) hl_null_access();
			r9 = false;
			r6->__fullscreen = r9;
			r9 = false;
			r6->__minimized = r9;
			r8 = r6->onRestore;
			if( r8 == NULL ) hl_null_access();
			lime_app__Event_Void_Void_dispatch(r8);
	}
	label$e392150_15_128:
	return;
}

void lime__internal_backend_native_NativeApplication_updateTimer(lime___internal__backend__native__NativeApplication r0) {
	sys__thread___Thread__HaxeThread r21;
	hl__types__ArrayObj r3, r18;
	venum *r19;
	hl_type *r17;
	bool r6, r13;
	haxe__Timer r10;
	sys__thread__EventLoop r20;
	vclosure *r16;
	double r14, r15;
	haxe__$Timer r4;
	vdynamic *r11;
	varray *r12;
	int r2, r5, r7, r8, r9;
	r4 = (haxe__$Timer)g$_haxe_Timer;
	r3 = r4->sRunningTimers;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->length;
	r5 = 0;
	if( r5 >= r2 ) goto label$e392150_16_71;
	r2 = lime_system_System_getTimer();
	r6 = false;
	r5 = 0;
	r4 = (haxe__$Timer)g$_haxe_Timer;
	r3 = r4->sRunningTimers;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->length;
	label$e392150_16_13:
	if( r5 >= r7 ) goto label$e392150_16_45;
	r8 = r5;
	++r5;
	r4 = (haxe__$Timer)g$_haxe_Timer;
	r3 = r4->sRunningTimers;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$e392150_16_24;
	r10 = NULL;
	goto label$e392150_16_27;
	label$e392150_16_24:
	r12 = r3->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (haxe__Timer)r11;
	label$e392150_16_27:
	if( !r10 ) goto label$e392150_16_42;
	if( r10 == NULL ) hl_null_access();
	r13 = r10->mRunning;
	if( !r13 ) goto label$e392150_16_41;
	r14 = (double)r2;
	r15 = r10->mFireAt;
	if( !(r14 >= r15) ) goto label$e392150_16_41;
	r14 = r10->mFireAt;
	r15 = r10->mTime;
	r14 = r14 + r15;
	r10->mFireAt = r14;
	r16 = r10->run;
	if( r16 == NULL ) hl_null_access();
	r16->hasValue ? ((void (*)(vdynamic*))r16->fun)((vdynamic*)r16->value) : ((void (*)(void))r16->fun)();
	label$e392150_16_41:
	goto label$e392150_16_44;
	label$e392150_16_42:
	r13 = true;
	r6 = r13;
	label$e392150_16_44:
	goto label$e392150_16_13;
	label$e392150_16_45:
	if( !r6 ) goto label$e392150_16_71;
	r17 = &t$haxe_Timer;
	r5 = 0;
	r12 = hl_alloc_array(r17,r5);
	r3 = hl_types_ArrayObj_alloc(r12);
	r5 = 0;
	r4 = (haxe__$Timer)g$_haxe_Timer;
	r18 = r4->sRunningTimers;
	label$e392150_16_53:
	if( r18 == NULL ) hl_null_access();
	r8 = r18->length;
	if( r5 >= r8 ) goto label$e392150_16_69;
	r8 = r18->length;
	if( ((unsigned)r5) < ((unsigned)r8) ) goto label$e392150_16_61;
	r10 = NULL;
	goto label$e392150_16_64;
	label$e392150_16_61:
	r12 = r18->array;
	r11 = ((vdynamic**)(r12 + 1))[r5];
	r10 = (haxe__Timer)r11;
	label$e392150_16_64:
	++r5;
	if( !r10 ) goto label$e392150_16_68;
	if( r3 == NULL ) hl_null_access();
	r7 = hl_types_ArrayObj_push(r3,((vdynamic*)r10));
	label$e392150_16_68:
	goto label$e392150_16_53;
	label$e392150_16_69:
	r4 = (haxe__$Timer)g$_haxe_Timer;
	r4->sRunningTimers = r3;
	label$e392150_16_71:
	r21 = sys_thread__Thread_Thread_Impl__current();
	r20 = sys_thread__Thread_Thread_Impl__get_events(r21);
	if( r20 == NULL ) hl_null_access();
	r19 = sys_thread_EventLoop_progress(r20);
	return;
}

void lime__internal_backend_native_NativeApplication_new(lime___internal__backend__native__NativeApplication r0,lime__app__Application r1) {
	lime___internal__backend__native__MouseEventInfo r22;
	lime__media__AudioContext r31;
	lime___internal__backend__native__ApplicationEventInfo r29;
	bool r30;
	lime___internal__backend__native__ClipboardEventInfo r28;
	haxe__ds__IntMap r27;
	lime___internal__backend__native__WindowEventInfo r2;
	lime___internal__backend__native__KeyEventInfo r23;
	lime___internal__backend__native__SensorEventInfo r19;
	lime___internal__backend__native__DropEventInfo r26;
	lime___internal__backend__native__RenderEventInfo r20;
	lime___internal__backend__native__TextEventInfo r17;
	lime___internal__backend__native__GamepadEventInfo r25;
	lime___internal__backend__native__JoystickEventInfo r24;
	lime___internal__backend__native__TouchEventInfo r11;
	haxe__ds__List r10;
	double *r12, *r13, *r14, *r15, *r16;
	int *r4, *r5, *r6, *r7, *r8;
	vdynamic *r3, *r32;
	int r21;
	vbyte *r18;
	r2 = (lime___internal__backend__native__WindowEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_WindowEventInfo);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	lime__internal_backend_native_WindowEventInfo_new(r2,r3,r4,r5,r6,r7,r8);
	r0->windowEventInfo = r2;
	r10 = (haxe__ds__List)hl_alloc_obj(&t$haxe_ds_List);
	haxe_ds_List_new(r10);
	r0->unusedTouchesPool = r10;
	r11 = (lime___internal__backend__native__TouchEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_TouchEventInfo);
	r3 = NULL;
	r12 = NULL;
	r13 = NULL;
	r4 = NULL;
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r5 = NULL;
	lime__internal_backend_native_TouchEventInfo_new(r11,r3,r12,r13,r4,r14,r15,r16,r5);
	r0->touchEventInfo = r11;
	r17 = (lime___internal__backend__native__TextEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_TextEventInfo);
	r3 = NULL;
	r4 = NULL;
	r18 = NULL;
	r5 = NULL;
	r6 = NULL;
	lime__internal_backend_native_TextEventInfo_new(r17,r3,r4,r18,r5,r6);
	r0->textEventInfo = r17;
	r19 = (lime___internal__backend__native__SensorEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_SensorEventInfo);
	r3 = NULL;
	r4 = NULL;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	lime__internal_backend_native_SensorEventInfo_new(r19,r3,r4,r12,r13,r14);
	r0->sensorEventInfo = r19;
	r20 = (lime___internal__backend__native__RenderEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_RenderEventInfo);
	r21 = 0;
	r3 = hl_alloc_dynamic(&t$_i32);
	r3->v.i = r21;
	lime__internal_backend_native_RenderEventInfo_new(r20,r3);
	r0->renderEventInfo = r20;
	r22 = (lime___internal__backend__native__MouseEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_MouseEventInfo);
	r3 = NULL;
	r4 = NULL;
	r12 = NULL;
	r13 = NULL;
	r5 = NULL;
	r14 = NULL;
	r15 = NULL;
	lime__internal_backend_native_MouseEventInfo_new(r22,r3,r4,r12,r13,r5,r14,r15);
	r0->mouseEventInfo = r22;
	r23 = (lime___internal__backend__native__KeyEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_KeyEventInfo);
	r3 = NULL;
	r4 = NULL;
	r12 = NULL;
	r5 = NULL;
	lime__internal_backend_native_KeyEventInfo_new(r23,r3,r4,r12,r5);
	r0->keyEventInfo = r23;
	r24 = (lime___internal__backend__native__JoystickEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_JoystickEventInfo);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r12 = NULL;
	r13 = NULL;
	lime__internal_backend_native_JoystickEventInfo_new(r24,r3,r4,r5,r6,r12,r13);
	r0->joystickEventInfo = r24;
	r25 = (lime___internal__backend__native__GamepadEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_GamepadEventInfo);
	r3 = NULL;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r12 = NULL;
	lime__internal_backend_native_GamepadEventInfo_new(r25,r3,r4,r5,r6,r12);
	r0->gamepadEventInfo = r25;
	r26 = (lime___internal__backend__native__DropEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_DropEventInfo);
	r3 = NULL;
	r18 = NULL;
	lime__internal_backend_native_DropEventInfo_new(r26,r3,r18);
	r0->dropEventInfo = r26;
	r27 = (haxe__ds__IntMap)hl_alloc_obj(&t$haxe_ds_IntMap);
	haxe_ds_IntMap_new(r27);
	r0->currentTouches = r27;
	r28 = (lime___internal__backend__native__ClipboardEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_ClipboardEventInfo);
	r3 = NULL;
	lime__internal_backend_native_ClipboardEventInfo_new(r28,r3);
	r0->clipboardEventInfo = r28;
	r29 = (lime___internal__backend__native__ApplicationEventInfo)hl_alloc_obj(&t$lime__internal_backend_native_ApplicationEventInfo);
	r21 = 0;
	r3 = hl_alloc_dynamic(&t$_i32);
	r3->v.i = r21;
	r4 = NULL;
	lime__internal_backend_native_ApplicationEventInfo_new(r29,r3,r4);
	r0->applicationEventInfo = r29;
	r0->parent = r1;
	r21 = -1;
	r0->pauseTimer = r21;
	r30 = true;
	r0->toggleFullscreen = r30;
	r31 = NULL;
	lime_media_AudioManager_init(r31);
	r32 = lime_hl_application_create();
	r0->handle = r32;
	return;
}

