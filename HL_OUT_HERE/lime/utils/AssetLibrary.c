// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <lime/utils/AssetLibrary.h>
vdynamic* haxe_ds_StringMap_get(haxe__ds__StringMap,String);
int String___compare(String,vdynamic*);
extern String s$SOUND;
extern String s$MUSIC;
extern String s$BINARY;
extern String s$TEXT;
lime__utils__AssetManifest lime_utils_AssetManifest_fromBytes(haxe__io__Bytes,String);
lime__utils__AssetLibrary lime_utils_AssetLibrary_fromManifest(lime__utils__AssetManifest);
lime__utils__AssetManifest lime_utils_AssetManifest_fromFile(String,String);
#include <hl/types/ArrayObj.h>
#include <hl/types/ArrayDyn.h>
extern String s$library_json;
bool haxe_ds_StringMap_exists(haxe__ds__StringMap,String);
extern hl_type t$lime_utils_AssetLibrary;
void lime_utils_AssetLibrary_new(lime__utils__AssetLibrary);
hl__Class Type_resolveClass(String);
extern hl_type t$hl_types_ArrayDyn;
extern hl_type t$hl_types_ArrayObj;
vdynamic* Type_createInstance(hl__Class,hl__types__ArrayDyn);
extern hl_type t$_dyn;
extern String s$Could_not_find_library_type_;
String String___add__(String,String);
extern hl_type t$vrt_329ffa8;
extern String s$lime_utils_AssetLibrary_hx;
extern hl_type t$String;
extern hl_type t$_i32;
extern String s$lime_utils_AssetLibrary;
extern String s$fromBundle;
extern hl_type t$vrt_eaa6a3b;
void lime_utils_Log_warn(vdynamic*,vvirtual*);
void lime_utils_AssetLibrary___fromBundle(lime__utils__AssetLibrary,lime__utils__AssetBundle,lime__utils__AssetManifest);
extern String s$fromManifest;
void lime_utils_AssetLibrary___fromManifest(lime__utils__AssetLibrary,lime__utils__AssetManifest);
#include <lime/text/Font.h>
#include <lime/graphics/Image.h>
#include <lime/media/AudioBuffer.h>
#include <hl/natives.h>
extern String s$Unknown_asset_type_;
extern String s$Not_sure_how_to_get_template_;
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
extern hl_type t$haxe_io_Bytes;
lime__media__AudioBuffer lime_media_AudioBuffer_fromBytes(haxe__io__Bytes);
lime__media__AudioBuffer lime_media_AudioBuffer_fromFile(String);
haxe__io__Bytes lime_utils__Bytes_Bytes_Impl__ofString(String);
void haxe_ds_StringMap_set(haxe__ds__StringMap,String,vdynamic*);
haxe__io__Bytes lime_utils__Bytes_Bytes_Impl__fromFile(String);
extern hl_type t$lime_text_Font;
lime__text__Font lime_text_Font_fromFile(String);
extern hl_type t$lime_graphics_Image;
lime__graphics__Image lime_graphics_Image_fromFile(String);
#include <haxe/io/Encoding.h>
String haxe_io_Bytes_getString(haxe__io__Bytes,int,int,venum*);
vvirtual* haxe_ds_StringMap_keys(haxe__ds__StringMap);
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_820f49a;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern String s$Not_sure_how_to_load_template_;
void lime_utils_AssetLibrary_load_onProgress(lime__utils__AssetLibrary,String,int,int);
void lime_utils_AssetLibrary_load_onError(lime__utils__AssetLibrary,String,vdynamic*);
void lime_utils_AssetLibrary_loadBytes_onComplete(lime__utils__AssetLibrary,String,haxe__io__Bytes);
void lime_utils_AssetLibrary_loadFont_onComplete(lime__utils__AssetLibrary,String,lime__text__Font);
void lime_utils_AssetLibrary_loadImage_onComplete(lime__utils__AssetLibrary,String,lime__graphics__Image);
void lime_utils_AssetLibrary_loadAudioBuffer_onError(lime__utils__AssetLibrary,String,vdynamic*);
void lime_utils_AssetLibrary_loadAudioBuffer_onComplete(lime__utils__AssetLibrary,String,lime__media__AudioBuffer);
void lime_utils_AssetLibrary_loadText_onComplete(lime__utils__AssetLibrary,String,String);
lime__app__Future lime_app_Future_withValue(vdynamic*);
extern hl_type t$lime_app_Promise;
void lime_app_Promise_new(lime__app__Promise);
extern hl_type t$haxe_ds_StringMap;
void haxe_ds_StringMap_new(haxe__ds__StringMap);
extern String s$Preloading_asset_;
extern String s$18782ee;
extern String s$0fbd177;
extern String s$load;
void lime_utils_Log_verbose(vdynamic*,vvirtual*);
extern hl_type t$ctx_485be7c;
extern hl_type t$fun_2fc6a3d;
lime__app__Future lime_app_Future_onProgress(lime__app__Future,vclosure*);
extern hl_type t$fun_9b58bf2;
lime__app__Future lime_app_Future_onError(lime__app__Future,vclosure*);
extern hl_type t$fun_b2d1bdd;
void wrapt$fun_b3252e9(vclosure*,vdynamic*);
extern hl_type t$fun_b3252e9;
lime__app__Future lime_app_Future_onComplete(lime__app__Future,vclosure*);
extern hl_type t$fun_e3f9f78;
void wrapt$fun_4b09458(vclosure*,vdynamic*);
extern hl_type t$fun_4b09458;
extern hl_type t$fun_acaa999;
void wrapt$fun_5573966(vclosure*,vdynamic*);
extern hl_type t$fun_5573966;
extern hl_type t$fun_eb6311b;
void wrapt$fun_c958060(vclosure*,vdynamic*);
extern hl_type t$fun_c958060;
extern hl_type t$fun_58e16b0;
void wrapt$fun_c8bb61c(vclosure*,vdynamic*);
extern hl_type t$fun_c8bb61c;
void lime_utils_AssetLibrary___assetLoaded(lime__utils__AssetLibrary,String);
lime__app__Future lime_media_AudioBuffer_loadFromFiles(hl__types__ArrayObj);
lime__app__Future lime_media_AudioBuffer_loadFromFile(String);
lime__app__Future lime_utils__Bytes_Bytes_Impl__loadFromFile(String);
lime__app__Future lime_text_Font_loadFromFile(String);
lime__app__Future lime_utils_AssetLibrary_loadFromBytes__$1(lime__utils__AssetManifest);
extern hl_type t$fun_1738327;
lime__app__Future lime_utils_AssetManifest_loadFromBytes(haxe__io__Bytes,String);
lime__app__Future wrapt$fun_70dd83e(vclosure*,vdynamic*);
extern hl_type t$fun_70dd83e;
lime__app__Future lime_app_Future_then(lime__app__Future,vclosure*);
lime__app__Future lime_utils_AssetLibrary_loadFromManifest(lime__utils__AssetManifest);
lime__app__Future lime_utils_AssetLibrary_loadFromFile__$1(lime__utils__AssetManifest);
lime__app__Future lime_utils_AssetManifest_loadFromFile(String,String);
extern String s$Could_not_load_asset_manifest;
lime__app__Future lime_app_Future_withError(vdynamic*);
bool haxe_ds_StringMap_remove(haxe__ds__StringMap,String);
lime__app__Future lime_graphics_Image_loadFromBytes(haxe__io__Bytes);
extern hl_type t$ctx_36c865f;
extern hl_type t$fun_7351d6d;
lime__app__Future wrapt$fun_8b3c6ac(vclosure*,vdynamic*);
extern hl_type t$fun_8b3c6ac;
lime__app__Future lime_graphics_Image_loadFromFile(String);
#include <lime/net/_HTTPRequest_String.h>
extern hl_type t$lime_net__HTTPRequest_String;
void lime_net__HTTPRequest_String_new(lime__net___HTTPRequest_String,String);
lime__app__Future lime_net__HTTPRequest_String_load(lime__net___HTTPRequest_String,String);
extern String s$Loaded_asset_;
extern String s$9054416;
String String___alloc__(vbyte*,int);
extern String s$6666cd7;
extern String s$9371d7a;
extern String s$__assetLoaded;
lime__app__Promise lime_app_Promise_progress(lime__app__Promise,int,int);
lime__app__Promise lime_app_Promise_complete(lime__app__Promise,vdynamic*);
String lime_utils_Assets___cacheBreak(String);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
extern String s$id;
bool Reflect_hasField(vdynamic*,String);
extern String s$type;
lime__text__Font lime_text_Font_fromBytes(haxe__io__Bytes);
lime__graphics__Image lime_graphics_Image_fromBytes(haxe__io__Bytes);
String Std_string(vdynamic*);
extern String s$;
extern String s$size;
extern String s$path;
vdynamic* Reflect_field(vdynamic*,String);
String lime_utils_AssetLibrary___resolvePath(lime__utils__AssetLibrary,String);
extern String s$pathGroup;
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
extern String s$preload;
extern hl_type t$_bool;
extern String s$className;
extern String s$28d397e;
String StringTools_replace(String,String,String);
extern String s$853ae90;
int String_indexOf(String,String,vdynamic*);
extern String s$http;
bool StringTools_startsWith(String,String);
String String_substr(String,int,vdynamic*);
extern String s$7bc0ee6;
extern String s$0374ec8;
hl__types__ArrayObj String_split(String,String);
extern String s$58b9e70;
vdynamic* hl_types_ArrayObj_pop(hl__types__ArrayObj);
extern String s$5058f1a;
String hl_types_ArrayObj_join(hl__types__ArrayObj,String);
int hl_types_ArrayObj_indexOf(hl__types__ArrayObj,vdynamic*,vdynamic*);
extern String s$Error_loading_asset_;
extern String s$6f0faf3;
lime__app__Promise lime_app_Promise_error(lime__app__Promise,vdynamic*);
extern String s$b15835f;
extern hl_type t$lime_app__Event_Void_Void;
void lime_app__Event_Void_Void_new(lime__app___Event_Void_Void);

bool lime_utils_AssetLibrary_exists(lime__utils__AssetLibrary r0,String r1,String r2) {
	String r3, r6, r7;
	haxe__ds__StringMap r5;
	bool r8;
	vdynamic *r4;
	if( !r2 ) goto label$6cabee6_1_3;
	r3 = r2;
	goto label$6cabee6_1_4;
	label$6cabee6_1_3:
	r3 = NULL;
	label$6cabee6_1_4:
	r5 = r0->types;
	if( r5 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r5,r1);
	r6 = (String)r4;
	if( !r6 ) goto label$6cabee6_1_29;
	if( r6 == r3 || (r6 && r3 && String___compare(r6,(vdynamic*)r3) == 0) ) goto label$6cabee6_1_18;
	r7 = (String)s$SOUND;
	if( r3 == r7 || (r3 && r7 && String___compare(r3,(vdynamic*)r7) == 0) ) goto label$6cabee6_1_14;
	r7 = (String)s$MUSIC;
	if( r3 != r7 && (!r3 || !r7 || String___compare(r3,(vdynamic*)r7) != 0) ) goto label$6cabee6_1_20;
	label$6cabee6_1_14:
	r7 = (String)s$MUSIC;
	if( r6 == r7 || (r6 && r7 && String___compare(r6,(vdynamic*)r7) == 0) ) goto label$6cabee6_1_18;
	r7 = (String)s$SOUND;
	if( r6 != r7 && (!r6 || !r7 || String___compare(r6,(vdynamic*)r7) != 0) ) goto label$6cabee6_1_20;
	label$6cabee6_1_18:
	r8 = true;
	return r8;
	label$6cabee6_1_20:
	r7 = (String)s$BINARY;
	if( r3 == r7 || (r3 && r7 && String___compare(r3,(vdynamic*)r7) == 0) ) goto label$6cabee6_1_27;
	if( !r3 ) goto label$6cabee6_1_27;
	r7 = (String)s$BINARY;
	if( r6 != r7 && (!r6 || !r7 || String___compare(r6,(vdynamic*)r7) != 0) ) goto label$6cabee6_1_29;
	r7 = (String)s$TEXT;
	if( r3 != r7 && (!r3 || !r7 || String___compare(r3,(vdynamic*)r7) != 0) ) goto label$6cabee6_1_29;
	label$6cabee6_1_27:
	r8 = true;
	return r8;
	label$6cabee6_1_29:
	r8 = false;
	return r8;
}

lime__utils__AssetLibrary lime_utils_AssetLibrary_fromBytes(haxe__io__Bytes r0,String r1) {
	lime__utils__AssetManifest r3;
	lime__utils__AssetLibrary r2;
	r3 = lime_utils_AssetManifest_fromBytes(r0,r1);
	r2 = lime_utils_AssetLibrary_fromManifest(r3);
	return r2;
}

lime__utils__AssetLibrary lime_utils_AssetLibrary_fromFile(String r0,String r1) {
	lime__utils__AssetManifest r3;
	lime__utils__AssetLibrary r2;
	r3 = lime_utils_AssetManifest_fromFile(r0,r1);
	r2 = lime_utils_AssetLibrary_fromManifest(r3);
	return r2;
}

lime__utils__AssetLibrary lime_utils_AssetLibrary_fromBundle(lime__utils__AssetBundle r0) {
	String r4, r13;
	hl__Class r10;
	vvirtual *r14, *r16;
	hl__types__ArrayObj r11;
	haxe__ds__StringMap r3;
	haxe__io__Bytes r7;
	bool r2;
	lime__utils__AssetManifest r5;
	hl__types__ArrayDyn r12;
	lime__utils__AssetLibrary r8, r9;
	vdynamic *r6;
	int r15;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->data;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)s$library_json;
	r2 = haxe_ds_StringMap_exists(r3,r4);
	if( !r2 ) goto label$6cabee6_4_49;
	r3 = r0->data;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)s$library_json;
	r6 = haxe_ds_StringMap_get(r3,r4);
	r7 = (haxe__io__Bytes)r6;
	r4 = NULL;
	r5 = lime_utils_AssetManifest_fromBytes(r7,r4);
	if( !r5 ) goto label$6cabee6_4_48;
	r8 = NULL;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->libraryType;
	if( r4 ) goto label$6cabee6_4_21;
	r9 = (lime__utils__AssetLibrary)hl_alloc_obj(&t$lime_utils_AssetLibrary);
	lime_utils_AssetLibrary_new(r9);
	goto label$6cabee6_4_45;
	label$6cabee6_4_21:
	r4 = r5->libraryType;
	r10 = Type_resolveClass(r4);
	if( !r10 ) goto label$6cabee6_4_29;
	r11 = r5->libraryArgs;
	r12 = (hl__types__ArrayDyn)hl_dyn_castp(&r11,&t$hl_types_ArrayObj,&t$hl_types_ArrayDyn);
	r6 = Type_createInstance(r10,r12);
	r9 = (lime__utils__AssetLibrary)hl_dyn_castp(&r6,&t$_dyn,&t$lime_utils_AssetLibrary);
	goto label$6cabee6_4_45;
	label$6cabee6_4_29:
	r4 = (String)s$Could_not_find_library_type_;
	r13 = r5->libraryType;
	r4 = String___add__(r4,r13);
	r14 = hl_alloc_virtual(&t$vrt_329ffa8);
	r13 = (String)s$lime_utils_AssetLibrary_hx;
	if( hl_vfields(r14)[1] ) *(String*)(hl_vfields(r14)[1]) = (String)r13; else hl_dyn_setp(r14->value,37969014/*fileName*/,&t$String,r13);
	r15 = 122;
	if( hl_vfields(r14)[2] ) *(int*)(hl_vfields(r14)[2]) = (int)r15; else hl_dyn_seti(r14->value,371360620/*lineNumber*/,&t$_i32,r15);
	r13 = (String)s$lime_utils_AssetLibrary;
	if( hl_vfields(r14)[0] ) *(String*)(hl_vfields(r14)[0]) = (String)r13; else hl_dyn_setp(r14->value,-63073762/*className*/,&t$String,r13);
	r13 = (String)s$fromBundle;
	if( hl_vfields(r14)[3] ) *(String*)(hl_vfields(r14)[3]) = (String)r13; else hl_dyn_setp(r14->value,302979532/*methodName*/,&t$String,r13);
	r16 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r14);
	lime_utils_Log_warn(((vdynamic*)r4),r16);
	r9 = NULL;
	return r9;
	label$6cabee6_4_45:
	if( r9 == NULL ) hl_null_access();
	lime_utils_AssetLibrary___fromBundle(r9,r0,r5);
	return r9;
	label$6cabee6_4_48:
	goto label$6cabee6_4_54;
	label$6cabee6_4_49:
	r8 = (lime__utils__AssetLibrary)hl_alloc_obj(&t$lime_utils_AssetLibrary);
	lime_utils_AssetLibrary_new(r8);
	r5 = NULL;
	lime_utils_AssetLibrary___fromBundle(r8,r0,r5);
	return r8;
	label$6cabee6_4_54:
	r8 = NULL;
	return r8;
}

lime__utils__AssetLibrary lime_utils_AssetLibrary_fromManifest(lime__utils__AssetManifest r0) {
	String r4, r9;
	hl__Class r6;
	vvirtual *r10, *r12;
	hl__types__ArrayObj r7;
	hl__types__ArrayDyn r8;
	lime__utils__AssetLibrary r2, r5;
	vdynamic *r3;
	int r11;
	if( r0 ) goto label$6cabee6_5_3;
	r2 = NULL;
	return r2;
	label$6cabee6_5_3:
	r2 = NULL;
	if( r0 == NULL ) hl_null_access();
	r4 = r0->libraryType;
	if( r4 ) goto label$6cabee6_5_10;
	r5 = (lime__utils__AssetLibrary)hl_alloc_obj(&t$lime_utils_AssetLibrary);
	lime_utils_AssetLibrary_new(r5);
	goto label$6cabee6_5_34;
	label$6cabee6_5_10:
	r4 = r0->libraryType;
	r6 = Type_resolveClass(r4);
	if( !r6 ) goto label$6cabee6_5_18;
	r7 = r0->libraryArgs;
	r8 = (hl__types__ArrayDyn)hl_dyn_castp(&r7,&t$hl_types_ArrayObj,&t$hl_types_ArrayDyn);
	r3 = Type_createInstance(r6,r8);
	r5 = (lime__utils__AssetLibrary)hl_dyn_castp(&r3,&t$_dyn,&t$lime_utils_AssetLibrary);
	goto label$6cabee6_5_34;
	label$6cabee6_5_18:
	r4 = (String)s$Could_not_find_library_type_;
	r9 = r0->libraryType;
	r4 = String___add__(r4,r9);
	r10 = hl_alloc_virtual(&t$vrt_329ffa8);
	r9 = (String)s$lime_utils_AssetLibrary_hx;
	if( hl_vfields(r10)[1] ) *(String*)(hl_vfields(r10)[1]) = (String)r9; else hl_dyn_setp(r10->value,37969014/*fileName*/,&t$String,r9);
	r11 = 160;
	if( hl_vfields(r10)[2] ) *(int*)(hl_vfields(r10)[2]) = (int)r11; else hl_dyn_seti(r10->value,371360620/*lineNumber*/,&t$_i32,r11);
	r9 = (String)s$lime_utils_AssetLibrary;
	if( hl_vfields(r10)[0] ) *(String*)(hl_vfields(r10)[0]) = (String)r9; else hl_dyn_setp(r10->value,-63073762/*className*/,&t$String,r9);
	r9 = (String)s$fromManifest;
	if( hl_vfields(r10)[3] ) *(String*)(hl_vfields(r10)[3]) = (String)r9; else hl_dyn_setp(r10->value,302979532/*methodName*/,&t$String,r9);
	r12 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r10);
	lime_utils_Log_warn(((vdynamic*)r4),r12);
	r5 = NULL;
	return r5;
	label$6cabee6_5_34:
	if( r5 == NULL ) hl_null_access();
	lime_utils_AssetLibrary___fromManifest(r5,r0);
	return r5;
}

vdynamic* lime_utils_AssetLibrary_getAsset(lime__utils__AssetLibrary r0,String r1,String r2) {
	lime__graphics__Image r10;
	lime__text__Font r9;
	String r3;
	lime__media__AudioBuffer r11;
	haxe__io__Bytes r8;
	vbyte *r6, *r7;
	int r4, r5;
	if( !r2 ) goto label$6cabee6_6_9;
	r4 = r2->length;
	r5 = 6;
	if( r4 != r5 ) goto label$6cabee6_6_9;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("BINARY");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_66;
	label$6cabee6_6_9:
	if( !r2 ) goto label$6cabee6_6_18;
	r4 = r2->length;
	r5 = 4;
	if( r4 != r5 ) goto label$6cabee6_6_18;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("FONT");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_68;
	label$6cabee6_6_18:
	if( !r2 ) goto label$6cabee6_6_27;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_6_27;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("IMAGE");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_70;
	label$6cabee6_6_27:
	if( !r2 ) goto label$6cabee6_6_36;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_6_36;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("MUSIC");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_72;
	label$6cabee6_6_36:
	if( !r2 ) goto label$6cabee6_6_45;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_6_45;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("SOUND");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_72;
	label$6cabee6_6_45:
	if( !r2 ) goto label$6cabee6_6_54;
	r4 = r2->length;
	r5 = 8;
	if( r4 != r5 ) goto label$6cabee6_6_54;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("TEMPLATE");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_74;
	label$6cabee6_6_54:
	if( !r2 ) goto label$6cabee6_6_63;
	r4 = r2->length;
	r5 = 4;
	if( r4 != r5 ) goto label$6cabee6_6_63;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("TEXT");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_6_77;
	label$6cabee6_6_63:
	r3 = (String)s$Unknown_asset_type_;
	r3 = String___add__(r3,r2);
	hl_throw((vdynamic*)r3);
	label$6cabee6_6_66:
	r8 = ((haxe__io__Bytes (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[3])(r0,r1);
	return ((vdynamic*)r8);
	label$6cabee6_6_68:
	r9 = ((lime__text__Font (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[4])(r0,r1);
	return ((vdynamic*)r9);
	label$6cabee6_6_70:
	r10 = ((lime__graphics__Image (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[5])(r0,r1);
	return ((vdynamic*)r10);
	label$6cabee6_6_72:
	r11 = ((lime__media__AudioBuffer (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[2])(r0,r1);
	return ((vdynamic*)r11);
	label$6cabee6_6_74:
	r3 = (String)s$Not_sure_how_to_get_template_;
	r3 = String___add__(r3,r1);
	hl_throw((vdynamic*)r3);
	label$6cabee6_6_77:
	r3 = ((String (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[7])(r0,r1);
	return ((vdynamic*)r3);
}

lime__media__AudioBuffer lime_utils_AssetLibrary_getAudioBuffer(lime__utils__AssetLibrary r0,String r1) {
	bool *r13;
	String r4;
	hl__Class r7;
	lime__media__AudioBuffer r6;
	hl__types__ArrayObj r12;
	haxe__ds__StringMap r3;
	hl_type *r10;
	haxe__io__Bytes r14;
	bool r2;
	hl__types__ArrayDyn r8;
	vdynamic *r5;
	int r11;
	varray *r9;
	r3 = r0->cachedAudioBuffers;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_7_9;
	r3 = r0->cachedAudioBuffers;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r6 = (lime__media__AudioBuffer)r5;
	return r6;
	label$6cabee6_7_9:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_7_28;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r7 = (hl__Class)r5;
	r10 = &t$_dyn;
	r11 = 0;
	r9 = hl_alloc_array(r10,r11);
	r12 = hl_types_ArrayObj_alloc(r9);
	r2 = true;
	r13 = &r2;
	r8 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r12),r13);
	r5 = Type_createInstance(r7,r8);
	r14 = (haxe__io__Bytes)hl_dyn_castp(&r5,&t$_dyn,&t$haxe_io_Bytes);
	r6 = lime_media_AudioBuffer_fromBytes(r14);
	return r6;
	label$6cabee6_7_28:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r5;
	r6 = lime_media_AudioBuffer_fromFile(r4);
	return r6;
}

haxe__io__Bytes lime_utils_AssetLibrary_getBytes(lime__utils__AssetLibrary r0,String r1) {
	bool *r14;
	String r5;
	hl__Class r8;
	hl__types__ArrayObj r13;
	haxe__ds__StringMap r4;
	hl_type *r11;
	haxe__io__Bytes r7;
	bool r3;
	hl__types__ArrayDyn r9;
	vdynamic *r6;
	int r12;
	varray *r10;
	r4 = r0->cachedBytes;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( !r3 ) goto label$6cabee6_8_9;
	r4 = r0->cachedBytes;
	if( r4 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r4,r1);
	r7 = (haxe__io__Bytes)r6;
	return r7;
	label$6cabee6_8_9:
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( !r3 ) goto label$6cabee6_8_22;
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r4,r1);
	r5 = (String)r6;
	r7 = lime_utils__Bytes_Bytes_Impl__ofString(r5);
	r4 = r0->cachedBytes;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r7));
	return r7;
	label$6cabee6_8_22:
	r4 = r0->classTypes;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( !r3 ) goto label$6cabee6_8_40;
	r4 = r0->classTypes;
	if( r4 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r4,r1);
	r8 = (hl__Class)r6;
	r11 = &t$_dyn;
	r12 = 0;
	r10 = hl_alloc_array(r11,r12);
	r13 = hl_types_ArrayObj_alloc(r10);
	r3 = true;
	r14 = &r3;
	r9 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r13),r14);
	r6 = Type_createInstance(r8,r9);
	r7 = (haxe__io__Bytes)hl_dyn_castp(&r6,&t$_dyn,&t$haxe_io_Bytes);
	return r7;
	label$6cabee6_8_40:
	r4 = r0->paths;
	if( r4 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r4,r1);
	r5 = (String)r6;
	r7 = lime_utils__Bytes_Bytes_Impl__fromFile(r5);
	return r7;
}

lime__text__Font lime_utils_AssetLibrary_getFont(lime__utils__AssetLibrary r0,String r1) {
	bool *r13;
	lime__text__Font r6;
	String r4;
	hl__Class r7;
	hl__types__ArrayObj r12;
	haxe__ds__StringMap r3;
	hl_type *r10;
	bool r2;
	hl__types__ArrayDyn r8;
	vdynamic *r5;
	int r11;
	varray *r9;
	r3 = r0->cachedFonts;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_9_9;
	r3 = r0->cachedFonts;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r6 = (lime__text__Font)r5;
	return r6;
	label$6cabee6_9_9:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_9_27;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r7 = (hl__Class)r5;
	r10 = &t$_dyn;
	r11 = 0;
	r9 = hl_alloc_array(r10,r11);
	r12 = hl_types_ArrayObj_alloc(r9);
	r2 = true;
	r13 = &r2;
	r8 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r12),r13);
	r5 = Type_createInstance(r7,r8);
	r6 = (lime__text__Font)hl_dyn_castp(&r5,&t$_dyn,&t$lime_text_Font);
	return r6;
	label$6cabee6_9_27:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r5;
	r6 = lime_text_Font_fromFile(r4);
	return r6;
}

lime__graphics__Image lime_utils_AssetLibrary_getImage(lime__utils__AssetLibrary r0,String r1) {
	bool *r13;
	lime__graphics__Image r6;
	String r4;
	hl__Class r7;
	hl__types__ArrayObj r12;
	haxe__ds__StringMap r3;
	hl_type *r10;
	bool r2;
	hl__types__ArrayDyn r8;
	vdynamic *r5;
	int r11;
	varray *r9;
	r3 = r0->cachedImages;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_10_9;
	r3 = r0->cachedImages;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r6 = (lime__graphics__Image)r5;
	return r6;
	label$6cabee6_10_9:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_10_27;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r7 = (hl__Class)r5;
	r10 = &t$_dyn;
	r11 = 0;
	r9 = hl_alloc_array(r10,r11);
	r12 = hl_types_ArrayObj_alloc(r9);
	r2 = true;
	r13 = &r2;
	r8 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r12),r13);
	r5 = Type_createInstance(r7,r8);
	r6 = (lime__graphics__Image)hl_dyn_castp(&r5,&t$_dyn,&t$lime_graphics_Image);
	return r6;
	label$6cabee6_10_27:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r5;
	r6 = lime_graphics_Image_fromFile(r4);
	return r6;
}

String lime_utils_AssetLibrary_getPath(lime__utils__AssetLibrary r0,String r1) {
	String r4;
	hl__types__ArrayObj r6;
	haxe__ds__StringMap r3;
	bool r2;
	vdynamic *r5;
	varray *r9;
	int r7, r8;
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_11_9;
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r5;
	return r4;
	label$6cabee6_11_9:
	r3 = r0->pathGroups;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_11_27;
	r3 = r0->pathGroups;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r6 = (hl__types__ArrayObj)hl_dyn_castp(&r5,&t$_dyn,&t$hl_types_ArrayObj);
	if( r6 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r6->length;
	if( ((unsigned)r7) < ((unsigned)r8) ) goto label$6cabee6_11_23;
	r4 = NULL;
	goto label$6cabee6_11_26;
	label$6cabee6_11_23:
	r9 = r6->array;
	r5 = ((vdynamic**)(r9 + 1))[r7];
	r4 = (String)r5;
	label$6cabee6_11_26:
	return r4;
	label$6cabee6_11_27:
	r4 = NULL;
	return r4;
}

String lime_utils_AssetLibrary_getText(lime__utils__AssetLibrary r0,String r1) {
	String r4;
	haxe__ds__StringMap r3;
	venum *r9;
	haxe__io__Bytes r6;
	bool r2;
	vdynamic *r5;
	int r7, r8;
	r3 = r0->cachedText;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_12_9;
	r3 = r0->cachedText;
	if( r3 == NULL ) hl_null_access();
	r5 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r5;
	return r4;
	label$6cabee6_12_9:
	r6 = ((haxe__io__Bytes (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[3])(r0,r1);
	if( r6 ) goto label$6cabee6_12_13;
	r4 = NULL;
	return r4;
	label$6cabee6_12_13:
	if( r6 == NULL ) hl_null_access();
	r7 = 0;
	r8 = r6->length;
	r9 = NULL;
	r4 = haxe_io_Bytes_getString(r6,r7,r8,r9);
	return r4;
}

bool lime_utils_AssetLibrary_isLocal(lime__utils__AssetLibrary r0,String r1,String r2) {
	bool r3;
	r3 = true;
	return r3;
}

hl__types__ArrayObj lime_utils_AssetLibrary_list(lime__utils__AssetLibrary r0,String r1) {
	String r2, r10;
	haxe__ds__StringMap r8;
	vvirtual *r7;
	hl__types__ArrayObj r3;
	hl_type *r5;
	bool r9;
	int r6;
	varray *r4;
	if( !r1 ) goto label$6cabee6_14_3;
	r2 = r1;
	goto label$6cabee6_14_4;
	label$6cabee6_14_3:
	r2 = NULL;
	label$6cabee6_14_4:
	r5 = &t$String;
	r6 = 0;
	r4 = hl_alloc_array(r5,r6);
	r3 = hl_types_ArrayObj_alloc(r4);
	r8 = r0->types;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_keys(r8);
	label$6cabee6_14_11:
	if( r7 == NULL ) hl_null_access();
	if( hl_vfields(r7)[0] ) r9 = ((bool (*)(vdynamic*))hl_vfields(r7)[0])(r7->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r7->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r9 = (bool)ret.v.i;
	}
	if( !r9 ) goto label$6cabee6_14_22;
	if( hl_vfields(r7)[1] ) r10 = ((String (*)(vdynamic*))hl_vfields(r7)[1])(r7->value); else {
		r10 = (String)hl_dyn_call_obj(r7->value,&t$fun_820f49a,151160317/*next*/,NULL,NULL);
	}
	if( !r2 ) goto label$6cabee6_14_19;
	r9 = ((bool (*)(lime__utils__AssetLibrary,String,String))r0->$type->vobj_proto[0])(r0,r10,r1);
	if( !r9 ) goto label$6cabee6_14_21;
	label$6cabee6_14_19:
	if( r3 == NULL ) hl_null_access();
	r6 = hl_types_ArrayObj_push(r3,((vdynamic*)r10));
	label$6cabee6_14_21:
	goto label$6cabee6_14_11;
	label$6cabee6_14_22:
	return r3;
}

lime__app__Future lime_utils_AssetLibrary_loadAsset(lime__utils__AssetLibrary r0,String r1,String r2) {
	String r3;
	lime__app__Future r8;
	vbyte *r6, *r7;
	int r4, r5;
	if( !r2 ) goto label$6cabee6_15_9;
	r4 = r2->length;
	r5 = 6;
	if( r4 != r5 ) goto label$6cabee6_15_9;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("BINARY");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_66;
	label$6cabee6_15_9:
	if( !r2 ) goto label$6cabee6_15_18;
	r4 = r2->length;
	r5 = 4;
	if( r4 != r5 ) goto label$6cabee6_15_18;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("FONT");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_68;
	label$6cabee6_15_18:
	if( !r2 ) goto label$6cabee6_15_27;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_15_27;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("IMAGE");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_70;
	label$6cabee6_15_27:
	if( !r2 ) goto label$6cabee6_15_36;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_15_36;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("MUSIC");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_72;
	label$6cabee6_15_36:
	if( !r2 ) goto label$6cabee6_15_45;
	r4 = r2->length;
	r5 = 5;
	if( r4 != r5 ) goto label$6cabee6_15_45;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("SOUND");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_72;
	label$6cabee6_15_45:
	if( !r2 ) goto label$6cabee6_15_54;
	r4 = r2->length;
	r5 = 8;
	if( r4 != r5 ) goto label$6cabee6_15_54;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("TEMPLATE");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_74;
	label$6cabee6_15_54:
	if( !r2 ) goto label$6cabee6_15_63;
	r4 = r2->length;
	r5 = 4;
	if( r4 != r5 ) goto label$6cabee6_15_63;
	r6 = r2->bytes;
	r7 = (vbyte*)USTR("TEXT");
	r4 = hl_string_compare(r6,r7,r4);
	r5 = 0;
	if( r4 == r5 ) goto label$6cabee6_15_77;
	label$6cabee6_15_63:
	r3 = (String)s$Unknown_asset_type_;
	r3 = String___add__(r3,r2);
	hl_throw((vdynamic*)r3);
	label$6cabee6_15_66:
	r8 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[13])(r0,r1);
	return r8;
	label$6cabee6_15_68:
	r8 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[14])(r0,r1);
	return r8;
	label$6cabee6_15_70:
	r8 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[15])(r0,r1);
	return r8;
	label$6cabee6_15_72:
	r8 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[12])(r0,r1);
	return r8;
	label$6cabee6_15_74:
	r3 = (String)s$Not_sure_how_to_load_template_;
	r3 = String___add__(r3,r1);
	hl_throw((vdynamic*)r3);
	label$6cabee6_15_77:
	r8 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[16])(r0,r1);
	return r8;
}

void lime_utils_AssetLibrary_load__$1(venum* r0,int r1,int r2) {
	String r5;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onProgress(r4,r5,r1,r2);
	return;
}

void lime_utils_AssetLibrary_load__$2(venum* r0,vdynamic* r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onError(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$3(venum* r0,haxe__io__Bytes r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadBytes_onComplete(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$4(venum* r0,int r1,int r2) {
	String r5;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onProgress(r4,r5,r1,r2);
	return;
}

void lime_utils_AssetLibrary_load__$5(venum* r0,vdynamic* r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onError(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$6(venum* r0,lime__text__Font r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadFont_onComplete(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$7(venum* r0,int r1,int r2) {
	String r5;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onProgress(r4,r5,r1,r2);
	return;
}

void lime_utils_AssetLibrary_load__$8(venum* r0,vdynamic* r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onError(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$9(venum* r0,lime__graphics__Image r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadImage_onComplete(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$10(venum* r0,int r1,int r2) {
	String r5;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onProgress(r4,r5,r1,r2);
	return;
}

void lime_utils_AssetLibrary_load__$11(venum* r0,vdynamic* r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadAudioBuffer_onError(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$12(venum* r0,lime__media__AudioBuffer r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadAudioBuffer_onComplete(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$13(venum* r0,int r1,int r2) {
	String r5;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r4 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onProgress(r4,r5,r1,r2);
	return;
}

void lime_utils_AssetLibrary_load__$14(venum* r0,vdynamic* r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_load_onError(r3,r4,r1);
	return;
}

void lime_utils_AssetLibrary_load__$15(venum* r0,String r1) {
	String r4;
	lime__utils__AssetLibrary r3;
	r3 = ((Enumt$ctx_485be7c*)r0)->p0;
	if( r3 == NULL ) hl_null_access();
	r4 = ((Enumt$ctx_485be7c*)r0)->p1;
	lime_utils_AssetLibrary_loadText_onComplete(r3,r4,r1);
	return;
}

lime__app__Future lime_utils_AssetLibrary_load(lime__utils__AssetLibrary r0) {
	String r9, r10, r12;
	vvirtual *r8, *r13, *r14;
	haxe__ds__StringMap r6;
	venum *r20;
	bool r2;
	lime__app__Future r3, r18;
	lime__app__Promise r5;
	vclosure *r19, *r21, *r22, *r23, *r24, *r25, *r26;
	vdynamic *r4, *r11;
	vbyte *r16, *r17;
	int r7, r15;
	r2 = r0->loaded;
	if( !r2 ) goto label$6cabee6_31_4;
	r3 = lime_app_Future_withValue(((vdynamic*)r0));
	return r3;
	label$6cabee6_31_4:
	r5 = r0->promise;
	if( r5 ) goto label$6cabee6_31_240;
	r5 = (lime__app__Promise)hl_alloc_obj(&t$lime_app_Promise);
	lime_app_Promise_new(r5);
	r0->promise = r5;
	r6 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r6);
	r0->bytesLoadedCache = r6;
	r7 = 0;
	r0->assetsLoaded = r7;
	r7 = 1;
	r0->assetsTotal = r7;
	r6 = r0->preload;
	if( r6 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_keys(r6);
	label$6cabee6_31_19:
	if( r8 == NULL ) hl_null_access();
	if( hl_vfields(r8)[0] ) r2 = ((bool (*)(vdynamic*))hl_vfields(r8)[0])(r8->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r8->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r2 = (bool)ret.v.i;
	}
	if( !r2 ) goto label$6cabee6_31_238;
	if( hl_vfields(r8)[1] ) r9 = ((String (*)(vdynamic*))hl_vfields(r8)[1])(r8->value); else {
		r9 = (String)hl_dyn_call_obj(r8->value,&t$fun_820f49a,151160317/*next*/,NULL,NULL);
	}
	r6 = r0->preload;
	if( r6 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r6,r9);
	r11 = (vdynamic*)r4;
	r2 = r11 ? r11->v.b : 0;
	if( r2 ) goto label$6cabee6_31_31;
	goto label$6cabee6_31_19;
	label$6cabee6_31_31:
	r10 = (String)s$Preloading_asset_;
	r10 = String___add__(r10,r9);
	r12 = (String)s$18782ee;
	r10 = String___add__(r10,r12);
	r6 = r0->types;
	if( r6 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r6,r9);
	r12 = (String)r4;
	r10 = String___add__(r10,r12);
	r12 = (String)s$0fbd177;
	r10 = String___add__(r10,r12);
	r13 = hl_alloc_virtual(&t$vrt_329ffa8);
	r12 = (String)s$lime_utils_AssetLibrary_hx;
	if( hl_vfields(r13)[1] ) *(String*)(hl_vfields(r13)[1]) = (String)r12; else hl_dyn_setp(r13->value,37969014/*fileName*/,&t$String,r12);
	r7 = 408;
	if( hl_vfields(r13)[2] ) *(int*)(hl_vfields(r13)[2]) = (int)r7; else hl_dyn_seti(r13->value,371360620/*lineNumber*/,&t$_i32,r7);
	r12 = (String)s$lime_utils_AssetLibrary;
	if( hl_vfields(r13)[0] ) *(String*)(hl_vfields(r13)[0]) = (String)r12; else hl_dyn_setp(r13->value,-63073762/*className*/,&t$String,r12);
	r12 = (String)s$load;
	if( hl_vfields(r13)[3] ) *(String*)(hl_vfields(r13)[3]) = (String)r12; else hl_dyn_setp(r13->value,302979532/*methodName*/,&t$String,r12);
	r14 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r13);
	lime_utils_Log_verbose(((vdynamic*)r10),r14);
	r6 = r0->types;
	if( r6 == NULL ) hl_null_access();
	r4 = haxe_ds_StringMap_get(r6,r9);
	r10 = (String)r4;
	if( !r10 ) goto label$6cabee6_31_237;
	if( !r10 ) goto label$6cabee6_31_67;
	r7 = r10->length;
	r15 = 6;
	if( r7 != r15 ) goto label$6cabee6_31_67;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("BINARY");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_113;
	label$6cabee6_31_67:
	if( !r10 ) goto label$6cabee6_31_76;
	r7 = r10->length;
	r15 = 4;
	if( r7 != r15 ) goto label$6cabee6_31_76;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("FONT");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_138;
	label$6cabee6_31_76:
	if( !r10 ) goto label$6cabee6_31_85;
	r7 = r10->length;
	r15 = 5;
	if( r7 != r15 ) goto label$6cabee6_31_85;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("IMAGE");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_163;
	label$6cabee6_31_85:
	if( !r10 ) goto label$6cabee6_31_94;
	r7 = r10->length;
	r15 = 5;
	if( r7 != r15 ) goto label$6cabee6_31_94;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("MUSIC");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_188;
	label$6cabee6_31_94:
	if( !r10 ) goto label$6cabee6_31_103;
	r7 = r10->length;
	r15 = 5;
	if( r7 != r15 ) goto label$6cabee6_31_103;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("SOUND");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_188;
	label$6cabee6_31_103:
	if( !r10 ) goto label$6cabee6_31_112;
	r7 = r10->length;
	r15 = 4;
	if( r7 != r15 ) goto label$6cabee6_31_112;
	r16 = r10->bytes;
	r17 = (vbyte*)USTR("TEXT");
	r7 = hl_string_compare(r16,r17,r7);
	r15 = 0;
	if( r7 == r15 ) goto label$6cabee6_31_213;
	label$6cabee6_31_112:
	goto label$6cabee6_31_237;
	label$6cabee6_31_113:
	r7 = r0->assetsTotal;
	++r7;
	r0->assetsTotal = r7;
	r3 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[13])(r0,r9);
	if( r3 == NULL ) hl_null_access();
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r19 = hl_alloc_closure_ptr(&t$fun_2fc6a3d,lime_utils_AssetLibrary_load__$1,r20);
	r18 = lime_app_Future_onProgress(r3,r19);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r21 = hl_alloc_closure_ptr(&t$fun_9b58bf2,lime_utils_AssetLibrary_load__$2,r20);
	r18 = lime_app_Future_onError(r3,r21);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r22 = hl_alloc_closure_ptr(&t$fun_b2d1bdd,lime_utils_AssetLibrary_load__$3,r20);
	if( r22 ) goto label$6cabee6_31_135;
	r21 = NULL;
	goto label$6cabee6_31_136;
	label$6cabee6_31_135:
	r21 = hl_alloc_closure_ptr(&t$fun_b3252e9,wrapt$fun_b3252e9,r22);
	label$6cabee6_31_136:
	r18 = lime_app_Future_onComplete(r3,r21);
	goto label$6cabee6_31_237;
	label$6cabee6_31_138:
	r7 = r0->assetsTotal;
	++r7;
	r0->assetsTotal = r7;
	r3 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[14])(r0,r9);
	if( r3 == NULL ) hl_null_access();
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r19 = hl_alloc_closure_ptr(&t$fun_2fc6a3d,lime_utils_AssetLibrary_load__$4,r20);
	r18 = lime_app_Future_onProgress(r3,r19);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r21 = hl_alloc_closure_ptr(&t$fun_9b58bf2,lime_utils_AssetLibrary_load__$5,r20);
	r18 = lime_app_Future_onError(r3,r21);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r23 = hl_alloc_closure_ptr(&t$fun_e3f9f78,lime_utils_AssetLibrary_load__$6,r20);
	if( r23 ) goto label$6cabee6_31_160;
	r21 = NULL;
	goto label$6cabee6_31_161;
	label$6cabee6_31_160:
	r21 = hl_alloc_closure_ptr(&t$fun_4b09458,wrapt$fun_4b09458,r23);
	label$6cabee6_31_161:
	r18 = lime_app_Future_onComplete(r3,r21);
	goto label$6cabee6_31_237;
	label$6cabee6_31_163:
	r7 = r0->assetsTotal;
	++r7;
	r0->assetsTotal = r7;
	r3 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[15])(r0,r9);
	if( r3 == NULL ) hl_null_access();
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r19 = hl_alloc_closure_ptr(&t$fun_2fc6a3d,lime_utils_AssetLibrary_load__$7,r20);
	r18 = lime_app_Future_onProgress(r3,r19);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r21 = hl_alloc_closure_ptr(&t$fun_9b58bf2,lime_utils_AssetLibrary_load__$8,r20);
	r18 = lime_app_Future_onError(r3,r21);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r24 = hl_alloc_closure_ptr(&t$fun_acaa999,lime_utils_AssetLibrary_load__$9,r20);
	if( r24 ) goto label$6cabee6_31_185;
	r21 = NULL;
	goto label$6cabee6_31_186;
	label$6cabee6_31_185:
	r21 = hl_alloc_closure_ptr(&t$fun_5573966,wrapt$fun_5573966,r24);
	label$6cabee6_31_186:
	r18 = lime_app_Future_onComplete(r3,r21);
	goto label$6cabee6_31_237;
	label$6cabee6_31_188:
	r7 = r0->assetsTotal;
	++r7;
	r0->assetsTotal = r7;
	r3 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[12])(r0,r9);
	if( r3 == NULL ) hl_null_access();
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r19 = hl_alloc_closure_ptr(&t$fun_2fc6a3d,lime_utils_AssetLibrary_load__$10,r20);
	r18 = lime_app_Future_onProgress(r3,r19);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r21 = hl_alloc_closure_ptr(&t$fun_9b58bf2,lime_utils_AssetLibrary_load__$11,r20);
	r18 = lime_app_Future_onError(r3,r21);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r25 = hl_alloc_closure_ptr(&t$fun_eb6311b,lime_utils_AssetLibrary_load__$12,r20);
	if( r25 ) goto label$6cabee6_31_210;
	r21 = NULL;
	goto label$6cabee6_31_211;
	label$6cabee6_31_210:
	r21 = hl_alloc_closure_ptr(&t$fun_c958060,wrapt$fun_c958060,r25);
	label$6cabee6_31_211:
	r18 = lime_app_Future_onComplete(r3,r21);
	goto label$6cabee6_31_237;
	label$6cabee6_31_213:
	r7 = r0->assetsTotal;
	++r7;
	r0->assetsTotal = r7;
	r3 = ((lime__app__Future (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[16])(r0,r9);
	if( r3 == NULL ) hl_null_access();
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r19 = hl_alloc_closure_ptr(&t$fun_2fc6a3d,lime_utils_AssetLibrary_load__$13,r20);
	r18 = lime_app_Future_onProgress(r3,r19);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r21 = hl_alloc_closure_ptr(&t$fun_9b58bf2,lime_utils_AssetLibrary_load__$14,r20);
	r18 = lime_app_Future_onError(r3,r21);
	r20 = hl_alloc_enum(&t$ctx_485be7c,0);
	((Enumt$ctx_485be7c*)r20)->p0 = (lime__utils__AssetLibrary)r0;
	((Enumt$ctx_485be7c*)r20)->p1 = (String)r9;
	r26 = hl_alloc_closure_ptr(&t$fun_58e16b0,lime_utils_AssetLibrary_load__$15,r20);
	if( r26 ) goto label$6cabee6_31_235;
	r21 = NULL;
	goto label$6cabee6_31_236;
	label$6cabee6_31_235:
	r21 = hl_alloc_closure_ptr(&t$fun_c8bb61c,wrapt$fun_c8bb61c,r26);
	label$6cabee6_31_236:
	r18 = lime_app_Future_onComplete(r3,r21);
	label$6cabee6_31_237:
	goto label$6cabee6_31_19;
	label$6cabee6_31_238:
	r9 = NULL;
	lime_utils_AssetLibrary___assetLoaded(r0,r9);
	label$6cabee6_31_240:
	r5 = r0->promise;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->future;
	return r3;
}

lime__app__Future lime_utils_AssetLibrary_loadAudioBuffer(lime__utils__AssetLibrary r0,String r1) {
	bool *r14;
	String r4;
	hl__Class r8;
	lime__media__AudioBuffer r7;
	hl__types__ArrayObj r13;
	haxe__ds__StringMap r3;
	hl_type *r11;
	haxe__io__Bytes r15;
	bool r2;
	lime__app__Future r5;
	hl__types__ArrayDyn r9;
	vdynamic *r6;
	int r12;
	varray *r10;
	r3 = r0->cachedAudioBuffers;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_32_10;
	r3 = r0->cachedAudioBuffers;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r7 = (lime__media__AudioBuffer)r6;
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_32_10:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_32_30;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r8 = (hl__Class)r6;
	r11 = &t$_dyn;
	r12 = 0;
	r10 = hl_alloc_array(r11,r12);
	r13 = hl_types_ArrayObj_alloc(r10);
	r2 = true;
	r14 = &r2;
	r9 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r13),r14);
	r6 = Type_createInstance(r8,r9);
	r15 = (haxe__io__Bytes)hl_dyn_castp(&r6,&t$_dyn,&t$haxe_io_Bytes);
	r7 = lime_media_AudioBuffer_fromBytes(r15);
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_32_30:
	r3 = r0->pathGroups;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_32_40;
	r3 = r0->pathGroups;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r13 = (hl__types__ArrayObj)hl_dyn_castp(&r6,&t$_dyn,&t$hl_types_ArrayObj);
	r5 = lime_media_AudioBuffer_loadFromFiles(r13);
	return r5;
	label$6cabee6_32_40:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r6;
	r5 = lime_media_AudioBuffer_loadFromFile(r4);
	return r5;
}

lime__app__Future lime_utils_AssetLibrary_loadBytes(lime__utils__AssetLibrary r0,String r1) {
	bool *r14;
	String r4;
	hl__Class r8;
	hl__types__ArrayObj r13;
	haxe__ds__StringMap r3;
	hl_type *r11;
	haxe__io__Bytes r7;
	bool r2;
	lime__app__Future r5;
	hl__types__ArrayDyn r9;
	vdynamic *r6;
	int r12;
	varray *r10;
	r3 = r0->cachedBytes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_33_10;
	r3 = r0->cachedBytes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r7 = (haxe__io__Bytes)r6;
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_33_10:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_33_29;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r8 = (hl__Class)r6;
	r11 = &t$_dyn;
	r12 = 0;
	r10 = hl_alloc_array(r11,r12);
	r13 = hl_types_ArrayObj_alloc(r10);
	r2 = true;
	r14 = &r2;
	r9 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r13),r14);
	r6 = Type_createInstance(r8,r9);
	r7 = (haxe__io__Bytes)hl_dyn_castp(&r6,&t$_dyn,&t$haxe_io_Bytes);
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_33_29:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r6;
	r5 = lime_utils__Bytes_Bytes_Impl__loadFromFile(r4);
	return r5;
}

lime__app__Future lime_utils_AssetLibrary_loadFont(lime__utils__AssetLibrary r0,String r1) {
	bool *r14;
	lime__text__Font r7;
	String r4;
	hl__Class r8;
	hl__types__ArrayObj r13;
	haxe__ds__StringMap r3;
	hl_type *r11;
	bool r2;
	lime__app__Future r5;
	hl__types__ArrayDyn r9;
	vdynamic *r6;
	int r12;
	varray *r10;
	r3 = r0->cachedFonts;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_34_10;
	r3 = r0->cachedFonts;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r7 = (lime__text__Font)r6;
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_34_10:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_34_29;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r8 = (hl__Class)r6;
	r11 = &t$_dyn;
	r12 = 0;
	r10 = hl_alloc_array(r11,r12);
	r13 = hl_types_ArrayObj_alloc(r10);
	r2 = true;
	r14 = &r2;
	r9 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r13),r14);
	r6 = Type_createInstance(r8,r9);
	r7 = (lime__text__Font)hl_dyn_castp(&r6,&t$_dyn,&t$lime_text_Font);
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_34_29:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r6;
	r5 = lime_text_Font_loadFromFile(r4);
	return r5;
}

lime__app__Future lime_utils_AssetLibrary_loadFromBytes(haxe__io__Bytes r0,String r1) {
	lime__app__Future r2;
	vclosure *r3, *r4;
	static vclosure cl$0 = { &t$fun_1738327, lime_utils_AssetLibrary_loadFromBytes__$1, 0 };
	r2 = lime_utils_AssetManifest_loadFromBytes(r0,r1);
	if( r2 == NULL ) hl_null_access();
	r3 = &cl$0;
	if( r3 ) goto label$6cabee6_35_6;
	r4 = NULL;
	goto label$6cabee6_35_7;
	label$6cabee6_35_6:
	r4 = hl_alloc_closure_ptr(&t$fun_70dd83e,wrapt$fun_70dd83e,r3);
	label$6cabee6_35_7:
	r2 = lime_app_Future_then(r2,r4);
	return r2;
}

lime__app__Future lime_utils_AssetLibrary_loadFromBytes__$1(lime__utils__AssetManifest r0) {
	lime__app__Future r1;
	r1 = lime_utils_AssetLibrary_loadFromManifest(r0);
	return r1;
}

lime__app__Future lime_utils_AssetLibrary_loadFromFile(String r0,String r1) {
	lime__app__Future r2;
	vclosure *r3, *r4;
	static vclosure cl$0 = { &t$fun_1738327, lime_utils_AssetLibrary_loadFromFile__$1, 0 };
	r2 = lime_utils_AssetManifest_loadFromFile(r0,r1);
	if( r2 == NULL ) hl_null_access();
	r3 = &cl$0;
	if( r3 ) goto label$6cabee6_37_6;
	r4 = NULL;
	goto label$6cabee6_37_7;
	label$6cabee6_37_6:
	r4 = hl_alloc_closure_ptr(&t$fun_70dd83e,wrapt$fun_70dd83e,r3);
	label$6cabee6_37_7:
	r2 = lime_app_Future_then(r2,r4);
	return r2;
}

lime__app__Future lime_utils_AssetLibrary_loadFromFile__$1(lime__utils__AssetManifest r0) {
	lime__app__Future r1;
	r1 = lime_utils_AssetLibrary_loadFromManifest(r0);
	return r1;
}

lime__app__Future lime_utils_AssetLibrary_loadFromManifest(lime__utils__AssetManifest r0) {
	String r3;
	lime__app__Future r2;
	lime__utils__AssetLibrary r1;
	r1 = lime_utils_AssetLibrary_fromManifest(r0);
	if( !r1 ) goto label$6cabee6_39_5;
	if( r1 == NULL ) hl_null_access();
	r2 = ((lime__app__Future (*)(lime__utils__AssetLibrary))r1->$type->vobj_proto[11])(r1);
	return r2;
	label$6cabee6_39_5:
	r3 = (String)s$Could_not_load_asset_manifest;
	r2 = lime_app_Future_withError(((vdynamic*)r3));
	return r2;
}

lime__app__Future lime_utils_AssetLibrary_loadImage__$1(venum* r0,lime__graphics__Image r1) {
	String r5;
	haxe__ds__StringMap r3;
	bool r2;
	lime__app__Future r7;
	lime__utils__AssetLibrary r4;
	r4 = ((Enumt$ctx_36c865f*)r0)->p1;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->cachedBytes;
	if( r3 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_36c865f*)r0)->p0;
	r2 = haxe_ds_StringMap_remove(r3,r5);
	r4 = ((Enumt$ctx_36c865f*)r0)->p1;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->cachedImages;
	if( r3 == NULL ) hl_null_access();
	r5 = ((Enumt$ctx_36c865f*)r0)->p0;
	haxe_ds_StringMap_set(r3,r5,((vdynamic*)r1));
	r7 = lime_app_Future_withValue(((vdynamic*)r1));
	return r7;
}

lime__app__Future lime_utils_AssetLibrary_loadImage(lime__utils__AssetLibrary r0,String r1) {
	bool *r14;
	lime__graphics__Image r7;
	String r4;
	hl__Class r8;
	hl__types__ArrayObj r13;
	haxe__ds__StringMap r3;
	venum *r17;
	hl_type *r11;
	haxe__io__Bytes r15;
	bool r2;
	lime__app__Future r5;
	vclosure *r16, *r18;
	hl__types__ArrayDyn r9;
	vdynamic *r6;
	int r12;
	varray *r10;
	r3 = r0->cachedImages;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_41_10;
	r3 = r0->cachedImages;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r7 = (lime__graphics__Image)r6;
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_41_10:
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_41_29;
	r3 = r0->classTypes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r8 = (hl__Class)r6;
	r11 = &t$_dyn;
	r12 = 0;
	r10 = hl_alloc_array(r11,r12);
	r13 = hl_types_ArrayObj_alloc(r10);
	r2 = true;
	r14 = &r2;
	r9 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r13),r14);
	r6 = Type_createInstance(r8,r9);
	r7 = (lime__graphics__Image)hl_dyn_castp(&r6,&t$_dyn,&t$lime_graphics_Image);
	r5 = lime_app_Future_withValue(((vdynamic*)r7));
	return r5;
	label$6cabee6_41_29:
	r3 = r0->cachedBytes;
	if( r3 == NULL ) hl_null_access();
	r2 = haxe_ds_StringMap_exists(r3,r1);
	if( !r2 ) goto label$6cabee6_41_49;
	r3 = r0->cachedBytes;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r15 = (haxe__io__Bytes)r6;
	r5 = lime_graphics_Image_loadFromBytes(r15);
	if( r5 == NULL ) hl_null_access();
	r17 = hl_alloc_enum(&t$ctx_36c865f,0);
	((Enumt$ctx_36c865f*)r17)->p0 = (String)r1;
	((Enumt$ctx_36c865f*)r17)->p1 = (lime__utils__AssetLibrary)r0;
	r16 = hl_alloc_closure_ptr(&t$fun_7351d6d,lime_utils_AssetLibrary_loadImage__$1,r17);
	if( r16 ) goto label$6cabee6_41_46;
	r18 = NULL;
	goto label$6cabee6_41_47;
	label$6cabee6_41_46:
	r18 = hl_alloc_closure_ptr(&t$fun_8b3c6ac,wrapt$fun_8b3c6ac,r16);
	label$6cabee6_41_47:
	r5 = lime_app_Future_then(r5,r18);
	return r5;
	label$6cabee6_41_49:
	r3 = r0->paths;
	if( r3 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_get(r3,r1);
	r4 = (String)r6;
	r5 = lime_graphics_Image_loadFromFile(r4);
	return r5;
}

lime__app__Future lime_utils_AssetLibrary_loadText(lime__utils__AssetLibrary r0,String r1) {
	String r5;
	lime__net___HTTPRequest_String r12;
	haxe__ds__StringMap r4;
	venum *r11;
	haxe__io__Bytes r8;
	bool r3;
	lime__app__Future r6;
	vdynamic *r7;
	int r9, r10;
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( !r3 ) goto label$6cabee6_42_10;
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r4,r1);
	r5 = (String)r7;
	r6 = lime_app_Future_withValue(((vdynamic*)r5));
	return r6;
	label$6cabee6_42_10:
	r4 = r0->cachedBytes;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( r3 ) goto label$6cabee6_42_18;
	r4 = r0->classTypes;
	if( r4 == NULL ) hl_null_access();
	r3 = haxe_ds_StringMap_exists(r4,r1);
	if( !r3 ) goto label$6cabee6_42_33;
	label$6cabee6_42_18:
	r8 = ((haxe__io__Bytes (*)(lime__utils__AssetLibrary,String))r0->$type->vobj_proto[3])(r0,r1);
	if( r8 ) goto label$6cabee6_42_23;
	r7 = NULL;
	r6 = lime_app_Future_withValue(r7);
	return r6;
	label$6cabee6_42_23:
	if( r8 == NULL ) hl_null_access();
	r9 = 0;
	r10 = r8->length;
	r11 = NULL;
	r5 = haxe_io_Bytes_getString(r8,r9,r10,r11);
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r5));
	r6 = lime_app_Future_withValue(((vdynamic*)r5));
	return r6;
	label$6cabee6_42_33:
	r12 = (lime__net___HTTPRequest_String)hl_alloc_obj(&t$lime_net__HTTPRequest_String);
	r5 = NULL;
	lime_net__HTTPRequest_String_new(r12,r5);
	r4 = r0->paths;
	if( r4 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r4,r1);
	r5 = (String)r7;
	r6 = lime_net__HTTPRequest_String_load(r12,r5);
	return r6;
}

void lime_utils_AssetLibrary_unload(lime__utils__AssetLibrary r0) {
	return;
}

void lime_utils_AssetLibrary___assetLoaded(lime__utils__AssetLibrary r0,String r1) {
	String r5, r6;
	vvirtual *r11, *r12;
	haxe__ds__StringMap r8;
	bool r14;
	lime__app__Promise r17;
	int *r9;
	vdynamic *r7, *r13, *r15;
	vbyte *r10;
	int r2, r3, r16;
	r2 = r0->assetsLoaded;
	++r2;
	r0->assetsLoaded = r2;
	if( !r1 ) goto label$6cabee6_44_44;
	r5 = (String)s$Loaded_asset_;
	r5 = String___add__(r5,r1);
	r6 = (String)s$18782ee;
	r5 = String___add__(r5,r6);
	r8 = r0->types;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r8,r1);
	r6 = (String)r7;
	r5 = String___add__(r5,r6);
	r6 = (String)s$9054416;
	r5 = String___add__(r5,r6);
	r2 = r0->assetsLoaded;
	r3 = 1;
	r2 = r2 - r3;
	r9 = &r2;
	r10 = hl_itos(r2,r9);
	r6 = String___alloc__(r10,r2);
	r5 = String___add__(r5,r6);
	r6 = (String)s$6666cd7;
	r5 = String___add__(r5,r6);
	r2 = r0->assetsTotal;
	r3 = 1;
	r2 = r2 - r3;
	r9 = &r2;
	r10 = hl_itos(r2,r9);
	r6 = String___alloc__(r10,r2);
	r5 = String___add__(r5,r6);
	r6 = (String)s$9371d7a;
	r5 = String___add__(r5,r6);
	r11 = hl_alloc_virtual(&t$vrt_329ffa8);
	r6 = (String)s$lime_utils_AssetLibrary_hx;
	if( hl_vfields(r11)[1] ) *(String*)(hl_vfields(r11)[1]) = (String)r6; else hl_dyn_setp(r11->value,37969014/*fileName*/,&t$String,r6);
	r2 = 622;
	if( hl_vfields(r11)[2] ) *(int*)(hl_vfields(r11)[2]) = (int)r2; else hl_dyn_seti(r11->value,371360620/*lineNumber*/,&t$_i32,r2);
	r6 = (String)s$lime_utils_AssetLibrary;
	if( hl_vfields(r11)[0] ) *(String*)(hl_vfields(r11)[0]) = (String)r6; else hl_dyn_setp(r11->value,-63073762/*className*/,&t$String,r6);
	r6 = (String)s$__assetLoaded;
	if( hl_vfields(r11)[3] ) *(String*)(hl_vfields(r11)[3]) = (String)r6; else hl_dyn_setp(r11->value,302979532/*methodName*/,&t$String,r6);
	r12 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r11);
	lime_utils_Log_verbose(((vdynamic*)r5),r12);
	label$6cabee6_44_44:
	if( !r1 ) goto label$6cabee6_44_81;
	r8 = r0->sizes;
	if( r8 == NULL ) hl_null_access();
	r14 = haxe_ds_StringMap_exists(r8,r1);
	if( !r14 ) goto label$6cabee6_44_54;
	r8 = r0->sizes;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r8,r1);
	r13 = (vdynamic*)r7;
	goto label$6cabee6_44_56;
	label$6cabee6_44_54:
	r2 = 0;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r2;
	label$6cabee6_44_56:
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	r14 = haxe_ds_StringMap_exists(r8,r1);
	if( r14 ) goto label$6cabee6_44_65;
	r2 = r0->bytesLoaded;
	r3 = r13 ? r13->v.i : 0;
	r2 = r2 + r3;
	r0->bytesLoaded = r2;
	goto label$6cabee6_44_78;
	label$6cabee6_44_65:
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r8,r1);
	r15 = (vdynamic*)r7;
	r2 = r15 ? r15->v.i : 0;
	r3 = r13 ? r13->v.i : 0;
	if( r2 >= r3 ) goto label$6cabee6_44_78;
	r2 = r0->bytesLoaded;
	r3 = r13 ? r13->v.i : 0;
	r16 = r15 ? r15->v.i : 0;
	r3 = r3 - r16;
	r2 = r2 + r3;
	r0->bytesLoaded = r2;
	label$6cabee6_44_78:
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r8,r1,((vdynamic*)r13));
	label$6cabee6_44_81:
	r2 = r0->assetsLoaded;
	r3 = r0->assetsTotal;
	if( r2 >= r3 ) goto label$6cabee6_44_90;
	r17 = r0->promise;
	if( r17 == NULL ) hl_null_access();
	r2 = r0->bytesLoaded;
	r3 = r0->bytesTotal;
	r17 = lime_app_Promise_progress(r17,r2,r3);
	goto label$6cabee6_44_100;
	label$6cabee6_44_90:
	r14 = true;
	r0->loaded = r14;
	r17 = r0->promise;
	if( r17 == NULL ) hl_null_access();
	r2 = r0->bytesTotal;
	r3 = r0->bytesTotal;
	r17 = lime_app_Promise_progress(r17,r2,r3);
	r17 = r0->promise;
	if( r17 == NULL ) hl_null_access();
	r17 = lime_app_Promise_complete(r17,((vdynamic*)r0));
	label$6cabee6_44_100:
	return;
}

String lime_utils_AssetLibrary___cacheBreak(lime__utils__AssetLibrary r0,String r1) {
	String r2;
	r2 = lime_utils_Assets___cacheBreak(r1);
	return r2;
}

void lime_utils_AssetLibrary___fromBundle(lime__utils__AssetLibrary r0,lime__utils__AssetBundle r1,lime__utils__AssetManifest r2) {
	lime__graphics__Image r20;
	lime__text__Font r19;
	String r9, r10, r16, r22;
	lime__media__AudioBuffer r21;
	hl__types__ArrayObj r23;
	haxe__ds__StringMap r14, r25;
	haxe__io__Bytes r13, r15;
	bool r11;
	hl__types__ArrayDyn r5;
	vdynamic *r8, *r12;
	varray *r24;
	vbyte *r17, *r18;
	int r4, r6, r7;
	if( !r2 ) goto label$6cabee6_46_119;
	r4 = 0;
	if( r2 == NULL ) hl_null_access();
	r5 = r2->assets;
	label$6cabee6_46_4:
	if( r5 == NULL ) hl_null_access();
	r7 = hl_types_ArrayDyn_get_length(r5);
	if( r4 >= r7 ) goto label$6cabee6_46_118;
	r8 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r5->$type->vobj_proto[0])(r5,r4);
	++r4;
	r10 = (String)s$id;
	r11 = Reflect_hasField(r8,r10);
	if( !r11 ) goto label$6cabee6_46_17;
	if( r8 == NULL ) hl_null_access();
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r8,23515/*id*/,&t$_dyn);
	r10 = (String)hl_dyn_castp(&r12,&t$_dyn,&t$String);
	goto label$6cabee6_46_20;
	label$6cabee6_46_17:
	if( r8 == NULL ) hl_null_access();
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r8,173139631/*path*/,&t$_dyn);
	r10 = (String)hl_dyn_castp(&r12,&t$_dyn,&t$String);
	label$6cabee6_46_20:
	r9 = r10;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->data;
	if( r14 == NULL ) hl_null_access();
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r8,173139631/*path*/,&t$_dyn);
	r10 = (String)hl_dyn_castp(&r12,&t$_dyn,&t$String);
	r12 = haxe_ds_StringMap_get(r14,r10);
	r15 = (haxe__io__Bytes)r12;
	r10 = (String)s$type;
	r11 = Reflect_hasField(r8,r10);
	if( !r11 ) goto label$6cabee6_46_110;
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r8,218690500/*type*/,&t$_dyn);
	r16 = (String)hl_dyn_castp(&r12,&t$_dyn,&t$String);
	if( !r16 ) goto label$6cabee6_46_42;
	r6 = r16->length;
	r7 = 4;
	if( r6 != r7 ) goto label$6cabee6_46_42;
	r17 = r16->bytes;
	r18 = (vbyte*)USTR("FONT");
	r6 = hl_string_compare(r17,r18,r6);
	r7 = 0;
	if( r6 == r7 ) goto label$6cabee6_46_82;
	label$6cabee6_46_42:
	if( !r16 ) goto label$6cabee6_46_51;
	r6 = r16->length;
	r7 = 5;
	if( r6 != r7 ) goto label$6cabee6_46_51;
	r17 = r16->bytes;
	r18 = (vbyte*)USTR("IMAGE");
	r6 = hl_string_compare(r17,r18,r6);
	r7 = 0;
	if( r6 == r7 ) goto label$6cabee6_46_87;
	label$6cabee6_46_51:
	if( !r16 ) goto label$6cabee6_46_60;
	r6 = r16->length;
	r7 = 5;
	if( r6 != r7 ) goto label$6cabee6_46_60;
	r17 = r16->bytes;
	r18 = (vbyte*)USTR("MUSIC");
	r6 = hl_string_compare(r17,r18,r6);
	r7 = 0;
	if( r6 == r7 ) goto label$6cabee6_46_92;
	label$6cabee6_46_60:
	if( !r16 ) goto label$6cabee6_46_69;
	r6 = r16->length;
	r7 = 5;
	if( r6 != r7 ) goto label$6cabee6_46_69;
	r17 = r16->bytes;
	r18 = (vbyte*)USTR("SOUND");
	r6 = hl_string_compare(r17,r18,r6);
	r7 = 0;
	if( r6 == r7 ) goto label$6cabee6_46_92;
	label$6cabee6_46_69:
	if( !r16 ) goto label$6cabee6_46_78;
	r6 = r16->length;
	r7 = 4;
	if( r6 != r7 ) goto label$6cabee6_46_78;
	r17 = r16->bytes;
	r18 = (vbyte*)USTR("TEXT");
	r6 = hl_string_compare(r17,r18,r6);
	r7 = 0;
	if( r6 == r7 ) goto label$6cabee6_46_97;
	label$6cabee6_46_78:
	r14 = r0->cachedBytes;
	if( r14 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r15));
	goto label$6cabee6_46_104;
	label$6cabee6_46_82:
	r14 = r0->cachedFonts;
	if( r14 == NULL ) hl_null_access();
	r19 = lime_text_Font_fromBytes(r15);
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r19));
	goto label$6cabee6_46_104;
	label$6cabee6_46_87:
	r14 = r0->cachedImages;
	if( r14 == NULL ) hl_null_access();
	r20 = lime_graphics_Image_fromBytes(r15);
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r20));
	goto label$6cabee6_46_104;
	label$6cabee6_46_92:
	r14 = r0->cachedAudioBuffers;
	if( r14 == NULL ) hl_null_access();
	r21 = lime_media_AudioBuffer_fromBytes(r15);
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r21));
	goto label$6cabee6_46_104;
	label$6cabee6_46_97:
	r14 = r0->cachedText;
	if( r14 == NULL ) hl_null_access();
	if( !r15 ) goto label$6cabee6_46_102;
	r22 = Std_string(((vdynamic*)r15));
	goto label$6cabee6_46_103;
	label$6cabee6_46_102:
	r22 = NULL;
	label$6cabee6_46_103:
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r22));
	label$6cabee6_46_104:
	r14 = r0->types;
	if( r14 == NULL ) hl_null_access();
	r12 = (vdynamic*)hl_dyn_getp((vdynamic*)r8,218690500/*type*/,&t$_dyn);
	r22 = (String)hl_dyn_castp(&r12,&t$_dyn,&t$String);
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r22));
	goto label$6cabee6_46_117;
	label$6cabee6_46_110:
	r14 = r0->cachedBytes;
	if( r14 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r15));
	r14 = r0->types;
	if( r14 == NULL ) hl_null_access();
	r22 = (String)s$BINARY;
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r22));
	label$6cabee6_46_117:
	goto label$6cabee6_46_4;
	label$6cabee6_46_118:
	goto label$6cabee6_46_147;
	label$6cabee6_46_119:
	r4 = 0;
	if( r1 == NULL ) hl_null_access();
	r23 = r1->paths;
	label$6cabee6_46_122:
	if( r23 == NULL ) hl_null_access();
	r7 = r23->length;
	if( r4 >= r7 ) goto label$6cabee6_46_147;
	r7 = r23->length;
	if( ((unsigned)r4) < ((unsigned)r7) ) goto label$6cabee6_46_130;
	r9 = NULL;
	goto label$6cabee6_46_133;
	label$6cabee6_46_130:
	r24 = r23->array;
	r8 = ((vdynamic**)(r24 + 1))[r4];
	r9 = (String)r8;
	label$6cabee6_46_133:
	++r4;
	r14 = r0->cachedBytes;
	if( r14 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r25 = r1->data;
	if( r25 == NULL ) hl_null_access();
	r8 = haxe_ds_StringMap_get(r25,r9);
	r13 = (haxe__io__Bytes)r8;
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r13));
	r14 = r0->types;
	if( r14 == NULL ) hl_null_access();
	r16 = (String)s$BINARY;
	haxe_ds_StringMap_set(r14,r9,((vdynamic*)r16));
	goto label$6cabee6_46_122;
	label$6cabee6_46_147:
	return;
}

void lime_utils_AssetLibrary___fromManifest(lime__utils__AssetLibrary r0,lime__utils__AssetManifest r1) {
	String r6, r7, r8, r15, r16;
	hl__Class r25;
	hl__types__ArrayObj r17, r18;
	haxe__ds__StringMap r14;
	bool r2, r12;
	hl__types__ArrayDyn r9;
	vdynamic *r11, *r13, *r24, *r26;
	varray *r23;
	int r3, r4, r10, r19, r20, r21, r22;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->version;
	r4 = 2;
	if( r3 >= r4 ) goto label$6cabee6_47_6;
	r2 = false;
	goto label$6cabee6_47_7;
	label$6cabee6_47_6:
	r2 = true;
	label$6cabee6_47_7:
	r6 = r1->rootPath;
	if( r6 ) goto label$6cabee6_47_11;
	r7 = (String)s$;
	r6 = r7;
	label$6cabee6_47_11:
	r8 = (String)s$;
	if( r6 == r8 || (r6 && r8 && String___compare(r6,(vdynamic*)r8) == 0) ) goto label$6cabee6_47_16;
	r8 = (String)s$6666cd7;
	r7 = String___add__(r6,r8);
	r6 = r7;
	label$6cabee6_47_16:
	r3 = 0;
	r9 = r1->assets;
	label$6cabee6_47_18:
	if( r9 == NULL ) hl_null_access();
	r10 = hl_types_ArrayDyn_get_length(r9);
	if( r3 >= r10 ) goto label$6cabee6_47_122;
	r11 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r9->$type->vobj_proto[0])(r9,r3);
	++r3;
	if( !r2 ) goto label$6cabee6_47_32;
	r7 = (String)s$size;
	r12 = Reflect_hasField(r11,r7);
	if( !r12 ) goto label$6cabee6_47_32;
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,206807499/*size*/,&t$_dyn);
	r10 = (int)hl_dyn_casti(&r13,&t$_dyn,&t$_i32);
	goto label$6cabee6_47_33;
	label$6cabee6_47_32:
	r10 = 100;
	label$6cabee6_47_33:
	r4 = r10;
	r8 = (String)s$id;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_41;
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,23515/*id*/,&t$_dyn);
	r8 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	goto label$6cabee6_47_44;
	label$6cabee6_47_41:
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,173139631/*path*/,&t$_dyn);
	r8 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	label$6cabee6_47_44:
	r7 = r8;
	r8 = (String)s$path;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_57;
	r14 = r0->paths;
	if( r14 == NULL ) hl_null_access();
	r16 = (String)s$path;
	r13 = Reflect_field(r11,r16);
	r16 = Std_string(r13);
	r15 = String___add__(r6,r16);
	r15 = lime_utils_AssetLibrary___resolvePath(r0,r15);
	r15 = lime_utils_AssetLibrary___cacheBreak(r0,r15);
	haxe_ds_StringMap_set(r14,r7,((vdynamic*)r15));
	label$6cabee6_47_57:
	r8 = (String)s$pathGroup;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_91;
	r8 = (String)s$pathGroup;
	r13 = Reflect_field(r11,r8);
	r18 = (hl__types__ArrayObj)hl_dyn_castp(&r13,&t$_dyn,&t$hl_types_ArrayObj);
	r17 = r18;
	r10 = 0;
	if( r18 == NULL ) hl_null_access();
	r19 = r18->length;
	label$6cabee6_47_67:
	if( r10 >= r19 ) goto label$6cabee6_47_88;
	r20 = r10;
	++r10;
	if( r17 == NULL ) hl_null_access();
	r22 = r17->length;
	if( ((unsigned)r20) < ((unsigned)r22) ) goto label$6cabee6_47_76;
	r15 = NULL;
	goto label$6cabee6_47_79;
	label$6cabee6_47_76:
	r23 = r17->array;
	r13 = ((vdynamic**)(r23 + 1))[r20];
	r15 = (String)r13;
	label$6cabee6_47_79:
	r8 = String___add__(r6,r15);
	r8 = lime_utils_AssetLibrary___resolvePath(r0,r8);
	r8 = lime_utils_AssetLibrary___cacheBreak(r0,r8);
	r21 = r17->length;
	if( ((unsigned)r20) < ((unsigned)r21) ) goto label$6cabee6_47_85;
	hl_types_ArrayObj___expand(r17,r20);
	label$6cabee6_47_85:
	r23 = r17->array;
	((String*)(r23 + 1))[r20] = r8;
	goto label$6cabee6_47_67;
	label$6cabee6_47_88:
	r14 = r0->pathGroups;
	if( r14 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r14,r7,((vdynamic*)r17));
	label$6cabee6_47_91:
	r14 = r0->sizes;
	if( r14 == NULL ) hl_null_access();
	r24 = hl_alloc_dynamic(&t$_i32);
	r24->v.i = r4;
	haxe_ds_StringMap_set(r14,r7,((vdynamic*)r24));
	r14 = r0->types;
	if( r14 == NULL ) hl_null_access();
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,218690500/*type*/,&t$_dyn);
	r15 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	haxe_ds_StringMap_set(r14,r7,((vdynamic*)r15));
	r8 = (String)s$preload;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_111;
	r14 = r0->preload;
	if( r14 == NULL ) hl_null_access();
	r15 = (String)s$preload;
	r13 = Reflect_field(r11,r15);
	r12 = (bool)hl_dyn_casti(&r13,&t$_dyn,&t$_bool);
	r13 = hl_alloc_dynbool(r12);
	haxe_ds_StringMap_set(r14,r7,r13);
	label$6cabee6_47_111:
	r8 = (String)s$className;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_121;
	r8 = (String)s$className;
	r13 = Reflect_field(r11,r8);
	r8 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	r25 = Type_resolveClass(r8);
	r14 = r0->classTypes;
	if( r14 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r14,r7,((vdynamic*)r25));
	label$6cabee6_47_121:
	goto label$6cabee6_47_18;
	label$6cabee6_47_122:
	r3 = 0;
	r0->bytesTotal = r3;
	r3 = 0;
	if( r1 == NULL ) hl_null_access();
	r9 = r1->assets;
	label$6cabee6_47_127:
	if( r9 == NULL ) hl_null_access();
	r19 = hl_types_ArrayDyn_get_length(r9);
	if( r3 >= r19 ) goto label$6cabee6_47_166;
	r11 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r9->$type->vobj_proto[0])(r9,r3);
	++r3;
	r8 = (String)s$id;
	r12 = Reflect_hasField(r11,r8);
	if( !r12 ) goto label$6cabee6_47_140;
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,23515/*id*/,&t$_dyn);
	r8 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	goto label$6cabee6_47_143;
	label$6cabee6_47_140:
	if( r11 == NULL ) hl_null_access();
	r13 = (vdynamic*)hl_dyn_getp((vdynamic*)r11,173139631/*path*/,&t$_dyn);
	r8 = (String)hl_dyn_castp(&r13,&t$_dyn,&t$String);
	label$6cabee6_47_143:
	r14 = r0->preload;
	if( r14 == NULL ) hl_null_access();
	r12 = haxe_ds_StringMap_exists(r14,r8);
	if( !r12 ) goto label$6cabee6_47_165;
	r14 = r0->preload;
	if( r14 == NULL ) hl_null_access();
	r13 = haxe_ds_StringMap_get(r14,r8);
	r26 = (vdynamic*)r13;
	r12 = r26 ? r26->v.b : 0;
	if( !r12 ) goto label$6cabee6_47_165;
	r14 = r0->sizes;
	if( r14 == NULL ) hl_null_access();
	r12 = haxe_ds_StringMap_exists(r14,r8);
	if( !r12 ) goto label$6cabee6_47_165;
	r10 = r0->bytesTotal;
	r14 = r0->sizes;
	if( r14 == NULL ) hl_null_access();
	r13 = haxe_ds_StringMap_get(r14,r8);
	r24 = (vdynamic*)r13;
	r19 = r24 ? r24->v.i : 0;
	r10 = r10 + r19;
	r0->bytesTotal = r10;
	label$6cabee6_47_165:
	goto label$6cabee6_47_127;
	label$6cabee6_47_166:
	return;
}

String lime_utils_AssetLibrary___resolvePath(lime__utils__AssetLibrary r0,String r1) {
	String r2, r3, r4, r11, r12;
	hl__types__ArrayObj r13, r14;
	hl_type *r16;
	bool r7;
	vdynamic *r6, *r19;
	varray *r15;
	int r5, r8, r9, r10, r17, r18;
	r3 = (String)s$28d397e;
	r4 = (String)s$6666cd7;
	r2 = StringTools_replace(r1,r3,r4);
	r1 = r2;
	if( r2 == NULL ) hl_null_access();
	r3 = (String)s$853ae90;
	r6 = NULL;
	r5 = String_indexOf(r2,r3,r6);
	r3 = (String)s$http;
	r7 = StringTools_startsWith(r2,r3);
	if( !r7 ) goto label$6cabee6_48_27;
	r9 = 0;
	if( r9 >= r5 ) goto label$6cabee6_48_27;
	r9 = 3;
	r8 = r5 + r9;
	r9 = 0;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r8;
	r2 = String_substr(r2,r9,r6);
	if( r1 == NULL ) hl_null_access();
	r6 = NULL;
	r4 = String_substr(r1,r8,r6);
	r11 = (String)s$7bc0ee6;
	r12 = (String)s$6666cd7;
	r4 = StringTools_replace(r4,r11,r12);
	r3 = String___add__(r2,r4);
	r1 = r3;
	goto label$6cabee6_48_31;
	label$6cabee6_48_27:
	r3 = (String)s$7bc0ee6;
	r4 = (String)s$6666cd7;
	r2 = StringTools_replace(r2,r3,r4);
	r1 = r2;
	label$6cabee6_48_31:
	if( r1 == NULL ) hl_null_access();
	r3 = (String)s$0374ec8;
	r6 = NULL;
	r8 = String_indexOf(r1,r3,r6);
	r9 = -1;
	if( r9 >= r8 ) goto label$6cabee6_48_110;
	r3 = (String)s$6666cd7;
	r13 = String_split(r1,r3);
	r16 = &t$String;
	r8 = 0;
	r15 = hl_alloc_array(r16,r8);
	r14 = hl_types_ArrayObj_alloc(r15);
	r8 = 0;
	if( r13 == NULL ) hl_null_access();
	r9 = r13->length;
	label$6cabee6_48_46:
	if( r8 >= r9 ) goto label$6cabee6_48_106;
	r10 = r8;
	++r8;
	if( r13 == NULL ) hl_null_access();
	r18 = r13->length;
	if( ((unsigned)r10) < ((unsigned)r18) ) goto label$6cabee6_48_55;
	r2 = NULL;
	goto label$6cabee6_48_58;
	label$6cabee6_48_55:
	r15 = r13->array;
	r19 = ((vdynamic**)(r15 + 1))[r10];
	r2 = (String)r19;
	label$6cabee6_48_58:
	r3 = (String)s$58b9e70;
	if( r2 != r3 && (!r2 || !r3 || String___compare(r2,(vdynamic*)r3) != 0) ) goto label$6cabee6_48_81;
	r18 = 0;
	if( r10 == r18 ) goto label$6cabee6_48_74;
	if( r14 == NULL ) hl_null_access();
	r18 = 1;
	r17 = r10 - r18;
	r18 = r14->length;
	if( ((unsigned)r17) < ((unsigned)r18) ) goto label$6cabee6_48_69;
	r2 = NULL;
	goto label$6cabee6_48_72;
	label$6cabee6_48_69:
	r15 = r14->array;
	r19 = ((vdynamic**)(r15 + 1))[r17];
	r2 = (String)r19;
	label$6cabee6_48_72:
	r3 = (String)s$58b9e70;
	if( r2 != r3 && (!r2 || !r3 || String___compare(r2,(vdynamic*)r3) != 0) ) goto label$6cabee6_48_78;
	label$6cabee6_48_74:
	if( r14 == NULL ) hl_null_access();
	r2 = (String)s$58b9e70;
	r17 = hl_types_ArrayObj_push(r14,((vdynamic*)r2));
	goto label$6cabee6_48_80;
	label$6cabee6_48_78:
	r19 = hl_types_ArrayObj_pop(r14);
	r2 = (String)r19;
	label$6cabee6_48_80:
	goto label$6cabee6_48_105;
	label$6cabee6_48_81:
	r18 = r13->length;
	if( ((unsigned)r10) < ((unsigned)r18) ) goto label$6cabee6_48_85;
	r2 = NULL;
	goto label$6cabee6_48_88;
	label$6cabee6_48_85:
	r15 = r13->array;
	r19 = ((vdynamic**)(r15 + 1))[r10];
	r2 = (String)r19;
	label$6cabee6_48_88:
	r3 = (String)s$5058f1a;
	if( r2 != r3 && (!r2 || !r3 || String___compare(r2,(vdynamic*)r3) != 0) ) goto label$6cabee6_48_96;
	r18 = 0;
	if( r10 != r18 ) goto label$6cabee6_48_95;
	if( r14 == NULL ) hl_null_access();
	r2 = (String)s$5058f1a;
	r17 = hl_types_ArrayObj_push(r14,((vdynamic*)r2));
	label$6cabee6_48_95:
	goto label$6cabee6_48_105;
	label$6cabee6_48_96:
	if( r14 == NULL ) hl_null_access();
	r18 = r13->length;
	if( ((unsigned)r10) < ((unsigned)r18) ) goto label$6cabee6_48_101;
	r2 = NULL;
	goto label$6cabee6_48_104;
	label$6cabee6_48_101:
	r15 = r13->array;
	r19 = ((vdynamic**)(r15 + 1))[r10];
	r2 = (String)r19;
	label$6cabee6_48_104:
	r17 = hl_types_ArrayObj_push(r14,((vdynamic*)r2));
	label$6cabee6_48_105:
	goto label$6cabee6_48_46;
	label$6cabee6_48_106:
	if( r14 == NULL ) hl_null_access();
	r2 = (String)s$6666cd7;
	r2 = hl_types_ArrayObj_join(r14,r2);
	r1 = r2;
	label$6cabee6_48_110:
	return r1;
}

void lime_utils_AssetLibrary_loadAudioBuffer_onComplete(lime__utils__AssetLibrary r0,String r1,lime__media__AudioBuffer r2) {
	String r5, r10;
	vvirtual *r9;
	hl__types__ArrayObj r8, r14;
	haxe__ds__StringMap r4;
	bool r6;
	vdynamic *r7, *r16;
	varray *r15;
	int r11, r12, r13;
	r4 = r0->cachedAudioBuffers;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r2));
	r4 = r0->pathGroups;
	if( r4 == NULL ) hl_null_access();
	r6 = haxe_ds_StringMap_exists(r4,r1);
	if( !r6 ) goto label$6cabee6_49_49;
	r4 = r0->pathGroups;
	if( r4 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r4,r1);
	r8 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	r4 = r0->pathGroups;
	if( r4 == NULL ) hl_null_access();
	r9 = haxe_ds_StringMap_keys(r4);
	label$6cabee6_49_14:
	if( r9 == NULL ) hl_null_access();
	if( hl_vfields(r9)[0] ) r6 = ((bool (*)(vdynamic*))hl_vfields(r9)[0])(r9->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r9->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r6 = (bool)ret.v.i;
	}
	if( !r6 ) goto label$6cabee6_49_49;
	if( hl_vfields(r9)[1] ) r5 = ((String (*)(vdynamic*))hl_vfields(r9)[1])(r9->value); else {
		r5 = (String)hl_dyn_call_obj(r9->value,&t$fun_820f49a,151160317/*next*/,NULL,NULL);
	}
	if( r5 != r1 && (!r5 || !r1 || String___compare(r5,(vdynamic*)r1) != 0) ) goto label$6cabee6_49_21;
	goto label$6cabee6_49_14;
	label$6cabee6_49_21:
	r11 = 0;
	label$6cabee6_49_22:
	if( r8 == NULL ) hl_null_access();
	r13 = r8->length;
	if( r11 >= r13 ) goto label$6cabee6_49_48;
	r13 = r8->length;
	if( ((unsigned)r11) < ((unsigned)r13) ) goto label$6cabee6_49_30;
	r10 = NULL;
	goto label$6cabee6_49_33;
	label$6cabee6_49_30:
	r15 = r8->array;
	r7 = ((vdynamic**)(r15 + 1))[r11];
	r10 = (String)r7;
	label$6cabee6_49_33:
	++r11;
	r4 = r0->pathGroups;
	if( r4 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r4,r5);
	r14 = (hl__types__ArrayObj)hl_dyn_castp(&r7,&t$_dyn,&t$hl_types_ArrayObj);
	if( r14 == NULL ) hl_null_access();
	r16 = NULL;
	r12 = hl_types_ArrayObj_indexOf(r14,((vdynamic*)r10),r16);
	r13 = -1;
	if( r13 >= r12 ) goto label$6cabee6_49_47;
	r4 = r0->cachedAudioBuffers;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r5,((vdynamic*)r2));
	goto label$6cabee6_49_48;
	label$6cabee6_49_47:
	goto label$6cabee6_49_22;
	label$6cabee6_49_48:
	goto label$6cabee6_49_14;
	label$6cabee6_49_49:
	lime_utils_AssetLibrary___assetLoaded(r0,r1);
	return;
}

void lime_utils_AssetLibrary_loadAudioBuffer_onError(lime__utils__AssetLibrary r0,String r1,vdynamic* r2) {
	lime_utils_AssetLibrary_load_onError(r0,r1,r2);
	return;
}

void lime_utils_AssetLibrary_loadBytes_onComplete(lime__utils__AssetLibrary r0,String r1,haxe__io__Bytes r2) {
	haxe__ds__StringMap r4;
	r4 = r0->cachedBytes;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r2));
	lime_utils_AssetLibrary___assetLoaded(r0,r1);
	return;
}

void lime_utils_AssetLibrary_loadFont_onComplete(lime__utils__AssetLibrary r0,String r1,lime__text__Font r2) {
	haxe__ds__StringMap r4;
	r4 = r0->cachedFonts;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r2));
	lime_utils_AssetLibrary___assetLoaded(r0,r1);
	return;
}

void lime_utils_AssetLibrary_loadImage_onComplete(lime__utils__AssetLibrary r0,String r1,lime__graphics__Image r2) {
	haxe__ds__StringMap r4;
	r4 = r0->cachedImages;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r2));
	lime_utils_AssetLibrary___assetLoaded(r0,r1);
	return;
}

void lime_utils_AssetLibrary_loadText_onComplete(lime__utils__AssetLibrary r0,String r1,String r2) {
	haxe__ds__StringMap r4;
	r4 = r0->cachedText;
	if( r4 == NULL ) hl_null_access();
	haxe_ds_StringMap_set(r4,r1,((vdynamic*)r2));
	lime_utils_AssetLibrary___assetLoaded(r0,r1);
	return;
}

void lime_utils_AssetLibrary_load_onError(lime__utils__AssetLibrary r0,String r1,vdynamic* r2) {
	String r4, r6;
	lime__app__Promise r5;
	if( !r2 ) goto label$6cabee6_55_13;
	r4 = (String)s$;
	{ int i = hl_dyn_compare((vdynamic*)r2,(vdynamic*)r4); if( i == 0 ) goto label$6cabee6_55_13; };
	r5 = r0->promise;
	if( r5 == NULL ) hl_null_access();
	r4 = (String)s$Error_loading_asset_;
	r4 = String___add__(r4,r1);
	r6 = (String)s$6f0faf3;
	r4 = String___add__(r4,r6);
	r6 = Std_string(r2);
	r4 = String___add__(r4,r6);
	r5 = lime_app_Promise_error(r5,((vdynamic*)r4));
	goto label$6cabee6_55_20;
	label$6cabee6_55_13:
	r5 = r0->promise;
	if( r5 == NULL ) hl_null_access();
	r4 = (String)s$Error_loading_asset_;
	r4 = String___add__(r4,r1);
	r6 = (String)s$b15835f;
	r4 = String___add__(r4,r6);
	r5 = lime_app_Promise_error(r5,((vdynamic*)r4));
	label$6cabee6_55_20:
	return;
}

void lime_utils_AssetLibrary_load_onProgress(lime__utils__AssetLibrary r0,String r1,int r2,int r3) {
	haxe__ds__StringMap r8;
	bool r13;
	lime__app__Promise r16;
	double r10, r11;
	vdynamic *r7, *r9, *r12, *r14;
	int r5, r6, r15;
	r6 = 0;
	if( r6 >= r2 ) goto label$6cabee6_56_52;
	r8 = r0->sizes;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r8,r1);
	r9 = (vdynamic*)r7;
	r6 = 0;
	if( r6 >= r3 ) goto label$6cabee6_56_20;
	r10 = (double)r2;
	r11 = (double)r3;
	r10 = r10 / r11;
	r11 = 1.;
	if( !(r11 < r10) ) goto label$6cabee6_56_14;
	r10 = 1.;
	label$6cabee6_56_14:
	r5 = r9 ? r9->v.i : 0;
	r11 = (double)r5;
	r10 = r10 * r11;
	r5 = hl_math_floor(r10);
	r2 = r5;
	goto label$6cabee6_56_24;
	label$6cabee6_56_20:
	r6 = r9 ? r9->v.i : 0;
	if( r6 >= r2 ) goto label$6cabee6_56_24;
	r5 = r9 ? r9->v.i : 0;
	r2 = r5;
	label$6cabee6_56_24:
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	r13 = haxe_ds_StringMap_exists(r8,r1);
	if( !r13 ) goto label$6cabee6_56_40;
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	r7 = haxe_ds_StringMap_get(r8,r1);
	r12 = (vdynamic*)r7;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r2;
	if( r14 == r12 || (r14 && r12 && (r14->v.i == r12->v.i)) ) goto label$6cabee6_56_39;
	r5 = r0->bytesLoaded;
	r15 = r12 ? r12->v.i : 0;
	r6 = r2 - r15;
	r5 = r5 + r6;
	r0->bytesLoaded = r5;
	label$6cabee6_56_39:
	goto label$6cabee6_56_43;
	label$6cabee6_56_40:
	r5 = r0->bytesLoaded;
	r5 = r5 + r2;
	r0->bytesLoaded = r5;
	label$6cabee6_56_43:
	r8 = r0->bytesLoadedCache;
	if( r8 == NULL ) hl_null_access();
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r2;
	haxe_ds_StringMap_set(r8,r1,((vdynamic*)r12));
	r16 = r0->promise;
	if( r16 == NULL ) hl_null_access();
	r5 = r0->bytesLoaded;
	r6 = r0->bytesTotal;
	r16 = lime_app_Promise_progress(r16,r5,r6);
	label$6cabee6_56_52:
	return;
}

void lime_utils_AssetLibrary_new(lime__utils__AssetLibrary r0) {
	haxe__ds__StringMap r1;
	lime__app___Event_Void_Void r3;
	int r4;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->types = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->sizes = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->preload = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->paths = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->pathGroups = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->classTypes = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->cachedText = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->cachedImages = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->cachedFonts = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->cachedBytes = r1;
	r1 = (haxe__ds__StringMap)hl_alloc_obj(&t$haxe_ds_StringMap);
	haxe_ds_StringMap_new(r1);
	r0->cachedAudioBuffers = r1;
	r3 = (lime__app___Event_Void_Void)hl_alloc_obj(&t$lime_app__Event_Void_Void);
	lime_app__Event_Void_Void_new(r3);
	r0->onChange = r3;
	r4 = 0;
	r0->bytesLoaded = r4;
	r4 = 0;
	r0->bytesTotal = r4;
	return;
}

