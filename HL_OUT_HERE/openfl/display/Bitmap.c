// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/Bitmap.h>
void openfl_display_DisplayObject_new(openfl__display__DisplayObject);
extern hl_type t$_i32;
#include <lime/graphics/Image.h>
void openfl_display_DisplayObject___setParentRenderDirty(openfl__display__DisplayObject);
#include <lime/utils/ObjectPool.h>
#include <openfl/geom/Rectangle.h>
extern openfl__geom__$Rectangle g$_openfl_geom_Rectangle;
vdynamic* lime_utils_ObjectPool_get(lime__utils__ObjectPool);
void openfl_geom_Rectangle_setTo(openfl__geom__Rectangle,double,double,double,double);
void openfl_geom_Rectangle___transform(openfl__geom__Rectangle,openfl__geom__Rectangle,openfl__geom__Matrix);
void openfl_geom_Rectangle___expand(openfl__geom__Rectangle,double,double,double,double);
void lime_utils_ObjectPool_release(lime__utils__ObjectPool,vdynamic*);
bool openfl_display_DisplayObject_get_visible(openfl__display__DisplayObject);
openfl__display__DisplayObject openfl_display_DisplayObject_get_mask(openfl__display__DisplayObject);
openfl__geom__Matrix openfl_display_DisplayObject___getRenderTransform(openfl__display__DisplayObject);
bool openfl_geom_Rectangle_contains(openfl__geom__Rectangle,double,double);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
double openfl_display_DisplayObject_set_scaleY(openfl__display__DisplayObject,double);
double openfl_display_DisplayObject_set_scaleX(openfl__display__DisplayObject,double);

void openfl_display_Bitmap_new(openfl__display__Bitmap r0,openfl__display__BitmapData r1,vdynamic* r2,bool* r3) {
	bool r4;
	vdynamic *r7;
	int r6;
	if( r3 ) goto label$ab76377_1_3;
	r4 = false;
	goto label$ab76377_1_4;
	label$ab76377_1_3:
	r4 = *r3;
	label$ab76377_1_4:
	openfl_display_DisplayObject_new(((openfl__display__DisplayObject)r0));
	r6 = 2;
	r0->__drawableType = r6;
	r0->__bitmapData = r1;
	r0->pixelSnapping = r2;
	r0->smoothing = r4;
	if( r2 ) goto label$ab76377_1_14;
	r6 = 1;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r6;
	r0->pixelSnapping = r7;
	label$ab76377_1_14:
	return;
}

void openfl_display_Bitmap___enterFrame(openfl__display__Bitmap r0,int r1) {
	lime__graphics__Image r4;
	bool r7;
	int r5, r6;
	openfl__display__BitmapData r3;
	r3 = r0->__bitmapData;
	if( !r3 ) goto label$ab76377_2_18;
	r3 = r0->__bitmapData;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->image;
	if( !r4 ) goto label$ab76377_2_18;
	r3 = r0->__bitmapData;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->image;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->version;
	r6 = r0->__imageVersion;
	if( r5 == r6 ) goto label$ab76377_2_18;
	r7 = r0->__renderDirty;
	if( r7 ) goto label$ab76377_2_18;
	r7 = true;
	r0->__renderDirty = r7;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$ab76377_2_18:
	return;
}

void openfl_display_Bitmap___getBounds(openfl__display__Bitmap r0,openfl__geom__Rectangle r1,openfl__geom__Matrix r2) {
	openfl__geom__Rectangle r6;
	openfl__geom__$Rectangle r5;
	double r9, r10, r12, r13;
	lime__utils__ObjectPool r4;
	vdynamic *r3;
	int r11;
	openfl__display__BitmapData r8;
	r5 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r4 = r5->__pool;
	if( r4 == NULL ) hl_null_access();
	r3 = lime_utils_ObjectPool_get(r4);
	r6 = (openfl__geom__Rectangle)r3;
	r8 = r0->__bitmapData;
	if( !r8 ) goto label$ab76377_3_20;
	if( r6 == NULL ) hl_null_access();
	r9 = 0.;
	r10 = 0.;
	r8 = r0->__bitmapData;
	if( r8 == NULL ) hl_null_access();
	r11 = r8->width;
	r12 = (double)r11;
	r8 = r0->__bitmapData;
	if( r8 == NULL ) hl_null_access();
	r11 = r8->height;
	r13 = (double)r11;
	openfl_geom_Rectangle_setTo(r6,r9,r10,r12,r13);
	goto label$ab76377_3_26;
	label$ab76377_3_20:
	if( r6 == NULL ) hl_null_access();
	r9 = 0.;
	r10 = 0.;
	r12 = 0.;
	r13 = 0.;
	openfl_geom_Rectangle_setTo(r6,r9,r10,r12,r13);
	label$ab76377_3_26:
	openfl_geom_Rectangle___transform(r6,r6,r2);
	if( r1 == NULL ) hl_null_access();
	r9 = r6->x;
	r10 = r6->y;
	r12 = r6->width;
	r13 = r6->height;
	openfl_geom_Rectangle___expand(r1,r9,r10,r12,r13);
	r5 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r4 = r5->__pool;
	if( r4 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r4,((vdynamic*)r6));
	return;
}

bool openfl_display_Bitmap___hitTest(openfl__display__Bitmap r0,double r1,double r2,bool r3,hl__types__ArrayObj r4,bool r5,openfl__display__DisplayObject r6) {
	openfl__geom__Rectangle r20;
	openfl__display__DisplayObject r8;
	bool r7;
	openfl__geom__Matrix r12, r13;
	double r10, r11, r14, r15, r16, r17, r18;
	int r19;
	openfl__display__BitmapData r9;
	if( r6 == NULL ) hl_null_access();
	r7 = openfl_display_DisplayObject_get_visible(r6);
	if( !r7 ) goto label$ab76377_4_7;
	r7 = r0->__isMask;
	if( r7 ) goto label$ab76377_4_7;
	r9 = r0->__bitmapData;
	if( r9 ) goto label$ab76377_4_9;
	label$ab76377_4_7:
	r7 = false;
	return r7;
	label$ab76377_4_9:
	r8 = openfl_display_DisplayObject_get_mask(((openfl__display__DisplayObject)r0));
	if( !r8 ) goto label$ab76377_4_17;
	r8 = openfl_display_DisplayObject_get_mask(((openfl__display__DisplayObject)r0));
	if( r8 == NULL ) hl_null_access();
	r7 = ((bool (*)(openfl__display__DisplayObject,double,double))r8->$type->vobj_proto[17])(r8,r1,r2);
	if( r7 ) goto label$ab76377_4_17;
	r7 = false;
	return r7;
	label$ab76377_4_17:
	r12 = openfl_display_DisplayObject___getRenderTransform(((openfl__display__DisplayObject)r0));
	r12 = r0->__renderTransform;
	if( r12 == NULL ) hl_null_access();
	r10 = r12->a;
	r11 = r12->d;
	r10 = r10 * r11;
	r11 = r12->b;
	r14 = r12->c;
	r11 = r11 * r14;
	r10 = r10 - r11;
	r14 = 0.;
	if( r10 != r14 ) goto label$ab76377_4_32;
	r11 = r12->tx;
	r11 = -r11;
	goto label$ab76377_4_44;
	label$ab76377_4_32:
	r11 = 1.;
	r11 = r11 / r10;
	r14 = r12->c;
	r15 = r12->ty;
	r15 = r15 - r2;
	r14 = r14 * r15;
	r15 = r12->d;
	r17 = r12->tx;
	r16 = r1 - r17;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r11 = r11 * r14;
	label$ab76377_4_44:
	r13 = r0->__renderTransform;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->a;
	r15 = r13->d;
	r14 = r14 * r15;
	r15 = r13->b;
	r16 = r13->c;
	r15 = r15 * r16;
	r14 = r14 - r15;
	r16 = 0.;
	if( r14 != r16 ) goto label$ab76377_4_58;
	r15 = r13->ty;
	r15 = -r15;
	goto label$ab76377_4_70;
	label$ab76377_4_58:
	r15 = 1.;
	r15 = r15 / r14;
	r16 = r13->a;
	r18 = r13->ty;
	r17 = r2 - r18;
	r16 = r16 * r17;
	r17 = r13->b;
	r18 = r13->tx;
	r18 = r18 - r1;
	r17 = r17 * r18;
	r16 = r16 + r17;
	r15 = r15 * r16;
	label$ab76377_4_70:
	r17 = 0.;
	if( !(r17 < r11) ) goto label$ab76377_4_98;
	r17 = 0.;
	if( !(r17 < r15) ) goto label$ab76377_4_98;
	r9 = r0->__bitmapData;
	if( r9 == NULL ) hl_null_access();
	r19 = r9->width;
	r17 = (double)r19;
	if( !(r17 >= r11) ) goto label$ab76377_4_98;
	r9 = r0->__bitmapData;
	if( r9 == NULL ) hl_null_access();
	r19 = r9->height;
	r17 = (double)r19;
	if( !(r17 >= r15) ) goto label$ab76377_4_98;
	r20 = r0->__scrollRect;
	if( !r20 ) goto label$ab76377_4_92;
	r20 = r0->__scrollRect;
	if( r20 == NULL ) hl_null_access();
	r7 = openfl_geom_Rectangle_contains(r20,r11,r15);
	if( r7 ) goto label$ab76377_4_92;
	r7 = false;
	return r7;
	label$ab76377_4_92:
	if( !r4 ) goto label$ab76377_4_96;
	if( r5 ) goto label$ab76377_4_96;
	if( r4 == NULL ) hl_null_access();
	r19 = hl_types_ArrayObj_push(r4,((vdynamic*)r6));
	label$ab76377_4_96:
	r7 = true;
	return r7;
	label$ab76377_4_98:
	r7 = false;
	return r7;
}

bool openfl_display_Bitmap___hitTestMask(openfl__display__Bitmap r0,double r1,double r2) {
	bool r4;
	openfl__geom__Matrix r5, r7;
	double r6, r8, r9, r10, r11, r12, r13;
	int r14;
	openfl__display__BitmapData r3;
	r3 = r0->__bitmapData;
	if( r3 ) goto label$ab76377_5_4;
	r4 = false;
	return r4;
	label$ab76377_5_4:
	r5 = openfl_display_DisplayObject___getRenderTransform(((openfl__display__DisplayObject)r0));
	r5 = r0->__renderTransform;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->a;
	r8 = r5->d;
	r6 = r6 * r8;
	r8 = r5->b;
	r9 = r5->c;
	r8 = r8 * r9;
	r6 = r6 - r8;
	r9 = 0.;
	if( r6 != r9 ) goto label$ab76377_5_19;
	r8 = r5->tx;
	r8 = -r8;
	goto label$ab76377_5_31;
	label$ab76377_5_19:
	r8 = 1.;
	r8 = r8 / r6;
	r9 = r5->c;
	r10 = r5->ty;
	r10 = r10 - r2;
	r9 = r9 * r10;
	r10 = r5->d;
	r12 = r5->tx;
	r11 = r1 - r12;
	r10 = r10 * r11;
	r9 = r9 + r10;
	r8 = r8 * r9;
	label$ab76377_5_31:
	r7 = r0->__renderTransform;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->a;
	r10 = r7->d;
	r9 = r9 * r10;
	r10 = r7->b;
	r11 = r7->c;
	r10 = r10 * r11;
	r9 = r9 - r10;
	r11 = 0.;
	if( r9 != r11 ) goto label$ab76377_5_45;
	r10 = r7->ty;
	r10 = -r10;
	goto label$ab76377_5_57;
	label$ab76377_5_45:
	r10 = 1.;
	r10 = r10 / r9;
	r11 = r7->a;
	r13 = r7->ty;
	r12 = r2 - r13;
	r11 = r11 * r12;
	r12 = r7->b;
	r13 = r7->tx;
	r13 = r13 - r1;
	r12 = r12 * r13;
	r11 = r11 + r12;
	r10 = r10 * r11;
	label$ab76377_5_57:
	r12 = 0.;
	if( !(r12 < r8) ) goto label$ab76377_5_73;
	r12 = 0.;
	if( !(r12 < r10) ) goto label$ab76377_5_73;
	r3 = r0->__bitmapData;
	if( r3 == NULL ) hl_null_access();
	r14 = r3->width;
	r12 = (double)r14;
	if( !(r12 >= r8) ) goto label$ab76377_5_73;
	r3 = r0->__bitmapData;
	if( r3 == NULL ) hl_null_access();
	r14 = r3->height;
	r12 = (double)r14;
	if( !(r12 >= r10) ) goto label$ab76377_5_73;
	r4 = true;
	return r4;
	label$ab76377_5_73:
	r4 = false;
	return r4;
}

openfl__display__BitmapData openfl_display_Bitmap_get_bitmapData(openfl__display__Bitmap r0) {
	openfl__display__BitmapData r1;
	r1 = r0->__bitmapData;
	return r1;
}

openfl__display__BitmapData openfl_display_Bitmap_set_bitmapData(openfl__display__Bitmap r0,openfl__display__BitmapData r1) {
	hl__types__ArrayObj r5, r6;
	bool r3;
	int r7;
	openfl__display__BitmapData r2;
	r0->__bitmapData = r1;
	r3 = false;
	r0->smoothing = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$ab76377_7_8;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$ab76377_7_8:
	r5 = r0->__filters;
	r6 = NULL;
	if( r5 != r6 ) goto label$ab76377_7_13;
	r3 = false;
	goto label$ab76377_7_14;
	label$ab76377_7_13:
	r3 = true;
	label$ab76377_7_14:
	r7 = -1;
	r0->__imageVersion = r7;
	r2 = r0->__bitmapData;
	return r2;
}

double openfl_display_Bitmap_set_height(openfl__display__Bitmap r0,double r1) {
	double r3, r5;
	int r4;
	openfl__display__BitmapData r2;
	r2 = r0->__bitmapData;
	if( !r2 ) goto label$ab76377_8_9;
	r2 = r0->__bitmapData;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->height;
	r5 = (double)r4;
	r3 = r1 / r5;
	r3 = openfl_display_DisplayObject_set_scaleY(((openfl__display__DisplayObject)r0),r3);
	goto label$ab76377_8_11;
	label$ab76377_8_9:
	r3 = 0.;
	r3 = openfl_display_DisplayObject_set_scaleY(((openfl__display__DisplayObject)r0),r3);
	label$ab76377_8_11:
	return r1;
}

double openfl_display_Bitmap_set_width(openfl__display__Bitmap r0,double r1) {
	double r3, r5;
	int r4;
	openfl__display__BitmapData r2;
	r2 = r0->__bitmapData;
	if( !r2 ) goto label$ab76377_9_9;
	r2 = r0->__bitmapData;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->width;
	r5 = (double)r4;
	r3 = r1 / r5;
	r3 = openfl_display_DisplayObject_set_scaleX(((openfl__display__DisplayObject)r0),r3);
	goto label$ab76377_9_11;
	label$ab76377_9_9:
	r3 = 0.;
	r3 = openfl_display_DisplayObject_set_scaleX(((openfl__display__DisplayObject)r0),r3);
	label$ab76377_9_11:
	return r1;
}

