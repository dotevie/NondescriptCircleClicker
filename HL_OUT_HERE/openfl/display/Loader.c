// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/Loader.h>
#include <openfl/events/IOErrorEvent.h>
extern hl_type t$openfl_events_IOErrorEvent;
extern hl_type t$_dyn;
void openfl_display_DisplayObjectContainer_new(openfl__display__DisplayObjectContainer);
openfl__display__LoaderInfo openfl_display_LoaderInfo_create(openfl__display__Loader);
#include <openfl/errors/Error.h>
extern hl_type t$openfl_errors_Error;
extern String s$59023a3;
void openfl_errors_Error_new(openfl__errors__Error,String,int*);
#include <hl/types/ArrayDyn.h>
extern hl_type t$vrt_329ffa8;
extern String s$openfl_display_Loader_hx;
extern hl_type t$String;
extern hl_type t$_i32;
extern String s$openfl_display_Loader;
extern String s$close;
extern hl_type t$vrt_eaa6a3b;
void openfl_utils__internal_Lib_notImplemented(vvirtual*);
#include <openfl/net/URLRequest.h>
#include <openfl/system/LoaderContext.h>
#include <openfl/display/MovieClip.h>
#include <openfl/net/URLLoader.h>
#include <openfl/events/ProgressEvent.h>
void openfl_display_Loader_unload(openfl__display__Loader);
extern hl_type t$openfl_events_Event;
extern String s$open;
void openfl_events_Event_new(openfl__events__Event,String,bool*,bool*);
bool openfl_events_EventDispatcher_dispatchEvent(openfl__events__EventDispatcher,openfl__events__Event);
openfl__display__MovieClip openfl_Lib_get_current(void);
openfl__display__LoaderInfo openfl_display_DisplayObject_get_loaderInfo(openfl__display__DisplayObject);
extern String s$;
int String___compare(String,vdynamic*);
extern String s$d1457b7;
int String_indexOf(String,String,vdynamic*);
String String_substring(String,int,vdynamic*);
extern String s$6666cd7;
bool StringTools_endsWith(String,String);
extern String s$_bundle;
extern String s$_library_json;
String String___add__(String,String);
extern String s$5058f1a;
int String_lastIndexOf(String,String,vdynamic*);
#include <hl/natives.h>
extern String s$c71c861;
extern String s$image_gif;
extern String s$image_jpeg;
extern String s$application_javascript;
extern String s$application_json;
extern String s$image_png;
extern String s$application_x_shockwave_flash;
extern hl_type t$openfl_net_URLLoader;
void openfl_net_URLLoader_new(openfl__net__URLLoader,openfl__net__URLRequest);
extern String s$_json;
extern String s$_javascript;
extern String s$_ecmascript;
extern String s$complete;
void openfl_display_Loader_loader_onComplete(openfl__display__Loader,openfl__events__Event);
extern hl_type t$fun_c1fcae8;
void wrapt$fun_c6e0b11(vclosure*,vdynamic*);
extern hl_type t$fun_c6e0b11;
void openfl_events_EventDispatcher_addEventListener(openfl__events__EventDispatcher,String,vclosure*,bool*,int*,bool*);
extern String s$ioError;
void openfl_display_Loader_loader_onError(openfl__display__Loader,openfl__events__IOErrorEvent);
extern hl_type t$fun_a815e85;
extern hl_type t$fun_3b3aaa7;
extern String s$progress;
void openfl_display_Loader_loader_onProgress(openfl__display__Loader,openfl__events__ProgressEvent);
extern hl_type t$fun_8056412;
void wrapt$fun_179010d(vclosure*,vdynamic*);
extern hl_type t$fun_179010d;
void openfl_net_URLLoader_load(openfl__net__URLLoader,openfl__net__URLRequest);
#include <openfl/utils/ByteArrayData.h>
#include <lime/app/Future.h>
lime__app__Future openfl_display_BitmapData_loadFromBytes(openfl__utils__ByteArrayData,openfl__utils__ByteArrayData);
void openfl_display_Loader_BitmapData_onLoad(openfl__display__Loader,openfl__display__BitmapData);
extern hl_type t$fun_710cc2a;
void wrapt$fun_e9a593d(vclosure*,vdynamic*);
extern hl_type t$fun_e9a593d;
lime__app__Future lime_app_Future_onComplete(lime__app__Future,vclosure*);
void openfl_display_Loader_BitmapData_onError(openfl__display__Loader,vdynamic*);
extern hl_type t$fun_a4ca68f;
lime__app__Future lime_app_Future_onError(lime__app__Future,vclosure*);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_removeChild(openfl__display__DisplayObjectContainer,openfl__display__DisplayObject);
void openfl_utils_Assets_unloadLibrary(String);
extern String s$unload;
int openfl_display_DisplayObjectContainer_get_numChildren(openfl__display__DisplayObjectContainer);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_getChildAt(openfl__display__DisplayObjectContainer,int);
void openfl_events_IOErrorEvent_new(openfl__events__IOErrorEvent,String,bool*,bool*,String,int*);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_addChildAt(openfl__display__DisplayObjectContainer,openfl__display__DisplayObject,int);
String Std_string(vdynamic*);
extern String s$Unknown_error;
extern hl_type t$openfl_display_Bitmap;
void openfl_display_Bitmap_new(openfl__display__Bitmap,openfl__display__BitmapData,vdynamic*,bool*);
extern hl_type t$openfl_events_ProgressEvent;
void openfl_events_ProgressEvent_new(openfl__events__ProgressEvent,String,bool*,bool*,double*,double*);
extern hl_type t$openfl_utils_AssetLibrary;
extern hl_type t$lime_utils_AssetLibrary;
void openfl_utils_Assets_registerLibrary(String,openfl__utils__AssetLibrary);
bool openfl_utils_Assets_hasLibrary(String);
openfl__display__MovieClip openfl_utils_AssetLibrary_getMovieClip(openfl__utils__AssetLibrary,String);
double openfl_display_DisplayObject_get_width(openfl__display__DisplayObject);
double openfl_display_DisplayObject_get_height(openfl__display__DisplayObject);
#include <openfl/utils/AssetLibrary.h>
#include <openfl/display/Sprite.h>
String haxe_io_Path_directory(String);
lime__utils__AssetManifest lime_utils_AssetManifest_parse(String,String);
extern String s$Cannot_parse_asset_manifest;
lime__utils__AssetLibrary lime_utils_AssetLibrary_fromManifest(lime__utils__AssetManifest);
extern String s$Cannot_open_library;
extern openfl__utils__$AssetLibrary g$_openfl_utils_AssetLibrary;
bool Std_isOfType(vdynamic*,vdynamic*);
extern hl_type t$ctx_75e1427;
extern hl_type t$fun_fe23eb1;
void wrapt$fun_b8b6878(vclosure*,vdynamic*);
extern hl_type t$fun_b8b6878;
extern hl_type t$fun_cc3d0eb;
void wrapt$fun_c8bb61c(vclosure*,vdynamic*);
extern hl_type t$fun_c8bb61c;
extern hl_type t$openfl_display_Sprite;
void openfl_display_Sprite_new(openfl__display__Sprite);
extern hl_type t$openfl_utils_ByteArrayData;

void openfl_display_Loader_load__$1(vclosure* r0,vdynamic* r1) {
	openfl__events__IOErrorEvent r2;
	r2 = (openfl__events__IOErrorEvent)hl_dyn_castp(&r1,&t$_dyn,&t$openfl_events_IOErrorEvent);
	r0->hasValue ? ((void (*)(vdynamic*,openfl__events__IOErrorEvent))r0->fun)((vdynamic*)r0->value,r2) : ((void (*)(openfl__events__IOErrorEvent))r0->fun)(r2);
	return;
}

void openfl_display_Loader_new(openfl__display__Loader r0) {
	bool r5;
	openfl__events__UncaughtErrorEvents r4;
	openfl__display__LoaderInfo r3;
	int r2;
	openfl_display_DisplayObjectContainer_new(((openfl__display__DisplayObjectContainer)r0));
	r2 = 4;
	r0->__drawableType = r2;
	r3 = openfl_display_LoaderInfo_create(r0);
	r0->contentLoaderInfo = r3;
	r3 = r0->contentLoaderInfo;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->uncaughtErrorEvents;
	r0->uncaughtErrorEvents = r4;
	r5 = true;
	r0->__unloaded = r5;
	return;
}

openfl__display__DisplayObject openfl_display_Loader_addChild(openfl__display__Loader r0,openfl__display__DisplayObject r1) {
	String r3;
	openfl__errors__Error r2;
	int *r5;
	int r4;
	r2 = (openfl__errors__Error)hl_alloc_obj(&t$openfl_errors_Error);
	r3 = (String)s$59023a3;
	r4 = 2069;
	r5 = &r4;
	openfl_errors_Error_new(r2,r3,r5);
	hl_throw((vdynamic*)r2);
}

openfl__display__DisplayObject openfl_display_Loader_addChildAt(openfl__display__Loader r0,openfl__display__DisplayObject r1,int r2) {
	String r4;
	openfl__errors__Error r3;
	int *r6;
	int r5;
	r3 = (openfl__errors__Error)hl_alloc_obj(&t$openfl_errors_Error);
	r4 = (String)s$59023a3;
	r5 = 2069;
	r6 = &r5;
	openfl_errors_Error_new(r3,r4,r6);
	hl_throw((vdynamic*)r3);
}

void openfl_display_Loader_close(openfl__display__Loader r0) {
	String r3;
	vvirtual *r2, *r5;
	int r4;
	r2 = hl_alloc_virtual(&t$vrt_329ffa8);
	r3 = (String)s$openfl_display_Loader_hx;
	if( hl_vfields(r2)[1] ) *(String*)(hl_vfields(r2)[1]) = (String)r3; else hl_dyn_setp(r2->value,37969014/*fileName*/,&t$String,r3);
	r4 = 228;
	if( hl_vfields(r2)[2] ) *(int*)(hl_vfields(r2)[2]) = (int)r4; else hl_dyn_seti(r2->value,371360620/*lineNumber*/,&t$_i32,r4);
	r3 = (String)s$openfl_display_Loader;
	if( hl_vfields(r2)[0] ) *(String*)(hl_vfields(r2)[0]) = (String)r3; else hl_dyn_setp(r2->value,-63073762/*className*/,&t$String,r3);
	r3 = (String)s$close;
	if( hl_vfields(r2)[3] ) *(String*)(hl_vfields(r2)[3]) = (String)r3; else hl_dyn_setp(r2->value,302979532/*methodName*/,&t$String,r3);
	r5 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r2);
	openfl_utils__internal_Lib_notImplemented(r5);
	return;
}

void openfl_display_Loader_load(openfl__display__Loader r0,openfl__net__URLRequest r1,openfl__system__LoaderContext r2) {
	bool *r6, *r7;
	String r5, r13, r15;
	bool r8;
	openfl__events__Event r4;
	openfl__net__URLLoader r22;
	openfl__display__MovieClip r11;
	openfl__display__LoaderInfo r9, r10;
	vclosure *r23, *r24, *r26, *r27;
	openfl__net__URLRequest r12;
	int *r25;
	vdynamic *r16;
	vbyte *r20, *r21;
	int r14, r17, r18, r19;
	openfl_display_Loader_unload(r0);
	r4 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r5 = (String)s$open;
	r6 = NULL;
	r7 = NULL;
	openfl_events_Event_new(r4,r5,r6,r7);
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r8 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r9),r4);
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r11 = openfl_Lib_get_current();
	if( r11 == NULL ) hl_null_access();
	r10 = openfl_display_DisplayObject_get_loaderInfo(((openfl__display__DisplayObject)r11));
	if( r10 == NULL ) hl_null_access();
	r5 = r10->url;
	r9->loaderURL = r5;
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	if( r1 == NULL ) hl_null_access();
	r5 = r1->url;
	r9->url = r5;
	r8 = false;
	r0->__unloaded = r8;
	r5 = r1->contentType;
	if( !r5 ) goto label$cdfbedc_6_29;
	r5 = r1->contentType;
	r13 = (String)s$;
	if( r5 != r13 && (!r5 || !r13 || String___compare(r5,(vdynamic*)r13) != 0) ) goto label$cdfbedc_6_178;
	label$cdfbedc_6_29:
	r5 = (String)s$;
	r13 = r1->url;
	r0->__path = r13;
	r13 = r0->__path;
	if( r13 == NULL ) hl_null_access();
	r15 = (String)s$d1457b7;
	r16 = NULL;
	r14 = String_indexOf(r13,r15,r16);
	r18 = -1;
	if( r18 >= r14 ) goto label$cdfbedc_6_45;
	r13 = r0->__path;
	if( r13 == NULL ) hl_null_access();
	r17 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r14;
	r13 = String_substring(r13,r17,r16);
	r0->__path = r13;
	label$cdfbedc_6_45:
	r13 = r0->__path;
	r15 = (String)s$6666cd7;
	r8 = StringTools_endsWith(r13,r15);
	if( !r8 ) goto label$cdfbedc_6_62;
	r13 = r0->__path;
	if( r13 == NULL ) hl_null_access();
	r17 = 0;
	r15 = r0->__path;
	if( r15 == NULL ) hl_null_access();
	r18 = r15->length;
	r19 = 1;
	r18 = r18 - r19;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r18;
	r13 = String_substring(r13,r17,r16);
	r0->__path = r13;
	goto label$cdfbedc_6_45;
	label$cdfbedc_6_62:
	r13 = r0->__path;
	r15 = (String)s$_bundle;
	r8 = StringTools_endsWith(r13,r15);
	if( !r8 ) goto label$cdfbedc_6_84;
	r13 = r0->__path;
	r15 = (String)s$_library_json;
	r13 = String___add__(r13,r15);
	r0->__path = r13;
	r18 = -1;
	if( r18 >= r14 ) goto label$cdfbedc_6_81;
	if( r1 == NULL ) hl_null_access();
	r13 = r0->__path;
	r15 = r1->url;
	if( r15 == NULL ) hl_null_access();
	r16 = NULL;
	r15 = String_substring(r15,r14,r16);
	r13 = String___add__(r13,r15);
	r1->url = r13;
	goto label$cdfbedc_6_84;
	label$cdfbedc_6_81:
	if( r1 == NULL ) hl_null_access();
	r13 = r0->__path;
	r1->url = r13;
	label$cdfbedc_6_84:
	r13 = r0->__path;
	if( r13 == NULL ) hl_null_access();
	r15 = (String)s$5058f1a;
	r16 = NULL;
	r17 = String_lastIndexOf(r13,r15,r16);
	r19 = -1;
	if( r19 >= r17 ) goto label$cdfbedc_6_98;
	r13 = r0->__path;
	if( r13 == NULL ) hl_null_access();
	r19 = 1;
	r18 = r17 + r19;
	r16 = NULL;
	r13 = String_substring(r13,r18,r16);
	r5 = r13;
	label$cdfbedc_6_98:
	if( !r5 ) goto label$cdfbedc_6_107;
	r18 = r5->length;
	r19 = 3;
	if( r18 != r19 ) goto label$cdfbedc_6_107;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("gif");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_163;
	label$cdfbedc_6_107:
	if( !r5 ) goto label$cdfbedc_6_116;
	r18 = r5->length;
	r19 = 4;
	if( r18 != r19 ) goto label$cdfbedc_6_116;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("jpeg");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_165;
	label$cdfbedc_6_116:
	if( !r5 ) goto label$cdfbedc_6_125;
	r18 = r5->length;
	r19 = 3;
	if( r18 != r19 ) goto label$cdfbedc_6_125;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("jpg");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_165;
	label$cdfbedc_6_125:
	if( !r5 ) goto label$cdfbedc_6_134;
	r18 = r5->length;
	r19 = 2;
	if( r18 != r19 ) goto label$cdfbedc_6_134;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("js");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_167;
	label$cdfbedc_6_134:
	if( !r5 ) goto label$cdfbedc_6_143;
	r18 = r5->length;
	r19 = 4;
	if( r18 != r19 ) goto label$cdfbedc_6_143;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("json");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_169;
	label$cdfbedc_6_143:
	if( !r5 ) goto label$cdfbedc_6_152;
	r18 = r5->length;
	r19 = 3;
	if( r18 != r19 ) goto label$cdfbedc_6_152;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("png");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_171;
	label$cdfbedc_6_152:
	if( !r5 ) goto label$cdfbedc_6_161;
	r18 = r5->length;
	r19 = 3;
	if( r18 != r19 ) goto label$cdfbedc_6_161;
	r20 = r5->bytes;
	r21 = (vbyte*)USTR("swf");
	r18 = hl_string_compare(r20,r21,r18);
	r19 = 0;
	if( r18 == r19 ) goto label$cdfbedc_6_173;
	label$cdfbedc_6_161:
	r15 = (String)s$c71c861;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_163:
	r15 = (String)s$image_gif;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_165:
	r15 = (String)s$image_jpeg;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_167:
	r15 = (String)s$application_javascript;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_169:
	r15 = (String)s$application_json;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_171:
	r15 = (String)s$image_png;
	goto label$cdfbedc_6_174;
	label$cdfbedc_6_173:
	r15 = (String)s$application_x_shockwave_flash;
	label$cdfbedc_6_174:
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r9->contentType = r15;
	goto label$cdfbedc_6_182;
	label$cdfbedc_6_178:
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r5 = r1->contentType;
	r9->contentType = r5;
	label$cdfbedc_6_182:
	r22 = (openfl__net__URLLoader)hl_alloc_obj(&t$openfl_net_URLLoader);
	r12 = NULL;
	openfl_net_URLLoader_new(r22,r12);
	r14 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r14;
	r22->dataFormat = r16;
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r5 = r9->contentType;
	if( r5 == NULL ) hl_null_access();
	r13 = (String)s$_json;
	r16 = NULL;
	r14 = String_indexOf(r5,r13,r16);
	r17 = -1;
	if( r17 < r14 ) goto label$cdfbedc_6_215;
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r5 = r9->contentType;
	if( r5 == NULL ) hl_null_access();
	r13 = (String)s$_javascript;
	r16 = NULL;
	r14 = String_indexOf(r5,r13,r16);
	r17 = -1;
	if( r17 < r14 ) goto label$cdfbedc_6_215;
	r9 = r0->contentLoaderInfo;
	if( r9 == NULL ) hl_null_access();
	r5 = r9->contentType;
	if( r5 == NULL ) hl_null_access();
	r13 = (String)s$_ecmascript;
	r16 = NULL;
	r14 = String_indexOf(r5,r13,r16);
	r17 = -1;
	if( r17 >= r14 ) goto label$cdfbedc_6_218;
	label$cdfbedc_6_215:
	r14 = 1;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r14;
	r22->dataFormat = r16;
	label$cdfbedc_6_218:
	r5 = (String)s$complete;
	r23 = hl_alloc_closure_ptr(&t$fun_c1fcae8,openfl_display_Loader_loader_onComplete,r0);
	if( r23 ) goto label$cdfbedc_6_223;
	r24 = NULL;
	goto label$cdfbedc_6_224;
	label$cdfbedc_6_223:
	r24 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r23);
	label$cdfbedc_6_224:
	r6 = NULL;
	r25 = NULL;
	r7 = NULL;
	openfl_events_EventDispatcher_addEventListener(((openfl__events__EventDispatcher)r22),r5,r24,r6,r25,r7);
	r5 = (String)s$ioError;
	r26 = hl_alloc_closure_ptr(&t$fun_a815e85,openfl_display_Loader_loader_onError,r0);
	if( r26 ) goto label$cdfbedc_6_233;
	r24 = NULL;
	goto label$cdfbedc_6_234;
	label$cdfbedc_6_233:
	r24 = hl_alloc_closure_ptr(&t$fun_3b3aaa7,openfl_display_Loader_load__$1,r26);
	label$cdfbedc_6_234:
	r6 = NULL;
	r25 = NULL;
	r7 = NULL;
	openfl_events_EventDispatcher_addEventListener(((openfl__events__EventDispatcher)r22),r5,r24,r6,r25,r7);
	r5 = (String)s$progress;
	r27 = hl_alloc_closure_ptr(&t$fun_8056412,openfl_display_Loader_loader_onProgress,r0);
	if( r27 ) goto label$cdfbedc_6_243;
	r24 = NULL;
	goto label$cdfbedc_6_244;
	label$cdfbedc_6_243:
	r24 = hl_alloc_closure_ptr(&t$fun_179010d,wrapt$fun_179010d,r27);
	label$cdfbedc_6_244:
	r6 = NULL;
	r25 = NULL;
	r7 = NULL;
	openfl_events_EventDispatcher_addEventListener(((openfl__events__EventDispatcher)r22),r5,r24,r6,r25,r7);
	openfl_net_URLLoader_load(r22,r1);
	return;
}

void openfl_display_Loader_loadBytes(openfl__display__Loader r0,openfl__utils__ByteArrayData r1,openfl__system__LoaderContext r2) {
	openfl__utils__ByteArrayData r4;
	lime__app__Future r3;
	vclosure *r5, *r6;
	r4 = NULL;
	r3 = openfl_display_BitmapData_loadFromBytes(r1,r4);
	if( r3 == NULL ) hl_null_access();
	r5 = hl_alloc_closure_ptr(&t$fun_710cc2a,openfl_display_Loader_BitmapData_onLoad,r0);
	if( r5 ) goto label$cdfbedc_7_7;
	r6 = NULL;
	goto label$cdfbedc_7_8;
	label$cdfbedc_7_7:
	r6 = hl_alloc_closure_ptr(&t$fun_e9a593d,wrapt$fun_e9a593d,r5);
	label$cdfbedc_7_8:
	r3 = lime_app_Future_onComplete(r3,r6);
	if( r3 == NULL ) hl_null_access();
	r6 = hl_alloc_closure_ptr(&t$fun_a4ca68f,openfl_display_Loader_BitmapData_onError,r0);
	r3 = lime_app_Future_onError(r3,r6);
	return;
}

openfl__display__DisplayObject openfl_display_Loader_removeChild(openfl__display__Loader r0,openfl__display__DisplayObject r1) {
	String r6;
	openfl__display__DisplayObject r3, r4;
	openfl__errors__Error r5;
	int *r8;
	int r7;
	r4 = r0->content;
	if( r1 != r4 ) goto label$cdfbedc_8_5;
	r3 = r0->content;
	r3 = openfl_display_DisplayObjectContainer_removeChild(((openfl__display__DisplayObjectContainer)r0),r3);
	return r3;
	label$cdfbedc_8_5:
	r5 = (openfl__errors__Error)hl_alloc_obj(&t$openfl_errors_Error);
	r6 = (String)s$59023a3;
	r7 = 2069;
	r8 = &r7;
	openfl_errors_Error_new(r5,r6,r8);
	hl_throw((vdynamic*)r5);
}

openfl__display__DisplayObject openfl_display_Loader_removeChildAt(openfl__display__Loader r0,int r1) {
	String r3;
	openfl__errors__Error r2;
	int *r5;
	int r4;
	r2 = (openfl__errors__Error)hl_alloc_obj(&t$openfl_errors_Error);
	r3 = (String)s$59023a3;
	r4 = 2069;
	r5 = &r4;
	openfl_errors_Error_new(r2,r3,r5);
	hl_throw((vdynamic*)r2);
}

void openfl_display_Loader_setChildIndex(openfl__display__Loader r0,openfl__display__DisplayObject r1,int r2) {
	String r4;
	openfl__errors__Error r3;
	int *r6;
	int r5;
	r3 = (openfl__errors__Error)hl_alloc_obj(&t$openfl_errors_Error);
	r4 = (String)s$59023a3;
	r5 = 2069;
	r6 = &r5;
	openfl_errors_Error_new(r3,r4,r6);
	hl_throw((vdynamic*)r3);
}

void openfl_display_Loader_unload(openfl__display__Loader r0) {
	bool *r10, *r11;
	String r6;
	openfl__display__DisplayObject r3;
	bool r2;
	openfl__events__Event r9;
	openfl__display__DisplayObjectContainer r4;
	openfl__display__LoaderInfo r7;
	openfl__utils__AssetLibrary r5;
	int r8;
	r2 = r0->__unloaded;
	if( r2 ) goto label$cdfbedc_11_58;
	r3 = r0->content;
	if( !r3 ) goto label$cdfbedc_11_10;
	r3 = r0->content;
	if( r3 == NULL ) hl_null_access();
	r4 = r3->parent;
	if( r4 != ((openfl__display__DisplayObjectContainer)r0) ) goto label$cdfbedc_11_10;
	r3 = r0->content;
	r3 = openfl_display_DisplayObjectContainer_removeChild(((openfl__display__DisplayObjectContainer)r0),r3);
	label$cdfbedc_11_10:
	r5 = r0->__library;
	if( !r5 ) goto label$cdfbedc_11_18;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->url;
	openfl_utils_Assets_unloadLibrary(r6);
	r5 = NULL;
	r0->__library = r5;
	label$cdfbedc_11_18:
	r3 = NULL;
	r0->content = r3;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = NULL;
	r7->url = r6;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = NULL;
	r7->contentType = r6;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r3 = NULL;
	r7->content = r3;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r7->bytesLoaded = r8;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r7->bytesTotal = r8;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r7->width = r8;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r8 = 0;
	r7->height = r8;
	r2 = true;
	r0->__unloaded = r2;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r9 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$unload;
	r10 = NULL;
	r11 = NULL;
	openfl_events_Event_new(r9,r6,r10,r11);
	r2 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r7),r9);
	label$cdfbedc_11_58:
	return;
}

void openfl_display_Loader_unloadAndStop(openfl__display__Loader r0,bool* r1) {
	openfl__display__DisplayObject r4;
	bool r2;
	int r5, r6, r7;
	if( r1 ) goto label$cdfbedc_12_3;
	r2 = true;
	goto label$cdfbedc_12_4;
	label$cdfbedc_12_3:
	r2 = *r1;
	label$cdfbedc_12_4:
	r4 = r0->content;
	if( !r4 ) goto label$cdfbedc_12_9;
	r4 = r0->content;
	if( r4 == NULL ) hl_null_access();
	((void (*)(openfl__display__DisplayObject))r4->$type->vobj_proto[22])(r4);
	label$cdfbedc_12_9:
	r5 = 0;
	r6 = openfl_display_DisplayObjectContainer_get_numChildren(((openfl__display__DisplayObjectContainer)r0));
	label$cdfbedc_12_11:
	if( r5 >= r6 ) goto label$cdfbedc_12_19;
	r7 = r5;
	++r5;
	r4 = openfl_display_DisplayObjectContainer_getChildAt(((openfl__display__DisplayObjectContainer)r0),r7);
	if( r4 == NULL ) hl_null_access();
	((void (*)(openfl__display__DisplayObject))r4->$type->vobj_proto[22])(r4);
	goto label$cdfbedc_12_11;
	label$cdfbedc_12_19:
	openfl_display_Loader_unload(r0);
	return;
}

void openfl_display_Loader___dispatchError(openfl__display__Loader r0,String r1) {
	bool *r4, *r5;
	String r3, r6;
	bool r9;
	openfl__events__IOErrorEvent r2;
	openfl__display__LoaderInfo r10;
	int *r7;
	r2 = (openfl__events__IOErrorEvent)hl_alloc_obj(&t$openfl_events_IOErrorEvent);
	r3 = (String)s$ioError;
	r4 = NULL;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	openfl_events_IOErrorEvent_new(r2,r3,r4,r5,r6,r7);
	r2->text = r1;
	r10 = r0->contentLoaderInfo;
	if( r10 == NULL ) hl_null_access();
	r9 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r10),((openfl__events__Event)r2));
	return;
}

void openfl_display_Loader___setContent(openfl__display__Loader r0,openfl__display__DisplayObject r1,int r2,int r3) {
	openfl__display__DisplayObject r4;
	openfl__display__LoaderInfo r5;
	int r6;
	r0->content = r1;
	r5 = r0->contentLoaderInfo;
	if( r5 == NULL ) hl_null_access();
	r5->content = r1;
	r5 = r0->contentLoaderInfo;
	if( r5 == NULL ) hl_null_access();
	r5->width = r2;
	r5 = r0->contentLoaderInfo;
	if( r5 == NULL ) hl_null_access();
	r5->height = r3;
	if( !r1 ) goto label$cdfbedc_14_13;
	r6 = 0;
	r4 = openfl_display_DisplayObjectContainer_addChildAt(((openfl__display__DisplayObjectContainer)r0),r1,r6);
	label$cdfbedc_14_13:
	return;
}

void openfl_display_Loader_BitmapData_onError(openfl__display__Loader r0,vdynamic* r1) {
	String r3;
	r3 = Std_string(r1);
	openfl_display_Loader___dispatchError(r0,r3);
	return;
}

void openfl_display_Loader_BitmapData_onLoad(openfl__display__Loader r0,openfl__display__BitmapData r1) {
	bool *r6, *r12;
	String r3;
	bool r9;
	openfl__events__Event r11;
	openfl__display__Bitmap r4;
	openfl__display__LoaderInfo r10;
	vdynamic *r5;
	int r7, r8;
	if( r1 ) goto label$cdfbedc_16_4;
	r3 = (String)s$Unknown_error;
	openfl_display_Loader___dispatchError(r0,r3);
	return;
	label$cdfbedc_16_4:
	r4 = (openfl__display__Bitmap)hl_alloc_obj(&t$openfl_display_Bitmap);
	r5 = NULL;
	r6 = NULL;
	openfl_display_Bitmap_new(r4,r1,r5,r6);
	if( r1 == NULL ) hl_null_access();
	r7 = r1->width;
	r8 = r1->height;
	openfl_display_Loader___setContent(r0,((openfl__display__DisplayObject)r4),r7,r8);
	r10 = r0->contentLoaderInfo;
	if( r10 == NULL ) hl_null_access();
	r11 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r3 = (String)s$complete;
	r6 = NULL;
	r12 = NULL;
	openfl_events_Event_new(r11,r3,r6,r12);
	r9 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r10),r11);
	return;
}

void openfl_display_Loader_BitmapData_onProgress(openfl__display__Loader r0,int r1,int r2) {
	bool *r5, *r6;
	String r4;
	openfl__events__ProgressEvent r3;
	bool r11;
	openfl__display__LoaderInfo r12;
	double r10;
	double *r7, *r8;
	r3 = (openfl__events__ProgressEvent)hl_alloc_obj(&t$openfl_events_ProgressEvent);
	r4 = (String)s$progress;
	r5 = NULL;
	r6 = NULL;
	r7 = NULL;
	r8 = NULL;
	openfl_events_ProgressEvent_new(r3,r4,r5,r6,r7,r8);
	r10 = (double)r1;
	r3->bytesLoaded = r10;
	r10 = (double)r2;
	r3->bytesTotal = r10;
	r12 = r0->contentLoaderInfo;
	if( r12 == NULL ) hl_null_access();
	r11 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r12),((openfl__events__Event)r3));
	return;
}

void openfl_display_Loader_loader_onComplete__$1(venum* r0,lime__utils__AssetLibrary r1) {
	bool *r17, *r18;
	String r6;
	openfl__display__Loader r2, r14;
	bool r9;
	openfl__events__Event r16;
	lime__utils__AssetManifest r8;
	openfl__display__MovieClip r10;
	openfl__display__LoaderInfo r7;
	openfl__utils__AssetLibrary r4;
	double r11, r13;
	lime__utils__AssetLibrary r3;
	int r12, r15;
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_75e1427*)r0)->p1;
	r4 = (openfl__utils__AssetLibrary)hl_dyn_castp(&r3,&t$lime_utils_AssetLibrary,&t$openfl_utils_AssetLibrary);
	r2->__library = r4;
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->url;
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->__library;
	openfl_utils_Assets_registerLibrary(r6,r4);
	r8 = ((Enumt$ctx_75e1427*)r0)->p0;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->name;
	if( !r6 ) goto label$cdfbedc_18_30;
	r8 = ((Enumt$ctx_75e1427*)r0)->p0;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->name;
	r9 = openfl_utils_Assets_hasLibrary(r6);
	if( r9 ) goto label$cdfbedc_18_30;
	r8 = ((Enumt$ctx_75e1427*)r0)->p0;
	if( r8 == NULL ) hl_null_access();
	r6 = r8->name;
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->__library;
	openfl_utils_Assets_registerLibrary(r6,r4);
	label$cdfbedc_18_30:
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r4 = r2->__library;
	if( r4 == NULL ) hl_null_access();
	r6 = (String)s$;
	r10 = openfl_utils_AssetLibrary_getMovieClip(r4,r6);
	r2 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r10 == NULL ) hl_null_access();
	r11 = openfl_display_DisplayObject_get_width(((openfl__display__DisplayObject)r10));
	r12 = (int)r11;
	r13 = openfl_display_DisplayObject_get_height(((openfl__display__DisplayObject)r10));
	if( r2 == NULL ) hl_null_access();
	r15 = (int)r13;
	openfl_display_Loader___setContent(r2,((openfl__display__DisplayObject)r10),r12,r15);
	r14 = ((Enumt$ctx_75e1427*)r0)->p2;
	if( r14 == NULL ) hl_null_access();
	r7 = r14->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r16 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$complete;
	r17 = NULL;
	r18 = NULL;
	openfl_events_Event_new(r16,r6,r17,r18);
	r9 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r7),r16);
	return;
}

void openfl_display_Loader_loader_onComplete__$2(openfl__display__Loader r0,String r1) {
	if( r0 == NULL ) hl_null_access();
	openfl_display_Loader___dispatchError(r0,r1);
	return;
}

void openfl_display_Loader_loader_onComplete(openfl__display__Loader r0,openfl__events__Event r1) {
	bool *r22, *r23;
	String r6, r9;
	openfl__utils__$AssetLibrary r15;
	venum *r18;
	openfl__utils__ByteArrayData r24, r25;
	bool r14;
	lime__app__Future r16;
	openfl__events__Event r4;
	lime__utils__AssetManifest r12;
	openfl__net__URLLoader r5;
	openfl__display__LoaderInfo r7;
	vclosure *r17, *r19, *r20, *r26;
	lime__utils__AssetLibrary r13;
	vdynamic *r3, *r10;
	openfl__display__Sprite r21;
	int r8, r11;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->target;
	r5 = (openfl__net__URLLoader)hl_dyn_castp(&r3,&t$_dyn,&t$openfl_net_URLLoader);
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->contentType;
	if( !r6 ) goto label$cdfbedc_20_55;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->contentType;
	if( r6 == NULL ) hl_null_access();
	r9 = (String)s$_json;
	r10 = NULL;
	r8 = String_indexOf(r6,r9,r10);
	r11 = -1;
	if( r11 >= r8 ) goto label$cdfbedc_20_55;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->data;
	r6 = (String)hl_dyn_castp(&r3,&t$_dyn,&t$String);
	r9 = r0->__path;
	r9 = haxe_io_Path_directory(r9);
	r12 = lime_utils_AssetManifest_parse(r6,r9);
	if( r12 ) goto label$cdfbedc_20_26;
	r6 = (String)s$Cannot_parse_asset_manifest;
	openfl_display_Loader___dispatchError(r0,r6);
	return;
	label$cdfbedc_20_26:
	r13 = lime_utils_AssetLibrary_fromManifest(r12);
	if( r13 ) goto label$cdfbedc_20_31;
	r6 = (String)s$Cannot_open_library;
	openfl_display_Loader___dispatchError(r0,r6);
	return;
	label$cdfbedc_20_31:
	r15 = (openfl__utils__$AssetLibrary)g$_openfl_utils_AssetLibrary;
	r14 = Std_isOfType(((vdynamic*)r13),((vdynamic*)r15));
	if( !r14 ) goto label$cdfbedc_20_54;
	if( r13 == NULL ) hl_null_access();
	r16 = ((lime__app__Future (*)(lime__utils__AssetLibrary))r13->$type->vobj_proto[11])(r13);
	if( r16 == NULL ) hl_null_access();
	r18 = hl_alloc_enum(&t$ctx_75e1427,0);
	((Enumt$ctx_75e1427*)r18)->p0 = (lime__utils__AssetManifest)r12;
	((Enumt$ctx_75e1427*)r18)->p1 = (lime__utils__AssetLibrary)r13;
	((Enumt$ctx_75e1427*)r18)->p2 = (openfl__display__Loader)r0;
	r17 = hl_alloc_closure_ptr(&t$fun_fe23eb1,openfl_display_Loader_loader_onComplete__$1,r18);
	if( r17 ) goto label$cdfbedc_20_45;
	r19 = NULL;
	goto label$cdfbedc_20_46;
	label$cdfbedc_20_45:
	r19 = hl_alloc_closure_ptr(&t$fun_b8b6878,wrapt$fun_b8b6878,r17);
	label$cdfbedc_20_46:
	r16 = lime_app_Future_onComplete(r16,r19);
	if( r16 == NULL ) hl_null_access();
	r20 = hl_alloc_closure_ptr(&t$fun_cc3d0eb,openfl_display_Loader_loader_onComplete__$2,r0);
	if( r20 ) goto label$cdfbedc_20_52;
	r19 = NULL;
	goto label$cdfbedc_20_53;
	label$cdfbedc_20_52:
	r19 = hl_alloc_closure_ptr(&t$fun_c8bb61c,wrapt$fun_c8bb61c,r20);
	label$cdfbedc_20_53:
	r16 = lime_app_Future_onError(r16,r19);
	label$cdfbedc_20_54:
	goto label$cdfbedc_20_111;
	label$cdfbedc_20_55:
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->contentType;
	if( !r6 ) goto label$cdfbedc_20_91;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->contentType;
	if( r6 == NULL ) hl_null_access();
	r9 = (String)s$_javascript;
	r10 = NULL;
	r8 = String_indexOf(r6,r9,r10);
	r11 = -1;
	if( r11 < r8 ) goto label$cdfbedc_20_77;
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->contentType;
	if( r6 == NULL ) hl_null_access();
	r9 = (String)s$_ecmascript;
	r10 = NULL;
	r8 = String_indexOf(r6,r9,r10);
	r11 = -1;
	if( r11 >= r8 ) goto label$cdfbedc_20_91;
	label$cdfbedc_20_77:
	r21 = (openfl__display__Sprite)hl_alloc_obj(&t$openfl_display_Sprite);
	openfl_display_Sprite_new(r21);
	r8 = 0;
	r11 = 0;
	openfl_display_Loader___setContent(r0,((openfl__display__DisplayObject)r21),r8,r11);
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	r4 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$complete;
	r22 = NULL;
	r23 = NULL;
	openfl_events_Event_new(r4,r6,r22,r23);
	r14 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r7),r4);
	goto label$cdfbedc_20_111;
	label$cdfbedc_20_91:
	r7 = r0->contentLoaderInfo;
	if( r7 == NULL ) hl_null_access();
	if( r5 == NULL ) hl_null_access();
	r3 = r5->data;
	r24 = (openfl__utils__ByteArrayData)hl_dyn_castp(&r3,&t$_dyn,&t$openfl_utils_ByteArrayData);
	r7->bytes = r24;
	r3 = r5->data;
	r24 = (openfl__utils__ByteArrayData)hl_dyn_castp(&r3,&t$_dyn,&t$openfl_utils_ByteArrayData);
	r25 = NULL;
	r16 = openfl_display_BitmapData_loadFromBytes(r24,r25);
	if( r16 == NULL ) hl_null_access();
	r26 = hl_alloc_closure_ptr(&t$fun_710cc2a,openfl_display_Loader_BitmapData_onLoad,r0);
	if( r26 ) goto label$cdfbedc_20_106;
	r19 = NULL;
	goto label$cdfbedc_20_107;
	label$cdfbedc_20_106:
	r19 = hl_alloc_closure_ptr(&t$fun_e9a593d,wrapt$fun_e9a593d,r26);
	label$cdfbedc_20_107:
	r16 = lime_app_Future_onComplete(r16,r19);
	if( r16 == NULL ) hl_null_access();
	r19 = hl_alloc_closure_ptr(&t$fun_a4ca68f,openfl_display_Loader_BitmapData_onError,r0);
	r16 = lime_app_Future_onError(r16,r19);
	label$cdfbedc_20_111:
	return;
}

void openfl_display_Loader_loader_onError(openfl__display__Loader r0,openfl__events__IOErrorEvent r1) {
	bool r3;
	openfl__display__LoaderInfo r2;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->contentLoaderInfo;
	r1->target = ((vdynamic*)r2);
	r2 = r0->contentLoaderInfo;
	if( r2 == NULL ) hl_null_access();
	r3 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r2),((openfl__events__Event)r1));
	return;
}

void openfl_display_Loader_loader_onProgress(openfl__display__Loader r0,openfl__events__ProgressEvent r1) {
	bool r3;
	openfl__display__LoaderInfo r2;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->contentLoaderInfo;
	r1->target = ((vdynamic*)r2);
	r2 = r0->contentLoaderInfo;
	if( r2 == NULL ) hl_null_access();
	r3 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r2),((openfl__events__Event)r1));
	return;
}

