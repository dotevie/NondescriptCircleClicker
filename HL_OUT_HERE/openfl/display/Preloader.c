// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/Preloader.h>
#include <openfl/display/LoaderInfo.h>
#include <openfl/display/MovieClip.h>
#include <openfl/events/Event.h>
openfl__display__MovieClip openfl_Lib_get_current(void);
#include <openfl/display/DisplayObject.h>
openfl__display__LoaderInfo openfl_display_DisplayObject_get_loaderInfo(openfl__display__DisplayObject);
void openfl_display_LoaderInfo___complete(openfl__display__LoaderInfo);
extern hl_type t$openfl_events_Event;
extern String s$complete;
void openfl_events_Event_new(openfl__events__Event,String,bool*,bool*);
bool openfl_display_DisplayObject_dispatchEvent(openfl__display__DisplayObject,openfl__events__Event);
bool openfl_events_Event_isDefaultPrevented(openfl__events__Event);
extern String s$unload;
void lime_app__Event_Void_Void_dispatch(lime__app___Event_Void_Void);
#include <openfl/events/ProgressEvent.h>
void openfl_display_LoaderInfo___update(openfl__display__LoaderInfo,int,int);
extern hl_type t$openfl_events_ProgressEvent;
extern String s$progress;
void openfl_events_ProgressEvent_new(openfl__events__ProgressEvent,String,bool*,bool*,double*,double*);
#include <openfl/display/DisplayObjectContainer.h>
#include <openfl/display/InteractiveObject.h>
#include <openfl/display/Stage.h>
extern hl_type t$fun_f197449;
void wrapt$fun_c6e0b11(vclosure*,vdynamic*);
extern hl_type t$fun_c6e0b11;
void openfl_display_DisplayObject_removeEventListener(openfl__display__DisplayObject,String,vclosure*,bool*);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_removeChild(openfl__display__DisplayObjectContainer,openfl__display__DisplayObject);
openfl__display__InteractiveObject openfl_display_Stage_set_focus(openfl__display__Stage,openfl__display__InteractiveObject);
extern hl_type t$lime_app__Event_Void_Void;
void lime_app__Event_Void_Void_new(lime__app___Event_Void_Void);
void openfl_display_DisplayObject_addEventListener(openfl__display__DisplayObject,String,vclosure*,bool*,int*,bool*);
openfl__display__DisplayObject openfl_display_DisplayObjectContainer_addChild(openfl__display__DisplayObjectContainer,openfl__display__DisplayObject);

void openfl_display_Preloader_start(openfl__display__Preloader r0) {
	bool *r8, *r10;
	String r7;
	lime__app___Event_Void_Void r13;
	bool r1, r9, r11;
	openfl__events__Event r6, r12;
	openfl__display__MovieClip r4;
	openfl__display__LoaderInfo r3;
	openfl__display__Sprite r5;
	r1 = true;
	r0->ready = r1;
	r4 = openfl_Lib_get_current();
	if( r4 == NULL ) hl_null_access();
	r3 = openfl_display_DisplayObject_get_loaderInfo(((openfl__display__DisplayObject)r4));
	if( r3 == NULL ) hl_null_access();
	openfl_display_LoaderInfo___complete(r3);
	r5 = r0->display;
	if( !r5 ) goto label$1dffc35_1_30;
	r6 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r7 = (String)s$complete;
	r1 = true;
	r8 = &r1;
	r9 = true;
	r10 = &r9;
	openfl_events_Event_new(r6,r7,r8,r10);
	r5 = r0->display;
	if( r5 == NULL ) hl_null_access();
	r11 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r5),r6);
	r11 = openfl_events_Event_isDefaultPrevented(r6);
	if( r11 ) goto label$1dffc35_1_29;
	r5 = r0->display;
	if( r5 == NULL ) hl_null_access();
	r12 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r7 = (String)s$unload;
	r8 = NULL;
	r10 = NULL;
	openfl_events_Event_new(r12,r7,r8,r10);
	r11 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r5),r12);
	label$1dffc35_1_29:
	goto label$1dffc35_1_37;
	label$1dffc35_1_30:
	r11 = r0->complete;
	if( r11 ) goto label$1dffc35_1_37;
	r11 = true;
	r0->complete = r11;
	r13 = r0->onComplete;
	if( r13 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r13);
	label$1dffc35_1_37:
	return;
}

void openfl_display_Preloader_update(openfl__display__Preloader r0,int r1,int r2) {
	bool *r10, *r12;
	String r9;
	openfl__events__ProgressEvent r8;
	bool r7, r11;
	openfl__display__MovieClip r5;
	openfl__display__LoaderInfo r4;
	double r13, r15;
	double *r14, *r16;
	openfl__display__Sprite r6;
	r5 = openfl_Lib_get_current();
	if( r5 == NULL ) hl_null_access();
	r4 = openfl_display_DisplayObject_get_loaderInfo(((openfl__display__DisplayObject)r5));
	if( r4 == NULL ) hl_null_access();
	openfl_display_LoaderInfo___update(r4,r1,r2);
	r6 = r0->display;
	if( !r6 ) goto label$1dffc35_2_21;
	r6 = r0->display;
	if( r6 == NULL ) hl_null_access();
	r8 = (openfl__events__ProgressEvent)hl_alloc_obj(&t$openfl_events_ProgressEvent);
	r9 = (String)s$progress;
	r7 = true;
	r10 = &r7;
	r11 = true;
	r12 = &r11;
	r13 = (double)r1;
	r14 = &r13;
	r15 = (double)r2;
	r16 = &r15;
	openfl_events_ProgressEvent_new(r8,r9,r10,r12,r14,r16);
	r7 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r6),((openfl__events__Event)r8));
	label$1dffc35_2_21:
	return;
}

void openfl_display_Preloader_display_onUnload(openfl__display__Preloader r0,openfl__events__Event r1) {
	bool *r7;
	String r4;
	lime__app___Event_Void_Void r14;
	bool r13;
	openfl__display__InteractiveObject r11;
	openfl__display__DisplayObject r10;
	openfl__display__DisplayObjectContainer r8;
	openfl__display__Stage r12;
	openfl__display__MovieClip r9;
	vclosure *r5, *r6;
	openfl__display__Sprite r3;
	r3 = r0->display;
	if( !r3 ) goto label$1dffc35_3_29;
	r3 = r0->display;
	if( r3 == NULL ) hl_null_access();
	r4 = (String)s$unload;
	r5 = hl_alloc_closure_ptr(&t$fun_f197449,openfl_display_Preloader_display_onUnload,r0);
	if( r5 ) goto label$1dffc35_3_9;
	r6 = NULL;
	goto label$1dffc35_3_10;
	label$1dffc35_3_9:
	r6 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r5);
	label$1dffc35_3_10:
	r7 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r3),r4,r6,r7);
	r3 = r0->display;
	if( r3 == NULL ) hl_null_access();
	r8 = r3->parent;
	r9 = openfl_Lib_get_current();
	if( r8 != ((openfl__display__DisplayObjectContainer)r9) ) goto label$1dffc35_3_21;
	r9 = openfl_Lib_get_current();
	if( r9 == NULL ) hl_null_access();
	r3 = r0->display;
	r10 = openfl_display_DisplayObjectContainer_removeChild(((openfl__display__DisplayObjectContainer)r9),((openfl__display__DisplayObject)r3));
	label$1dffc35_3_21:
	r9 = openfl_Lib_get_current();
	if( r9 == NULL ) hl_null_access();
	r12 = r9->stage;
	if( r12 == NULL ) hl_null_access();
	r11 = NULL;
	r11 = openfl_display_Stage_set_focus(r12,r11);
	r3 = NULL;
	r0->display = r3;
	label$1dffc35_3_29:
	r13 = r0->ready;
	if( !r13 ) goto label$1dffc35_3_38;
	r13 = r0->complete;
	if( r13 ) goto label$1dffc35_3_38;
	r13 = true;
	r0->complete = r13;
	r14 = r0->onComplete;
	if( r14 == NULL ) hl_null_access();
	lime_app__Event_Void_Void_dispatch(r14);
	label$1dffc35_3_38:
	return;
}

void openfl_display_Preloader_new(openfl__display__Preloader r0,openfl__display__Sprite r1) {
	bool *r7, *r9;
	String r4;
	openfl__display__DisplayObject r10;
	lime__app___Event_Void_Void r2;
	openfl__display__MovieClip r11;
	vclosure *r5, *r6;
	int *r8;
	r2 = (lime__app___Event_Void_Void)hl_alloc_obj(&t$lime_app__Event_Void_Void);
	lime_app__Event_Void_Void_new(r2);
	r0->onComplete = r2;
	r0->display = r1;
	if( !r1 ) goto label$1dffc35_4_19;
	if( r1 == NULL ) hl_null_access();
	r4 = (String)s$unload;
	r5 = hl_alloc_closure_ptr(&t$fun_f197449,openfl_display_Preloader_display_onUnload,r0);
	if( r5 ) goto label$1dffc35_4_11;
	r6 = NULL;
	goto label$1dffc35_4_12;
	label$1dffc35_4_11:
	r6 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r5);
	label$1dffc35_4_12:
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r1),r4,r6,r7,r8,r9);
	r11 = openfl_Lib_get_current();
	if( r11 == NULL ) hl_null_access();
	r10 = openfl_display_DisplayObjectContainer_addChild(((openfl__display__DisplayObjectContainer)r11),((openfl__display__DisplayObject)r1));
	label$1dffc35_4_19:
	return;
}

