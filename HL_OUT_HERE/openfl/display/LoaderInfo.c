// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/LoaderInfo.h>
#include <openfl/system/ApplicationDomain.h>
void openfl_events_EventDispatcher_new(openfl__events__EventDispatcher,vvirtual*);
extern openfl__system__$ApplicationDomain g$_openfl_system_ApplicationDomain;
extern hl_type t$openfl_display_LoaderInfo;
extern hl_type t$openfl_events_UncaughtErrorEvents;
void openfl_events_UncaughtErrorEvents_new(openfl__events__UncaughtErrorEvents);
extern openfl__display__$LoaderInfo g$_openfl_display_LoaderInfo;
void openfl_display_LoaderInfo___update(openfl__display__LoaderInfo,int,int);
extern hl_type t$openfl_events_Event;
extern String s$complete;
void openfl_events_Event_new(openfl__events__Event,String,bool*,bool*);
bool openfl_events_EventDispatcher_dispatchEvent(openfl__events__EventDispatcher,openfl__events__Event);
#include <openfl/events/ProgressEvent.h>
extern hl_type t$openfl_events_ProgressEvent;
extern String s$progress;
void openfl_events_ProgressEvent_new(openfl__events__ProgressEvent,String,bool*,bool*,double*,double*);

void openfl_display_LoaderInfo_new(openfl__display__LoaderInfo r0) {
	vdynobj *r7;
	vvirtual *r2;
	bool r6;
	openfl__system__$ApplicationDomain r4;
	openfl__system__ApplicationDomain r3;
	int r5;
	r2 = NULL;
	openfl_events_EventDispatcher_new(((openfl__events__EventDispatcher)r0),r2);
	r4 = (openfl__system__$ApplicationDomain)g$_openfl_system_ApplicationDomain;
	r3 = r4->currentDomain;
	r0->applicationDomain = r3;
	r5 = 0;
	r0->bytesLoaded = r5;
	r5 = 0;
	r0->bytesTotal = r5;
	r6 = true;
	r0->childAllowsParent = r6;
	r7 = hl_alloc_dynobj();
	r0->parameters = ((vdynamic*)r7);
	return;
}

openfl__display__LoaderInfo openfl_display_LoaderInfo_create(openfl__display__Loader r0) {
	openfl__display__$LoaderInfo r5;
	String r4;
	openfl__events__UncaughtErrorEvents r3;
	openfl__display__LoaderInfo r1;
	r1 = (openfl__display__LoaderInfo)hl_alloc_obj(&t$openfl_display_LoaderInfo);
	openfl_display_LoaderInfo_new(r1);
	r3 = (openfl__events__UncaughtErrorEvents)hl_alloc_obj(&t$openfl_events_UncaughtErrorEvents);
	openfl_events_UncaughtErrorEvents_new(r3);
	r1->uncaughtErrorEvents = r3;
	if( !r0 ) goto label$d4192ee_2_8;
	r1->loader = r0;
	goto label$d4192ee_2_11;
	label$d4192ee_2_8:
	r5 = (openfl__display__$LoaderInfo)g$_openfl_display_LoaderInfo;
	r4 = r5->__rootURL;
	r1->url = r4;
	label$d4192ee_2_11:
	return r1;
}

void openfl_display_LoaderInfo___complete(openfl__display__LoaderInfo r0) {
	bool *r7, *r8;
	String r6;
	bool r2;
	openfl__events__Event r5;
	int r3, r4;
	r2 = r0->__completed;
	if( r2 ) goto label$d4192ee_3_18;
	r3 = r0->bytesLoaded;
	r4 = r0->bytesTotal;
	if( r3 >= r4 ) goto label$d4192ee_3_7;
	r3 = r0->bytesTotal;
	r0->bytesLoaded = r3;
	label$d4192ee_3_7:
	r3 = r0->bytesLoaded;
	r4 = r0->bytesTotal;
	openfl_display_LoaderInfo___update(r0,r3,r4);
	r2 = true;
	r0->__completed = r2;
	r5 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$complete;
	r7 = NULL;
	r8 = NULL;
	openfl_events_Event_new(r5,r6,r7,r8);
	r2 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r0),r5);
	label$d4192ee_3_18:
	return;
}

void openfl_display_LoaderInfo___update(openfl__display__LoaderInfo r0,int r1,int r2) {
	bool *r6, *r8;
	String r5;
	openfl__events__ProgressEvent r4;
	bool r3, r7;
	double r9, r11;
	double *r10, *r12;
	r0->bytesLoaded = r1;
	r0->bytesTotal = r2;
	r4 = (openfl__events__ProgressEvent)hl_alloc_obj(&t$openfl_events_ProgressEvent);
	r5 = (String)s$progress;
	r3 = false;
	r6 = &r3;
	r7 = false;
	r8 = &r7;
	r9 = (double)r1;
	r10 = &r9;
	r11 = (double)r2;
	r12 = &r11;
	openfl_events_ProgressEvent_new(r4,r5,r6,r8,r10,r12);
	r3 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r0),((openfl__events__Event)r4));
	return;
}

