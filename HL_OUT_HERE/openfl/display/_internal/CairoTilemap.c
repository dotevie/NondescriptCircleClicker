// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/_internal/CairoTilemap.h>
#include <hl/types/ArrayObj.h>
#include <lime/utils/ObjectPool.h>
#include <openfl/geom/Rectangle.h>
#include <openfl/display/DisplayObjectRenderer.h>
double openfl_display_DisplayObjectRenderer___getAlpha(openfl__display__DisplayObjectRenderer,double);
void openfl_display_CairoRenderer___setBlendMode(openfl__display__CairoRenderer,vdynamic*);
#include <openfl/display/DisplayObject.h>
void openfl_display_CairoRenderer___pushMaskObject(openfl__display__CairoRenderer,openfl__display__DisplayObject,bool*);
extern openfl__geom__$Rectangle g$_openfl_geom_Rectangle;
vdynamic* lime_utils_ObjectPool_get(lime__utils__ObjectPool);
void openfl_geom_Rectangle_setTo(openfl__geom__Rectangle,double,double,double,double);
void openfl_display_CairoRenderer___pushMaskRect(openfl__display__CairoRenderer,openfl__geom__Rectangle,openfl__geom__Matrix);
extern hl_type t$lime_math_Matrix3;
void lime_math_Matrix3_new(lime__math__Matrix3,double*,double*,double*,double*,double*,double*);
void openfl_display__internal_CairoTilemap_renderTileContainer(openfl__display__TileContainer,openfl__display__CairoRenderer,openfl__geom__Matrix,openfl__display__Tileset,bool,bool,double,bool,vdynamic*,openfl__display__BitmapData,vdynamic*,vdynamic*,openfl__geom__Rectangle,lime__math__Matrix3);
void openfl_display_CairoRenderer___popMaskRect(openfl__display__CairoRenderer);
void openfl_display_CairoRenderer___popMaskObject(openfl__display__CairoRenderer,openfl__display__DisplayObject,bool*);
void lime_utils_ObjectPool_release(lime__utils__ObjectPool,vdynamic*);
#include <lime/graphics/cairo/Cairo.h>
#include <openfl/geom/Matrix.h>
#include <openfl/display/Tile.h>
#include <openfl/display/_Tileset/TileData.h>
extern openfl__geom__$Matrix g$_openfl_geom_Matrix;
double openfl_display_Tile_get_originX(openfl__display__Tile);
double openfl_display_Tile_get_originY(openfl__display__Tile);
void openfl_geom_Matrix_setTo(openfl__geom__Matrix,double,double,double,double,double,double);
openfl__geom__Matrix openfl_display_Tile_get_matrix(openfl__display__Tile);
void openfl_geom_Matrix_concat(openfl__geom__Matrix,openfl__geom__Matrix);
openfl__display__Tileset openfl_display_Tile_get_tileset(openfl__display__Tile);
double openfl_display_Tile_get_alpha(openfl__display__Tile);
bool openfl_display_Tile_get_visible(openfl__display__Tile);
extern hl_type t$openfl_display_TileContainer;
extern hl_type t$openfl_display_Tile;
int openfl_display_Tile_get_id(openfl__display__Tile);
vdynamic* openfl_display_BitmapData_getSurface(openfl__display__BitmapData);
vdynamic* lime_graphics_cairo__CairoPattern_CairoPattern_Impl__createForSurface(vdynamic*);
int lime_graphics_cairo__CairoPattern_CairoPattern_Impl__set_filter(vdynamic*,int);
vdynamic* lime_graphics_cairo_Cairo_set_source(lime__graphics__cairo__Cairo,vdynamic*);
void openfl_display_CairoRenderer_applyMatrix(openfl__display__CairoRenderer,openfl__geom__Matrix,lime__graphics__cairo__Cairo);
lime__math__Matrix3 lime_graphics_cairo__CairoPattern_CairoPattern_Impl__set_matrix(vdynamic*,lime__math__Matrix3);
void lime_graphics_cairo_Cairo_save(lime__graphics__cairo__Cairo);
void lime_graphics_cairo_Cairo_newPath(lime__graphics__cairo__Cairo);
void lime_graphics_cairo_Cairo_rectangle(lime__graphics__cairo__Cairo,double,double,double,double);
void lime_graphics_cairo_Cairo_clip(lime__graphics__cairo__Cairo);
void lime_graphics_cairo_Cairo_paint(lime__graphics__cairo__Cairo);
void lime_graphics_cairo_Cairo_paintWithAlpha(lime__graphics__cairo__Cairo,double);
void lime_graphics_cairo_Cairo_restore(lime__graphics__cairo__Cairo);
#include <openfl/display/Bitmap.h>
bool openfl_display_DisplayObjectRenderer___updateCacheBitmap(openfl__display__DisplayObjectRenderer,openfl__display__DisplayObject,bool);
extern hl_type t$_i32;
void openfl_display__internal_CairoDisplayObject_render(openfl__display__DisplayObject,openfl__display__CairoRenderer);
void openfl_display_DisplayObjectRenderer___renderEvent(openfl__display__DisplayObjectRenderer,openfl__display__DisplayObject);

void openfl_display__internal_CairoTilemap_render(openfl__display__Tilemap r0,openfl__display__CairoRenderer r1) {
	bool *r13;
	hl__types__ArrayObj r5;
	openfl__geom__Rectangle r16;
	openfl__geom__$Rectangle r15;
	bool r3, r21, r22;
	lime__math__Matrix3 r25;
	openfl__display__TileContainer r6;
	openfl__display__Tileset r20;
	openfl__geom__Matrix r19;
	lime__utils__ObjectPool r14;
	double r9, r10, r11, r17, r18;
	double *r26, *r27, *r28, *r29, *r30, *r31;
	vdynamic *r8, *r12, *r24;
	openfl__display__BitmapData r23;
	int r4, r7;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->__renderable;
	if( !r3 ) goto label$1da8120_1_10;
	r6 = r0->__group;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->__tiles;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->length;
	r7 = 0;
	if( r4 != r7 ) goto label$1da8120_1_11;
	label$1da8120_1_10:
	return;
	label$1da8120_1_11:
	if( r1 == NULL ) hl_null_access();
	r9 = r0->__worldAlpha;
	r9 = openfl_display_DisplayObjectRenderer___getAlpha(((openfl__display__DisplayObjectRenderer)r1),r9);
	r11 = 0.;
	if( !(r11 >= r9) ) goto label$1da8120_1_17;
	return;
	label$1da8120_1_17:
	r12 = r0->__worldBlendMode;
	openfl_display_CairoRenderer___setBlendMode(r1,r12);
	r13 = NULL;
	openfl_display_CairoRenderer___pushMaskObject(r1,((openfl__display__DisplayObject)r0),r13);
	r15 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r14 = r15->__pool;
	if( r14 == NULL ) hl_null_access();
	r8 = lime_utils_ObjectPool_get(r14);
	r16 = (openfl__geom__Rectangle)r8;
	if( r16 == NULL ) hl_null_access();
	r10 = 0.;
	r11 = 0.;
	r4 = r0->__width;
	r17 = (double)r4;
	r4 = r0->__height;
	r18 = (double)r4;
	openfl_geom_Rectangle_setTo(r16,r10,r11,r17,r18);
	r19 = r0->__renderTransform;
	openfl_display_CairoRenderer___pushMaskRect(r1,r16,r19);
	r6 = r0->__group;
	r19 = r0->__renderTransform;
	r20 = r0->__tileset;
	r3 = r1->__allowSmoothing;
	if( !r3 ) goto label$1da8120_1_45;
	r3 = r0->smoothing;
	if( !r3 ) goto label$1da8120_1_45;
	r3 = true;
	goto label$1da8120_1_46;
	label$1da8120_1_45:
	r3 = false;
	label$1da8120_1_46:
	r21 = r0->tileAlphaEnabled;
	r22 = r0->tileBlendModeEnabled;
	r12 = r0->__worldBlendMode;
	r23 = NULL;
	r8 = NULL;
	r24 = NULL;
	r25 = (lime__math__Matrix3)hl_alloc_obj(&t$lime_math_Matrix3);
	r26 = NULL;
	r27 = NULL;
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	r31 = NULL;
	lime_math_Matrix3_new(r25,r26,r27,r28,r29,r30,r31);
	openfl_display__internal_CairoTilemap_renderTileContainer(r6,r1,r19,r20,r3,r21,r9,r22,r12,r23,r8,r24,r16,r25);
	openfl_display_CairoRenderer___popMaskRect(r1);
	r13 = NULL;
	openfl_display_CairoRenderer___popMaskObject(r1,((openfl__display__DisplayObject)r0),r13);
	r15 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r14 = r15->__pool;
	if( r14 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r14,((vdynamic*)r16));
	return;
}

void openfl_display__internal_CairoTilemap_renderTileContainer(openfl__display__TileContainer r0,openfl__display__CairoRenderer r1,openfl__geom__Matrix r2,openfl__display__Tileset r3,bool r4,bool r5,double r6,bool r7,vdynamic* r8,openfl__display__BitmapData r9,vdynamic* r10,vdynamic* r11,openfl__geom__Rectangle r12,lime__math__Matrix3 r13) {
	hl__types__ArrayObj r20, r26;
	openfl__geom__Rectangle r39, r42;
	bool r37;
	openfl__geom__$Matrix r18;
	lime__math__Matrix3 r40;
	openfl__display__TileContainer r21;
	lime__graphics__cairo__Cairo r14;
	openfl__display__Tile r27;
	openfl__display__Tileset r36;
	openfl__geom__Matrix r19, r35;
	openfl__display___Tileset__TileData r43;
	double r29, r30, r31, r32, r33, r34;
	lime__utils__ObjectPool r17;
	vdynamic *r16, *r22, *r38;
	openfl__display__BitmapData r44;
	varray *r28;
	int r23, r24, r25, r41;
	if( r1 == NULL ) hl_null_access();
	r14 = r1->cairo;
	r18 = (openfl__geom__$Matrix)g$_openfl_geom_Matrix;
	r17 = r18->__pool;
	if( r17 == NULL ) hl_null_access();
	r16 = lime_utils_ObjectPool_get(r17);
	r19 = (openfl__geom__Matrix)r16;
	if( r0 == NULL ) hl_null_access();
	r20 = r0->__tiles;
	r22 = NULL;
	r23 = 0;
	label$1da8120_2_11:
	if( r20 == NULL ) hl_null_access();
	r25 = r20->length;
	if( r23 >= r25 ) goto label$1da8120_2_154;
	r25 = r20->length;
	if( ((unsigned)r23) < ((unsigned)r25) ) goto label$1da8120_2_19;
	r27 = NULL;
	goto label$1da8120_2_22;
	label$1da8120_2_19:
	r28 = r20->array;
	r16 = ((vdynamic**)(r28 + 1))[r23];
	r27 = (openfl__display__Tile)r16;
	label$1da8120_2_22:
	++r23;
	if( r19 == NULL ) hl_null_access();
	r29 = 1.;
	r30 = 0.;
	r31 = 0.;
	r32 = 1.;
	if( r27 == NULL ) hl_null_access();
	r33 = openfl_display_Tile_get_originX(r27);
	r33 = -r33;
	r34 = openfl_display_Tile_get_originY(r27);
	r34 = -r34;
	openfl_geom_Matrix_setTo(r19,r29,r30,r31,r32,r33,r34);
	r35 = openfl_display_Tile_get_matrix(r27);
	openfl_geom_Matrix_concat(r19,r35);
	openfl_geom_Matrix_concat(r19,r2);
	r36 = openfl_display_Tile_get_tileset(r27);
	if( !r36 ) goto label$1da8120_2_41;
	r36 = openfl_display_Tile_get_tileset(r27);
	goto label$1da8120_2_42;
	label$1da8120_2_41:
	r36 = r3;
	label$1da8120_2_42:
	r30 = openfl_display_Tile_get_alpha(r27);
	r30 = r30 * r6;
	r29 = r30;
	r37 = openfl_display_Tile_get_visible(r27);
	if( !r37 ) goto label$1da8120_2_49;
	r31 = 0.;
	if( !(r31 >= r30) ) goto label$1da8120_2_50;
	label$1da8120_2_49:
	goto label$1da8120_2_11;
	label$1da8120_2_50:
	if( r5 ) goto label$1da8120_2_53;
	r30 = 1.;
	r29 = r30;
	label$1da8120_2_53:
	if( !r7 ) goto label$1da8120_2_60;
	r38 = r27->__blendMode;
	if( !r38 ) goto label$1da8120_2_58;
	r38 = r27->__blendMode;
	goto label$1da8120_2_59;
	label$1da8120_2_58:
	r38 = r8;
	label$1da8120_2_59:
	r22 = r38;
	label$1da8120_2_60:
	r24 = r27->__length;
	r25 = 0;
	if( r25 >= r24 ) goto label$1da8120_2_66;
	r21 = (openfl__display__TileContainer)hl_dyn_castp(&r27,&t$openfl_display_Tile,&t$openfl_display_TileContainer);
	openfl_display__internal_CairoTilemap_renderTileContainer(r21,r1,r19,r36,r4,r5,r30,r7,r22,r9,r10,r11,r12,r13);
	goto label$1da8120_2_153;
	label$1da8120_2_66:
	if( r36 ) goto label$1da8120_2_68;
	goto label$1da8120_2_11;
	label$1da8120_2_68:
	r25 = openfl_display_Tile_get_id(r27);
	r41 = -1;
	if( r25 != r41 ) goto label$1da8120_2_83;
	r42 = r27->__rect;
	r39 = r42;
	if( !r42 ) goto label$1da8120_2_81;
	if( r42 == NULL ) hl_null_access();
	r30 = r42->width;
	r31 = 0.;
	if( r31 >= r30 ) goto label$1da8120_2_81;
	r30 = r42->height;
	r31 = 0.;
	if( !(r31 >= r30) ) goto label$1da8120_2_82;
	label$1da8120_2_81:
	goto label$1da8120_2_11;
	label$1da8120_2_82:
	goto label$1da8120_2_107;
	label$1da8120_2_83:
	if( r36 == NULL ) hl_null_access();
	r26 = r36->__data;
	if( r26 == NULL ) hl_null_access();
	r41 = r26->length;
	if( ((unsigned)r25) < ((unsigned)r41) ) goto label$1da8120_2_90;
	r43 = NULL;
	goto label$1da8120_2_93;
	label$1da8120_2_90:
	r28 = r26->array;
	r16 = ((vdynamic**)(r28 + 1))[r25];
	r43 = (openfl__display___Tileset__TileData)r16;
	label$1da8120_2_93:
	if( r43 ) goto label$1da8120_2_95;
	goto label$1da8120_2_11;
	label$1da8120_2_95:
	if( r12 == NULL ) hl_null_access();
	if( r43 == NULL ) hl_null_access();
	r25 = r43->x;
	r30 = (double)r25;
	r25 = r43->y;
	r31 = (double)r25;
	r25 = r43->width;
	r32 = (double)r25;
	r25 = r43->height;
	r33 = (double)r25;
	openfl_geom_Rectangle_setTo(r12,r30,r31,r32,r33);
	r39 = r12;
	label$1da8120_2_107:
	if( r36 == NULL ) hl_null_access();
	r44 = r36->__bitmapData;
	if( r44 ) goto label$1da8120_2_111;
	goto label$1da8120_2_11;
	label$1da8120_2_111:
	if( r44 == r9 ) goto label$1da8120_2_125;
	if( r44 == NULL ) hl_null_access();
	r16 = openfl_display_BitmapData_getSurface(r44);
	r10 = r16;
	r16 = lime_graphics_cairo__CairoPattern_CairoPattern_Impl__createForSurface(r16);
	r11 = r16;
	if( !r4 ) goto label$1da8120_2_120;
	r25 = 1;
	goto label$1da8120_2_121;
	label$1da8120_2_120:
	r25 = 3;
	label$1da8120_2_121:
	r25 = lime_graphics_cairo__CairoPattern_CairoPattern_Impl__set_filter(r16,r25);
	if( r14 == NULL ) hl_null_access();
	r16 = lime_graphics_cairo_Cairo_set_source(r14,r16);
	r9 = r44;
	label$1da8120_2_125:
	if( !r7 ) goto label$1da8120_2_128;
	if( r1 == NULL ) hl_null_access();
	openfl_display_CairoRenderer___setBlendMode(r1,r22);
	label$1da8120_2_128:
	if( r1 == NULL ) hl_null_access();
	openfl_display_CairoRenderer_applyMatrix(r1,r19,r14);
	if( r13 == NULL ) hl_null_access();
	if( r39 == NULL ) hl_null_access();
	r30 = r39->x;
	r13->tx = r30;
	r30 = r39->y;
	r13->ty = r30;
	r40 = lime_graphics_cairo__CairoPattern_CairoPattern_Impl__set_matrix(r11,r13);
	if( r14 == NULL ) hl_null_access();
	r16 = lime_graphics_cairo_Cairo_set_source(r14,r11);
	lime_graphics_cairo_Cairo_save(r14);
	lime_graphics_cairo_Cairo_newPath(r14);
	r30 = 0.;
	r31 = 0.;
	r32 = r39->width;
	r33 = r39->height;
	lime_graphics_cairo_Cairo_rectangle(r14,r30,r31,r32,r33);
	lime_graphics_cairo_Cairo_clip(r14);
	r31 = 1.;
	if( r29 != r31 ) goto label$1da8120_2_151;
	lime_graphics_cairo_Cairo_paint(r14);
	goto label$1da8120_2_152;
	label$1da8120_2_151:
	lime_graphics_cairo_Cairo_paintWithAlpha(r14,r29);
	label$1da8120_2_152:
	lime_graphics_cairo_Cairo_restore(r14);
	label$1da8120_2_153:
	goto label$1da8120_2_11;
	label$1da8120_2_154:
	r18 = (openfl__geom__$Matrix)g$_openfl_geom_Matrix;
	r17 = r18->__pool;
	if( r17 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r17,((vdynamic*)r19));
	return;
}

void openfl_display__internal_CairoTilemap_renderDrawable(openfl__display__Tilemap r0,openfl__display__CairoRenderer r1) {
	bool *r10;
	bool r2;
	lime__graphics__cairo__Cairo r8;
	openfl__geom__Matrix r11;
	openfl__display__Bitmap r4;
	double r5, r6;
	vdynamic *r9, *r12, *r13, *r15;
	int r14;
	openfl__display__BitmapData r7;
	if( r1 == NULL ) hl_null_access();
	r2 = false;
	r2 = openfl_display_DisplayObjectRenderer___updateCacheBitmap(((openfl__display__DisplayObjectRenderer)r1),((openfl__display__DisplayObject)r0),r2);
	if( r0 == NULL ) hl_null_access();
	r4 = r0->__cacheBitmap;
	if( !r4 ) goto label$1da8120_3_55;
	r2 = r0->__isCacheBitmapRender;
	if( r2 ) goto label$1da8120_3_55;
	r4 = r0->__cacheBitmap;
	if( r4 == NULL ) hl_null_access();
	r2 = r4->__renderable;
	if( !r2 ) goto label$1da8120_3_54;
	r5 = r4->__worldAlpha;
	r5 = openfl_display_DisplayObjectRenderer___getAlpha(((openfl__display__DisplayObjectRenderer)r1),r5);
	r6 = 0.;
	if( !(r6 < r5) ) goto label$1da8120_3_54;
	r7 = r4->__bitmapData;
	if( !r7 ) goto label$1da8120_3_54;
	r7 = r4->__bitmapData;
	if( r7 == NULL ) hl_null_access();
	r2 = r7->__isValid;
	if( !r2 ) goto label$1da8120_3_54;
	r8 = r1->cairo;
	r9 = r4->__worldBlendMode;
	openfl_display_CairoRenderer___setBlendMode(r1,r9);
	r10 = NULL;
	openfl_display_CairoRenderer___pushMaskObject(r1,((openfl__display__DisplayObject)r4),r10);
	r11 = r4->__renderTransform;
	openfl_display_CairoRenderer_applyMatrix(r1,r11,r8);
	r7 = r4->__bitmapData;
	if( r7 == NULL ) hl_null_access();
	r12 = openfl_display_BitmapData_getSurface(r7);
	if( !r12 ) goto label$1da8120_3_49;
	r13 = lime_graphics_cairo__CairoPattern_CairoPattern_Impl__createForSurface(r12);
	r2 = r1->__allowSmoothing;
	if( !r2 ) goto label$1da8120_3_40;
	r2 = r4->smoothing;
	if( !r2 ) goto label$1da8120_3_40;
	r14 = 1;
	goto label$1da8120_3_41;
	label$1da8120_3_40:
	r14 = 3;
	label$1da8120_3_41:
	r14 = lime_graphics_cairo__CairoPattern_CairoPattern_Impl__set_filter(r13,r14);
	if( r8 == NULL ) hl_null_access();
	r15 = lime_graphics_cairo_Cairo_set_source(r8,r13);
	r6 = 1.;
	if( r5 != r6 ) goto label$1da8120_3_48;
	lime_graphics_cairo_Cairo_paint(r8);
	goto label$1da8120_3_49;
	label$1da8120_3_48:
	lime_graphics_cairo_Cairo_paintWithAlpha(r8,r5);
	label$1da8120_3_49:
	r10 = NULL;
	openfl_display_CairoRenderer___popMaskObject(r1,((openfl__display__DisplayObject)r4),r10);
	r14 = 10;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r14;
	openfl_display_CairoRenderer___setBlendMode(r1,r9);
	label$1da8120_3_54:
	goto label$1da8120_3_57;
	label$1da8120_3_55:
	openfl_display__internal_CairoDisplayObject_render(((openfl__display__DisplayObject)r0),r1);
	openfl_display__internal_CairoTilemap_render(r0,r1);
	label$1da8120_3_57:
	openfl_display_DisplayObjectRenderer___renderEvent(((openfl__display__DisplayObjectRenderer)r1),((openfl__display__DisplayObject)r0));
	return;
}

void openfl_display__internal_CairoTilemap_renderDrawableMask(openfl__display__Tilemap r0,openfl__display__CairoRenderer r1) {
	return;
}

