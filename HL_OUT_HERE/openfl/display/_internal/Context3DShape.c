// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display/_internal/Context3DShape.h>
#include <openfl/display/Graphics.h>
#include <openfl/display/BitmapData.h>
#include <openfl/display3D/Context3D.h>
#include <openfl/geom/Rectangle.h>
#include <openfl/display/Shader.h>
#include <lime/utils/ObjectPool.h>
#include <openfl/geom/Matrix.h>
#include <hl/types/ArrayBytes_Float.h>
#include <openfl/geom/ColorTransform.h>
#include <openfl/display3D/VertexBuffer3D.h>
#include <openfl/display/ShaderParameter_Float.h>
#include <openfl/display3D/IndexBuffer3D.h>
void openfl_display_OpenGLRenderer___setBlendMode(openfl__display__OpenGLRenderer,vdynamic*);
void openfl_display_OpenGLRenderer___pushMaskObject(openfl__display__OpenGLRenderer,openfl__display__DisplayObject,bool*);
void openfl_display__internal_Context3DGraphics_render(openfl__display__Graphics,openfl__display__OpenGLRenderer);
openfl__display__Shader openfl_display_OpenGLRenderer___initDisplayShader(openfl__display__OpenGLRenderer,openfl__display__Shader);
void openfl_display_OpenGLRenderer_setShader(openfl__display__OpenGLRenderer,openfl__display__Shader);
void openfl_display_OpenGLRenderer_applyBitmapData(openfl__display__OpenGLRenderer,openfl__display__BitmapData,bool,bool*);
extern openfl__geom__$Matrix g$_openfl_geom_Matrix;
vdynamic* lime_utils_ObjectPool_get(lime__utils__ObjectPool);
void openfl_geom_Matrix_scale(openfl__geom__Matrix,double,double);
void openfl_geom_Matrix_concat(openfl__geom__Matrix,openfl__geom__Matrix);
extern hl_type t$_i32;
hl__types__ArrayBytes_Float openfl_display_OpenGLRenderer___getMatrix(openfl__display__OpenGLRenderer,openfl__geom__Matrix,vdynamic*);
void openfl_display_OpenGLRenderer_applyMatrix(openfl__display__OpenGLRenderer,hl__types__ArrayBytes_Float);
void lime_utils_ObjectPool_release(lime__utils__ObjectPool,vdynamic*);
void openfl_display_OpenGLRenderer_applyAlpha(openfl__display__OpenGLRenderer,double);
void openfl_display_OpenGLRenderer_applyColorTransform(openfl__display__OpenGLRenderer,openfl__geom__ColorTransform);
void openfl_display_OpenGLRenderer_updateShader(openfl__display__OpenGLRenderer);
openfl__display3D__VertexBuffer3D openfl_display_BitmapData_getVertexBuffer(openfl__display__BitmapData,openfl__display3D__Context3D,openfl__geom__Rectangle,openfl__display__DisplayObject);
extern hl_type t$_dyn;
void openfl_display3D_Context3D_setVertexBufferAt(openfl__display3D__Context3D,int,openfl__display3D__VertexBuffer3D,int*,vdynamic*);
openfl__display3D__IndexBuffer3D openfl_display_BitmapData_getIndexBuffer(openfl__display__BitmapData,openfl__display3D__Context3D,openfl__geom__Rectangle);
void openfl_display3D_Context3D_drawTriangles(openfl__display3D__Context3D,openfl__display3D__IndexBuffer3D,int*,int*);
void openfl_display_OpenGLRenderer___clearShader(openfl__display__OpenGLRenderer);
void openfl_display_OpenGLRenderer___popMaskObject(openfl__display__OpenGLRenderer,openfl__display__DisplayObject,bool*);
#include <openfl/display/_internal/Context3DMaskShader.h>
void openfl_display__internal_Context3DGraphics_renderMask(openfl__display__Graphics,openfl__display__OpenGLRenderer);

void openfl_display__internal_Context3DShape_render(openfl__display__DisplayObject r0,openfl__display__OpenGLRenderer r1) {
	bool *r10;
	openfl__display3D__Context3D r12;
	openfl__geom__Rectangle r13, r24;
	openfl__geom__$Matrix r16;
	openfl__display__DisplayObject r4;
	bool r3;
	openfl__display3D__VertexBuffer3D r23;
	openfl__display__ShaderParameter_Float r25;
	openfl__geom__ColorTransform r22;
	openfl__geom__Matrix r17, r19;
	openfl__display__Shader r14;
	openfl__display__Graphics r8;
	hl__types__ArrayBytes_Float r20;
	openfl__display3D__IndexBuffer3D r30;
	lime__utils__ObjectPool r15;
	double r5, r6, r18;
	int *r27, *r31;
	vdynamic *r7, *r9;
	int r21, r26, r28, r29;
	openfl__display__BitmapData r11;
	if( r0 == NULL ) hl_null_access();
	r3 = r0->__renderable;
	if( !r3 ) goto label$3764bf1_1_6;
	r5 = r0->__worldAlpha;
	r6 = 0.;
	if( !(r6 >= r5) ) goto label$3764bf1_1_7;
	label$3764bf1_1_6:
	return;
	label$3764bf1_1_7:
	r8 = r0->__graphics;
	if( !r8 ) goto label$3764bf1_1_98;
	if( r1 == NULL ) hl_null_access();
	r9 = r0->__worldBlendMode;
	openfl_display_OpenGLRenderer___setBlendMode(r1,r9);
	r10 = NULL;
	openfl_display_OpenGLRenderer___pushMaskObject(r1,r0,r10);
	openfl_display__internal_Context3DGraphics_render(r8,r1);
	if( r8 == NULL ) hl_null_access();
	r11 = r8->__bitmap;
	if( !r11 ) goto label$3764bf1_1_96;
	r3 = r8->__visible;
	if( !r3 ) goto label$3764bf1_1_96;
	r12 = r1->__context3D;
	r13 = r0->__worldScale9Grid;
	r14 = r0->__worldShader;
	r14 = openfl_display_OpenGLRenderer___initDisplayShader(r1,r14);
	openfl_display_OpenGLRenderer_setShader(r1,r14);
	r11 = r8->__bitmap;
	r3 = true;
	r10 = NULL;
	openfl_display_OpenGLRenderer_applyBitmapData(r1,r11,r3,r10);
	r16 = (openfl__geom__$Matrix)g$_openfl_geom_Matrix;
	r15 = r16->__pool;
	if( r15 == NULL ) hl_null_access();
	r7 = lime_utils_ObjectPool_get(r15);
	r17 = (openfl__geom__Matrix)r7;
	if( r17 == NULL ) hl_null_access();
	r5 = 1.;
	r6 = r8->__bitmapScale;
	r5 = r5 / r6;
	r6 = 1.;
	r18 = r8->__bitmapScale;
	r6 = r6 / r18;
	openfl_geom_Matrix_scale(r17,r5,r6);
	r19 = r8->__worldTransform;
	openfl_geom_Matrix_concat(r17,r19);
	r21 = 1;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r21;
	r20 = openfl_display_OpenGLRenderer___getMatrix(r1,r17,r9);
	openfl_display_OpenGLRenderer_applyMatrix(r1,r20);
	r16 = (openfl__geom__$Matrix)g$_openfl_geom_Matrix;
	r15 = r16->__pool;
	if( r15 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r15,((vdynamic*)r17));
	r5 = r0->__worldAlpha;
	openfl_display_OpenGLRenderer_applyAlpha(r1,r5);
	r22 = r0->__worldColorTransform;
	openfl_display_OpenGLRenderer_applyColorTransform(r1,r22);
	openfl_display_OpenGLRenderer_updateShader(r1);
	r11 = r8->__bitmap;
	if( r11 == NULL ) hl_null_access();
	r24 = NULL;
	r4 = NULL;
	r23 = openfl_display_BitmapData_getVertexBuffer(r11,r12,r24,r4);
	if( r14 == NULL ) hl_null_access();
	r25 = r14->__position;
	if( !r25 ) goto label$3764bf1_1_75;
	if( r12 == NULL ) hl_null_access();
	r25 = r14->__position;
	if( r25 == NULL ) hl_null_access();
	r7 = r25->index;
	r21 = (int)hl_dyn_casti(&r7,&t$_dyn,&t$_i32);
	r26 = 0;
	r27 = &r26;
	r28 = 3;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r28;
	openfl_display3D_Context3D_setVertexBufferAt(r12,r21,r23,r27,r9);
	label$3764bf1_1_75:
	r25 = r14->__textureCoord;
	if( !r25 ) goto label$3764bf1_1_87;
	if( r12 == NULL ) hl_null_access();
	r25 = r14->__textureCoord;
	if( r25 == NULL ) hl_null_access();
	r7 = r25->index;
	r21 = (int)hl_dyn_casti(&r7,&t$_dyn,&t$_i32);
	r28 = 3;
	r27 = &r28;
	r29 = 2;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r29;
	openfl_display3D_Context3D_setVertexBufferAt(r12,r21,r23,r27,r9);
	label$3764bf1_1_87:
	r11 = r8->__bitmap;
	if( r11 == NULL ) hl_null_access();
	r24 = NULL;
	r30 = openfl_display_BitmapData_getIndexBuffer(r11,r12,r24);
	if( r12 == NULL ) hl_null_access();
	r27 = NULL;
	r31 = NULL;
	openfl_display3D_Context3D_drawTriangles(r12,r30,r27,r31);
	openfl_display_OpenGLRenderer___clearShader(r1);
	label$3764bf1_1_96:
	r10 = NULL;
	openfl_display_OpenGLRenderer___popMaskObject(r1,r0,r10);
	label$3764bf1_1_98:
	return;
}

void openfl_display__internal_Context3DShape_renderMask(openfl__display__DisplayObject r0,openfl__display__OpenGLRenderer r1) {
	bool *r9;
	openfl__display3D__Context3D r6;
	openfl__geom__Rectangle r15;
	bool r8;
	openfl__display__DisplayObject r3;
	openfl__display3D__VertexBuffer3D r14;
	openfl__display__ShaderParameter_Float r16;
	openfl__geom__Matrix r11;
	openfl__display___internal__Context3DMaskShader r7;
	openfl__display__Graphics r2;
	hl__types__ArrayBytes_Float r10;
	openfl__display3D__IndexBuffer3D r22;
	int *r19, *r23;
	vdynamic *r13, *r17;
	int r12, r18, r20, r21;
	openfl__display__BitmapData r5;
	if( r0 == NULL ) hl_null_access();
	r2 = r0->__graphics;
	if( !r2 ) goto label$3764bf1_2_60;
	openfl_display__internal_Context3DGraphics_renderMask(r2,r1);
	if( r2 == NULL ) hl_null_access();
	r5 = r2->__bitmap;
	if( !r5 ) goto label$3764bf1_2_60;
	if( r1 == NULL ) hl_null_access();
	r6 = r1->__context3D;
	r7 = r1->__maskShader;
	openfl_display_OpenGLRenderer_setShader(r1,((openfl__display__Shader)r7));
	r5 = r2->__bitmap;
	r8 = true;
	r9 = NULL;
	openfl_display_OpenGLRenderer_applyBitmapData(r1,r5,r8,r9);
	r11 = r2->__worldTransform;
	r12 = 1;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r12;
	r10 = openfl_display_OpenGLRenderer___getMatrix(r1,r11,r13);
	openfl_display_OpenGLRenderer_applyMatrix(r1,r10);
	openfl_display_OpenGLRenderer_updateShader(r1);
	r5 = r2->__bitmap;
	if( r5 == NULL ) hl_null_access();
	r15 = NULL;
	r3 = NULL;
	r14 = openfl_display_BitmapData_getVertexBuffer(r5,r6,r15,r3);
	if( r7 == NULL ) hl_null_access();
	r16 = r7->__position;
	if( !r16 ) goto label$3764bf1_2_39;
	if( r6 == NULL ) hl_null_access();
	r16 = r7->__position;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->index;
	r12 = (int)hl_dyn_casti(&r17,&t$_dyn,&t$_i32);
	r18 = 0;
	r19 = &r18;
	r20 = 3;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r20;
	openfl_display3D_Context3D_setVertexBufferAt(r6,r12,r14,r19,r13);
	label$3764bf1_2_39:
	r16 = r7->__textureCoord;
	if( !r16 ) goto label$3764bf1_2_51;
	if( r6 == NULL ) hl_null_access();
	r16 = r7->__textureCoord;
	if( r16 == NULL ) hl_null_access();
	r17 = r16->index;
	r12 = (int)hl_dyn_casti(&r17,&t$_dyn,&t$_i32);
	r20 = 3;
	r19 = &r20;
	r21 = 2;
	r13 = hl_alloc_dynamic(&t$_i32);
	r13->v.i = r21;
	openfl_display3D_Context3D_setVertexBufferAt(r6,r12,r14,r19,r13);
	label$3764bf1_2_51:
	r5 = r2->__bitmap;
	if( r5 == NULL ) hl_null_access();
	r15 = NULL;
	r22 = openfl_display_BitmapData_getIndexBuffer(r5,r6,r15);
	if( r6 == NULL ) hl_null_access();
	r19 = NULL;
	r23 = NULL;
	openfl_display3D_Context3D_drawTriangles(r6,r22,r19,r23);
	openfl_display_OpenGLRenderer___clearShader(r1);
	label$3764bf1_2_60:
	return;
}

