// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/events/_EventDispatcher/DispatchIterator.h>
void openfl_events__EventDispatcher_DispatchIterator_reset(openfl__events___EventDispatcher__DispatchIterator,hl__types__ArrayObj);
hl__types__ArrayObj hl_types_ArrayObj_copy(hl__types__ArrayObj);
#include <openfl/events/_EventDispatcher/Listener.h>
#include <hl/types/ArrayBase.h>
hl__types__ArrayBase hl_types_ArrayObj_splice(hl__types__ArrayObj,int,int);
extern hl_type t$hl_types_ArrayObj;
extern hl_type t$hl_types_ArrayBase;

void openfl_events__EventDispatcher_DispatchIterator_new(openfl__events___EventDispatcher__DispatchIterator r0,hl__types__ArrayObj r1) {
	bool r2;
	r2 = false;
	r0->active = r2;
	openfl_events__EventDispatcher_DispatchIterator_reset(r0,r1);
	return;
}

void openfl_events__EventDispatcher_DispatchIterator_copy(openfl__events___EventDispatcher__DispatchIterator r0) {
	hl__types__ArrayObj r3;
	bool r2;
	r2 = r0->isCopy;
	if( r2 ) goto label$662f3b6_2_8;
	r3 = r0->list;
	if( r3 == NULL ) hl_null_access();
	r3 = hl_types_ArrayObj_copy(r3);
	r0->list = r3;
	r2 = true;
	r0->isCopy = r2;
	label$662f3b6_2_8:
	return;
}

bool openfl_events__EventDispatcher_DispatchIterator_hasNext(openfl__events___EventDispatcher__DispatchIterator r0) {
	hl__types__ArrayObj r4;
	bool r1;
	int r2, r3;
	r2 = r0->index;
	r4 = r0->list;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	if( r2 < r3 ) goto label$662f3b6_3_7;
	r1 = false;
	goto label$662f3b6_3_8;
	label$662f3b6_3_7:
	r1 = true;
	label$662f3b6_3_8:
	return r1;
}

openfl__events___EventDispatcher__Listener openfl_events__EventDispatcher_DispatchIterator_next(openfl__events___EventDispatcher__DispatchIterator r0) {
	hl__types__ArrayObj r1;
	openfl__events___EventDispatcher__Listener r4;
	vdynamic *r5;
	varray *r6;
	int r2, r3;
	r1 = r0->list;
	if( r1 == NULL ) hl_null_access();
	r2 = r0->index;
	r3 = r2;
	++r2;
	r0->index = r2;
	r2 = r1->length;
	if( ((unsigned)r3) < ((unsigned)r2) ) goto label$662f3b6_4_10;
	r4 = NULL;
	goto label$662f3b6_4_13;
	label$662f3b6_4_10:
	r6 = r1->array;
	r5 = ((vdynamic**)(r6 + 1))[r3];
	r4 = (openfl__events___EventDispatcher__Listener)r5;
	label$662f3b6_4_13:
	return r4;
}

void openfl_events__EventDispatcher_DispatchIterator_remove(openfl__events___EventDispatcher__DispatchIterator r0,openfl__events___EventDispatcher__Listener r1,int r2) {
	hl__types__ArrayObj r7;
	bool r4;
	hl__types__ArrayBase r13;
	openfl__events___EventDispatcher__Listener r10;
	vdynamic *r11;
	varray *r12;
	int r5, r6, r8, r9;
	r4 = r0->active;
	if( !r4 ) goto label$662f3b6_5_35;
	r4 = r0->isCopy;
	if( r4 ) goto label$662f3b6_5_10;
	r6 = r0->index;
	if( r2 >= r6 ) goto label$662f3b6_5_9;
	r5 = r0->index;
	--r5;
	r0->index = r5;
	label$662f3b6_5_9:
	goto label$662f3b6_5_35;
	label$662f3b6_5_10:
	r5 = r0->index;
	r7 = r0->list;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->length;
	label$662f3b6_5_14:
	if( r5 >= r6 ) goto label$662f3b6_5_35;
	r8 = r5;
	++r5;
	r7 = r0->list;
	if( r7 == NULL ) hl_null_access();
	r9 = r7->length;
	if( ((unsigned)r8) < ((unsigned)r9) ) goto label$662f3b6_5_24;
	r10 = NULL;
	goto label$662f3b6_5_27;
	label$662f3b6_5_24:
	r12 = r7->array;
	r11 = ((vdynamic**)(r12 + 1))[r8];
	r10 = (openfl__events___EventDispatcher__Listener)r11;
	label$662f3b6_5_27:
	if( r10 != r1 ) goto label$662f3b6_5_34;
	r7 = r0->list;
	if( r7 == NULL ) hl_null_access();
	r9 = 1;
	r13 = hl_types_ArrayObj_splice(r7,r8,r9);
	r7 = (hl__types__ArrayObj)hl_dyn_castp(&r13,&t$hl_types_ArrayBase,&t$hl_types_ArrayObj);
	goto label$662f3b6_5_35;
	label$662f3b6_5_34:
	goto label$662f3b6_5_14;
	label$662f3b6_5_35:
	return;
}

void openfl_events__EventDispatcher_DispatchIterator_reset(openfl__events___EventDispatcher__DispatchIterator r0,hl__types__ArrayObj r1) {
	bool r2;
	int r3;
	r0->list = r1;
	r2 = false;
	r0->isCopy = r2;
	r3 = 0;
	r0->index = r3;
	return;
}

void openfl_events__EventDispatcher_DispatchIterator_start(openfl__events___EventDispatcher__DispatchIterator r0) {
	bool r1;
	r1 = true;
	r0->active = r1;
	return;
}

void openfl_events__EventDispatcher_DispatchIterator_stop(openfl__events___EventDispatcher__DispatchIterator r0) {
	bool r1;
	r1 = false;
	r0->active = r1;
	return;
}

