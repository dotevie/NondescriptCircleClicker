// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/text/TextField.h>
#include <openfl/events/FocusEvent.h>
extern hl_type t$openfl_events_FocusEvent;
extern hl_type t$_dyn;
#include <openfl/_Vector/ObjectVector.h>
#include <openfl/text/_internal/TextFormatRange.h>
extern String s$;
int String___compare(String,vdynamic*);
void openfl_display_DisplayObject___setParentRenderDirty(openfl__display__DisplayObject);
String String___add__(String,String);
void openfl_text_TextField___updateText(openfl__text__TextField,String);
int openfl__Vector_ObjectVector_get_length(openfl___Vector__ObjectVector);
vdynamic* openfl__Vector_ObjectVector_get(openfl___Vector__ObjectVector,int);
extern hl_type t$openfl_geom_Rectangle;
void openfl_geom_Rectangle_new(openfl__geom__Rectangle,double*,double*,double*,double*);
bool openfl_text_TextField___getCharBoundaries(openfl__text__TextField,int,openfl__geom__Rectangle);
#include <openfl/_Vector/FloatVector.h>
#include <openfl/text/_internal/TextLayoutGroup.h>
#include <lime/math/Vector2.h>
#include <openfl/text/_internal/GlyphPosition.h>
double openfl_text_TextField_get_width(openfl__text__TextField);
double openfl_text_TextField_get_height(openfl__text__TextField);
void openfl_text_TextField___updateLayout(openfl__text__TextField);
int openfl_text_TextField_get_scrollH(openfl__text__TextField);
int openfl_text_TextField_get_scrollV(openfl__text__TextField);
double openfl__Vector_FloatVector_get(openfl___Vector__FloatVector,int);
vvirtual* openfl__Vector_ObjectVector_iterator(openfl___Vector__ObjectVector);
extern hl_type t$vrt_00ab96d;
extern hl_type t$fun_bf7849e;
extern hl_type t$fun_9e82396;
#include <openfl/_Vector/IntVector.h>
String openfl_text_TextField_get_text(openfl__text__TextField);
int openfl__Vector_IntVector_get_length(openfl___Vector__IntVector);
int openfl__Vector_IntVector_get(openfl___Vector__IntVector,int);
#include <openfl/text/TextLineMetrics.h>
extern hl_type t$openfl_text_TextLineMetrics;
void openfl_text_TextLineMetrics_new(openfl__text__TextLineMetrics,double,double,double,double,double,double);
extern hl_type t$_i32;
String String_substring(String,int,vdynamic*);
int openfl_text__internal_TextEngine_getLineBreakIndex(openfl__text___internal__TextEngine,int*);
#include <openfl/errors/RangeError.h>
#include <hl/types/ArrayBytes_Int.h>
extern hl_type t$openfl_errors_RangeError;
extern String s$de55400;
void openfl_errors_RangeError_new(openfl__errors__RangeError,String);
extern hl_type t$openfl_text_TextFormat;
void openfl_text_TextFormat_new(openfl__text__TextFormat,String,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*,String,String,vdynamic*,vdynamic*,vdynamic*,vdynamic*,vdynamic*);
extern hl_type t$vrt_3115162;
extern hl_type t$fun_2aa4e03;
openfl__text__TextFormat openfl_text_TextFormat_clone(openfl__text__TextFormat);
void openfl_text_TextField___replaceSelectedText(openfl__text__TextField,String,bool*);
void openfl_text_TextField___replaceText(openfl__text__TextField,int,int,String,bool);
void openfl_text_TextField___updateScrollV(openfl__text__TextField);
void openfl_text_TextField___updateScrollH(openfl__text__TextField);
openfl__display__InteractiveObject openfl_display_Stage_get_focus(openfl__display__Stage);
void openfl_text_TextField___stopCursorTimer(openfl__text__TextField);
void openfl_text_TextField___startCursorTimer(openfl__text__TextField);
#include <hl/types/ArrayDyn.h>
int openfl__Vector_ObjectVector_set_length(openfl___Vector__ObjectVector,int);
void openfl_text_TextFormat___merge(openfl__text__TextFormat,openfl__text__TextFormat);
extern hl_type t$openfl_text__internal_TextFormatRange;
void openfl_text__internal_TextFormatRange_new(openfl__text___internal__TextFormatRange,openfl__text__TextFormat,int,int);
void openfl__Vector_ObjectVector_insertAt(openfl___Vector__ObjectVector,int,vdynamic*);
vdynamic* openfl__Vector_ObjectVector_removeAt(openfl___Vector__ObjectVector,int);
extern String s$7847f28;
extern hl_type t$vrt_329ffa8;
extern String s$openfl_text_TextField_hx;
extern hl_type t$String;
extern String s$openfl_text_TextField;
extern String s$setTextFormat;
extern hl_type t$vrt_eaa6a3b;
void lime_utils_Log_warn(vdynamic*,vvirtual*);
int openfl_text_TextField_get_caretIndex(openfl__text__TextField);
int openfl_text_TextField___getCharIndexOnDifferentLine(openfl__text__TextField,int,int);
#include <lime/_internal/backend/native/NativeWindow.h>
#include <lime/ui/Window.h>
#include <lime/app/_Event_String_Void.h>
#include <lime/app/_Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void.h>
bool lime__internal_backend_native_NativeWindow_setTextInputEnabled(lime___internal__backend__native__NativeWindow,bool);
void openfl_text_TextField_window_onTextInput(openfl__text__TextField,String);
extern hl_type t$fun_d543747;
void lime_app__Event_String_Void_remove(lime__app___Event_String_Void,vdynamic*);
void openfl_text_TextField_window_onKeyDown(openfl__text__TextField,int,int);
extern hl_type t$fun_4532c0e;
void lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_remove(lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void,vdynamic*);
#include <openfl/events/MouseEvent.h>
#include <openfl/events/TextEvent.h>
#include <openfl/net/URLRequest.h>
extern String s$mouseUp;
extern hl_type t$openfl_events_MouseEvent;
extern hl_type t$openfl_events_Event;
double openfl_display_DisplayObject_get_mouseX(openfl__display__DisplayObject);
double openfl_display_DisplayObject_get_mouseY(openfl__display__DisplayObject);
openfl__text___internal__TextLayoutGroup openfl_text_TextField___getGroup(openfl__text__TextField,double,double,bool*);
extern String s$event_;
bool StringTools_startsWith(String,String);
extern hl_type t$openfl_events_TextEvent;
extern String s$link;
String String_substr(String,int,vdynamic*);
void openfl_events_TextEvent_new(openfl__events__TextEvent,String,bool*,bool*,String);
bool openfl_display_DisplayObject_dispatchEvent(openfl__display__DisplayObject,openfl__events__Event);
extern hl_type t$openfl_net_URLRequest;
void openfl_net_URLRequest_new(openfl__net__URLRequest,String);
void openfl_Lib_getURL(openfl__net__URLRequest,String);
bool openfl_display_DisplayObject___dispatch(openfl__display__DisplayObject,openfl__events__Event);
#include <lime/math/Rectangle.h>
openfl__geom__Rectangle openfl_display_DisplayObject_getBounds(openfl__display__DisplayObject,openfl__display__DisplayObject);
extern hl_type t$lime_math_Rectangle;
void lime_math_Rectangle_new(lime__math__Rectangle,double*,double*,double*,double*);
lime__math__Rectangle lime_ui_Window_setTextInputRect(lime__ui__Window,lime__math__Rectangle);
bool lime_app__Event_String_Void_has(lime__app___Event_String_Void,vdynamic*);
void lime_app__Event_String_Void_add(lime__app___Event_String_Void,vdynamic*,bool*,int*);
void lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_add(lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void,vdynamic*,bool*,int*);
extern hl_type t$vrt_29ddde5;
#include <lime/utils/ObjectPool.h>
#include <openfl/geom/Rectangle.h>
extern openfl__geom__$Rectangle g$_openfl_geom_Rectangle;
vdynamic* lime_utils_ObjectPool_get(lime__utils__ObjectPool);
void openfl_geom_Rectangle_copyFrom(openfl__geom__Rectangle,openfl__geom__Rectangle);
void openfl_geom_Rectangle_offset(openfl__geom__Rectangle,double,double);
void openfl_geom_Rectangle___transform(openfl__geom__Rectangle,openfl__geom__Rectangle,openfl__geom__Matrix);
void openfl_geom_Rectangle___expand(openfl__geom__Rectangle,double,double,double,double);
void lime_utils_ObjectPool_release(lime__utils__ObjectPool,vdynamic*);
void openfl_geom_Rectangle_setTo(openfl__geom__Rectangle,double,double,double,double);
extern hl_type t$_f64;
int openfl_text_TextField___getPosition(openfl__text__TextField,double,double);
extern String s$button;
extern String s$ibeam;
bool openfl_display_DisplayObject_get_visible(openfl__display__DisplayObject);
openfl__display__DisplayObject openfl_display_DisplayObject_get_mask(openfl__display__DisplayObject);
openfl__geom__Matrix openfl_display_DisplayObject___getRenderTransform(openfl__display__DisplayObject);
bool openfl_geom_Rectangle_contains(openfl__geom__Rectangle,double,double);
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
String openfl_text__internal_TextEngine_restrictText(openfl__text___internal__TextEngine,String);
extern String s$__replaceText;
extern hl_type t$vrt_e24d085;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
extern hl_type t$openfl__Vector_ObjectVector;
vvirtual* openfl__Vector_ObjectVector_splice(openfl___Vector__ObjectVector,int,int);
openfl__text__TextFormat openfl_text_TextField_get_defaultTextFormat(openfl__text__TextField);
int openfl__Vector_ObjectVector_push(openfl___Vector__ObjectVector,vdynamic*);
void openfl__Vector_ObjectVector_unshift(openfl___Vector__ObjectVector,vdynamic*);
vdynamic* openfl_text_TextField_get_type(openfl__text__TextField);
extern hl_type t$fun_4a7d495;
haxe__Timer haxe_Timer_delay(vclosure*,int);
bool openfl_text_TextField_get_selectable(openfl__text__TextField);
void haxe_Timer_stop(haxe__Timer);
void openfl_text__internal_TextEngine_update(openfl__text___internal__TextEngine);
double openfl_text_TextField_get_x(openfl__text__TextField);
double openfl_text_TextField_set_x(openfl__text__TextField,double);
void openfl_text__internal_TextEngine_getBounds(openfl__text___internal__TextEngine);
double openfl_text_TextField_get_textWidth(openfl__text__TextField);
int openfl_text_TextField_set_scrollH(openfl__text__TextField,int);
int openfl_text_TextField_get_maxScrollH(openfl__text__TextField);
double openfl_text_TextField_get_textHeight(openfl__text__TextField);
int openfl_text_TextField_set_scrollV(openfl__text__TextField,int);
int openfl_text_TextField_get_bottomScrollV(openfl__text__TextField);
int openfl__Vector_FloatVector_get_length(openfl___Vector__FloatVector);
double Math_min(double,double);
double Math_max(double,double);
double openfl_display_Stage_get_frameRate(openfl__display__Stage);
int openfl_text_TextField_get_maxScrollV(openfl__text__TextField);
void openfl_text_TextField_stage_onMouseMove(openfl__text__TextField,openfl__events__MouseEvent);
String openfl_text__internal_TextEngine_set_text(openfl__text___internal__TextEngine,String);
extern String s$3389dae;
void openfl_display_DisplayObject___updateTransforms(openfl__display__DisplayObject,openfl__geom__Matrix);
int openfl_text__internal_TextEngine_get_bottomScrollV(openfl__text___internal__TextEngine);
double openfl_display_DisplayObject_get_scaleY(openfl__display__DisplayObject);
void openfl_display_DisplayObject___setTransformDirty(openfl__display__DisplayObject);
#include <_std/EReg.h>
extern hl_type t$EReg;
extern String s$_s_;
extern String s$g;
void EReg_new(EReg,String,String);
extern String s$7215ee9;
String EReg_replace(EReg,String,String);
bool openfl_text_TextField_get_multiline(openfl__text__TextField);
String openfl_text__internal_HTMLParser_parse(String,bool,openfl__text__StyleSheet,openfl__text__TextFormat,openfl___Vector__ObjectVector);
int openfl_text__internal_TextEngine_get_maxScrollV(openfl__text___internal__TextEngine);
String openfl_text__internal_TextEngine_set_restrict(openfl__text___internal__TextEngine,String);
extern String s$scroll;
void openfl_events_Event_new(openfl__events__Event,String,bool*,bool*);
int openfl_text__internal_TextEngine_get_scrollV(openfl__text___internal__TextEngine);
int openfl_text__internal_TextEngine_set_scrollV(openfl__text___internal__TextEngine,int);
vdynamic* openfl_text_TextField_set_type(openfl__text__TextField,vdynamic*);
extern String s$addedToStage;
void openfl_text_TextField_this_onAddedToStage(openfl__text__TextField,openfl__events__Event);
extern hl_type t$fun_14af21a;
void wrapt$fun_c6e0b11(vclosure*,vdynamic*);
extern hl_type t$fun_c6e0b11;
void openfl_display_DisplayObject_addEventListener(openfl__display__DisplayObject,String,vclosure*,bool*,int*,bool*);
void openfl_text_TextField_this_onFocusIn(openfl__text__TextField,openfl__events__FocusEvent);
void openfl_display_DisplayObject_removeEventListener(openfl__display__DisplayObject,String,vclosure*,bool*);
extern hl_type t$openfl_display_Stage;
extern String s$enterFrame;
void openfl_text_TextField_this_onEnterFrame(openfl__text__TextField,openfl__events__Event);
extern String s$mouseMove;
extern hl_type t$fun_5338d7d;
void wrapt$fun_1d22347(vclosure*,vdynamic*);
extern hl_type t$fun_1d22347;
openfl__geom__Matrix openfl_display_DisplayObject___getWorldTransform(openfl__display__DisplayObject);
#include <openfl/events/KeyboardEvent.h>
String lime_system_Clipboard_set_text(String);
extern String s$68b329d;
extern String s$5058f1a;
extern String s$9033e0e;
extern String s$d1457b7;
extern String s$c0cb5f0;
extern String s$9eecb7d;
extern String s$853ae90;
extern String s$84c4047;
extern String s$9371d7a;
extern String s$336d5eb;
extern String s$b14a7b8;
extern String s$6666cd7;
int String_lastIndexOf(String,String,vdynamic*);
int String_indexOf(String,String,vdynamic*);
extern String s$change;
bool lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(int);
String lime_system_Clipboard_get_text(void);
extern String s$textInput;
bool openfl_events_Event_isDefaultPrevented(openfl__events__Event);
bool lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(int);
void openfl_display_InteractiveObject_new(openfl__display__InteractiveObject);
extern hl_type t$openfl_display_Graphics;
void openfl_display_Graphics_new(openfl__display__Graphics,openfl__display__DisplayObject);
extern hl_type t$openfl_text__internal_TextEngine;
void openfl_text__internal_TextEngine_new(openfl__text___internal__TextEngine,openfl__text__TextField);
extern openfl__text__$TextField g$_openfl_text_TextField;
extern String s$Times_New_Roman;
extern String s$mouseDown;
extern String s$focusIn;
extern hl_type t$fun_6d3d10a;
extern hl_type t$fun_d9b55f3;
extern String s$focusOut;
extern String s$keyDown;
extern hl_type t$fun_0ac6d1a;
void wrapt$fun_6da800c(vclosure*,vdynamic*);
extern hl_type t$fun_6da800c;
extern String s$mouseWheel;
extern String s$doubleClick;

void openfl_text_TextField_new__$1(vclosure* r0,vdynamic* r1) {
	openfl__events__FocusEvent r2;
	r2 = (openfl__events__FocusEvent)hl_dyn_castp(&r1,&t$_dyn,&t$openfl_events_FocusEvent);
	r0->hasValue ? ((void (*)(vdynamic*,openfl__events__FocusEvent))r0->fun)((vdynamic*)r0->value,r2) : ((void (*)(openfl__events__FocusEvent))r0->fun)(r2);
	return;
}

void openfl_text_TextField_appendText(openfl__text__TextField r0,String r1) {
	String r3, r4;
	bool r6;
	openfl__text___internal__TextFormatRange r12;
	openfl__text___internal__TextEngine r8;
	vdynamic *r5;
	int r9, r11;
	openfl___Vector__ObjectVector r7, r10;
	if( !r1 ) goto label$4cc5e74_2_3;
	r4 = (String)s$;
	if( r1 != r4 && (!r1 || !r4 || String___compare(r1,(vdynamic*)r4) != 0) ) goto label$4cc5e74_2_4;
	label$4cc5e74_2_3:
	return;
	label$4cc5e74_2_4:
	r6 = true;
	r0->__dirty = r6;
	r6 = true;
	r0->__layoutDirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_2_13;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_2_13:
	r3 = r0->__text;
	r3 = String___add__(r3,r1);
	openfl_text_TextField___updateText(r0,r3);
	r8 = r0->__textEngine;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->textFormatRanges;
	if( r7 == NULL ) hl_null_access();
	r8 = r0->__textEngine;
	if( r8 == NULL ) hl_null_access();
	r10 = r8->textFormatRanges;
	if( r10 == NULL ) hl_null_access();
	r9 = openfl__Vector_ObjectVector_get_length(r10);
	r11 = 1;
	r9 = r9 - r11;
	r5 = openfl__Vector_ObjectVector_get(r7,r9);
	r12 = (openfl__text___internal__TextFormatRange)r5;
	if( r12 == NULL ) hl_null_access();
	r3 = r0->__text;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	r12->end = r9;
	r3 = r0->__text;
	if( r3 == NULL ) hl_null_access();
	r9 = r3->length;
	r0->__caretIndex = r9;
	r0->__selectionIndex = r9;
	return;
}

openfl__geom__Rectangle openfl_text_TextField_getCharBoundaries(openfl__text__TextField r0,int r1) {
	String r4;
	openfl__geom__Rectangle r6, r12;
	bool r11;
	double *r7, *r8, *r9, *r10;
	int r3, r5;
	r3 = 0;
	if( r1 < r3 ) goto label$4cc5e74_3_8;
	r4 = r0->__text;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	r5 = 1;
	r3 = r3 - r5;
	if( r3 >= r1 ) goto label$4cc5e74_3_10;
	label$4cc5e74_3_8:
	r6 = NULL;
	return r6;
	label$4cc5e74_3_10:
	r6 = (openfl__geom__Rectangle)hl_alloc_obj(&t$openfl_geom_Rectangle);
	r7 = NULL;
	r8 = NULL;
	r9 = NULL;
	r10 = NULL;
	openfl_geom_Rectangle_new(r6,r7,r8,r9,r10);
	r11 = openfl_text_TextField___getCharBoundaries(r0,r1,r6);
	if( !r11 ) goto label$4cc5e74_3_19;
	return r6;
	label$4cc5e74_3_19:
	r12 = NULL;
	return r12;
}

int openfl_text_TextField_getCharIndexAtPoint(openfl__text__TextField r0,double r1,double r2) {
	hl__types__ArrayObj r19;
	vvirtual *r14, *r16;
	lime__math__Vector2 r21;
	openfl__text___internal__TextLayoutGroup r18;
	bool r17;
	openfl__text___internal__GlyphPosition r22;
	openfl___Vector__FloatVector r12;
	openfl__text___internal__TextEngine r13;
	double r4, r5, r6;
	vdynamic *r8;
	varray *r23;
	openfl___Vector__ObjectVector r15;
	int r7, r9, r10, r11, r20;
	r5 = 2.;
	if( r5 >= r1 ) goto label$4cc5e74_4_12;
	r5 = openfl_text_TextField_get_width(r0);
	r6 = 4.;
	r5 = r5 + r6;
	if( r5 < r1 ) goto label$4cc5e74_4_12;
	r5 = 0.;
	if( r5 >= r2 ) goto label$4cc5e74_4_12;
	r5 = openfl_text_TextField_get_height(r0);
	r6 = 4.;
	r5 = r5 + r6;
	if( !(r5 < r2) ) goto label$4cc5e74_4_14;
	label$4cc5e74_4_12:
	r7 = -1;
	return r7;
	label$4cc5e74_4_14:
	openfl_text_TextField___updateLayout(r0);
	r7 = openfl_text_TextField_get_scrollH(r0);
	r5 = (double)r7;
	r4 = r1 + r5;
	r1 = r4;
	r7 = 0;
	r9 = openfl_text_TextField_get_scrollV(r0);
	r10 = 1;
	r9 = r9 - r10;
	label$4cc5e74_4_23:
	if( r7 >= r9 ) goto label$4cc5e74_4_35;
	r10 = r7;
	++r7;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->lineHeights;
	if( r12 == NULL ) hl_null_access();
	r5 = openfl__Vector_FloatVector_get(r12,r10);
	r4 = r2 + r5;
	r2 = r4;
	goto label$4cc5e74_4_23;
	label$4cc5e74_4_35:
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->layoutGroups;
	if( r15 == NULL ) hl_null_access();
	r14 = openfl__Vector_ObjectVector_iterator(r15);
	r16 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r14);
	label$4cc5e74_4_41:
	if( r16 == NULL ) hl_null_access();
	if( hl_vfields(r16)[0] ) r17 = ((bool (*)(vdynamic*))hl_vfields(r16)[0])(r16->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r16->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r17 = (bool)ret.v.i;
	}
	if( !r17 ) goto label$4cc5e74_4_104;
	if( hl_vfields(r16)[1] ) r18 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r16)[1])(r16->value); else {
		r18 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r16->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r18 == NULL ) hl_null_access();
	r5 = r18->offsetY;
	if( !(r2 >= r5) ) goto label$4cc5e74_4_103;
	r5 = r18->offsetY;
	r6 = r18->height;
	r5 = r5 + r6;
	if( !(r5 >= r2) ) goto label$4cc5e74_4_103;
	r5 = r18->offsetX;
	if( !(r1 >= r5) ) goto label$4cc5e74_4_103;
	r5 = r18->offsetX;
	r6 = r18->width;
	r5 = r5 + r6;
	if( !(r5 >= r1) ) goto label$4cc5e74_4_103;
	r4 = 0.;
	r7 = 0;
	r19 = r18->positions;
	if( r19 == NULL ) hl_null_access();
	r9 = r19->length;
	label$4cc5e74_4_64:
	if( r7 >= r9 ) goto label$4cc5e74_4_100;
	r10 = r7;
	++r7;
	r20 = 0;
	if( r10 < r20 ) goto label$4cc5e74_4_89;
	if( r18 == NULL ) hl_null_access();
	r19 = r18->positions;
	if( r19 == NULL ) hl_null_access();
	r20 = r19->length;
	if( r10 >= r20 ) goto label$4cc5e74_4_89;
	r19 = r18->positions;
	if( r19 == NULL ) hl_null_access();
	r20 = r19->length;
	if( ((unsigned)r10) < ((unsigned)r20) ) goto label$4cc5e74_4_81;
	r22 = NULL;
	goto label$4cc5e74_4_84;
	label$4cc5e74_4_81:
	r23 = r19->array;
	r8 = ((vdynamic**)(r23 + 1))[r10];
	r22 = (openfl__text___internal__GlyphPosition)r8;
	label$4cc5e74_4_84:
	if( r22 == NULL ) hl_null_access();
	r21 = r22->advance;
	if( r21 == NULL ) hl_null_access();
	r6 = r21->x;
	goto label$4cc5e74_4_90;
	label$4cc5e74_4_89:
	r6 = 0.;
	label$4cc5e74_4_90:
	r5 = r4 + r6;
	r4 = r5;
	if( r18 == NULL ) hl_null_access();
	r6 = r18->offsetX;
	r6 = r6 + r4;
	if( !(r6 >= r1) ) goto label$4cc5e74_4_99;
	r11 = r18->startIndex;
	r11 = r11 + r10;
	return r11;
	label$4cc5e74_4_99:
	goto label$4cc5e74_4_64;
	label$4cc5e74_4_100:
	if( r18 == NULL ) hl_null_access();
	r7 = r18->endIndex;
	return r7;
	label$4cc5e74_4_103:
	goto label$4cc5e74_4_41;
	label$4cc5e74_4_104:
	r7 = -1;
	return r7;
}

int openfl_text_TextField_getFirstCharInParagraph(openfl__text__TextField r0,int r1) {
	String r4;
	openfl___Vector__IntVector r5, r10;
	openfl__text___internal__TextEngine r6;
	int r2, r3, r7, r8, r9;
	r3 = 0;
	if( r1 < r3 ) goto label$4cc5e74_5_6;
	r4 = openfl_text_TextField_get_text(r0);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	if( r3 >= r1 ) goto label$4cc5e74_5_8;
	label$4cc5e74_5_6:
	r2 = -1;
	return r2;
	label$4cc5e74_5_8:
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->lineBreaks;
	if( r5 == NULL ) hl_null_access();
	r2 = openfl__Vector_IntVector_get_length(r5);
	r3 = 0;
	if( r2 != r3 ) goto label$4cc5e74_5_17;
	r2 = 0;
	return r2;
	label$4cc5e74_5_17:
	r2 = 0;
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->lineBreaks;
	if( r5 == NULL ) hl_null_access();
	r3 = openfl__Vector_IntVector_get_length(r5);
	label$4cc5e74_5_23:
	if( r2 >= r3 ) goto label$4cc5e74_5_48;
	r7 = r2;
	++r2;
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->lineBreaks;
	if( r5 == NULL ) hl_null_access();
	r9 = openfl__Vector_IntVector_get(r5,r7);
	if( r9 < r1 ) goto label$4cc5e74_5_47;
	r9 = 0;
	if( r7 != r9 ) goto label$4cc5e74_5_37;
	r8 = 0;
	return r8;
	label$4cc5e74_5_37:
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->lineBreaks;
	if( r5 == NULL ) hl_null_access();
	r9 = 1;
	r8 = r7 - r9;
	r8 = openfl__Vector_IntVector_get(r5,r8);
	r9 = 1;
	r8 = r8 + r9;
	return r8;
	label$4cc5e74_5_47:
	goto label$4cc5e74_5_23;
	label$4cc5e74_5_48:
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->lineBreaks;
	if( r5 == NULL ) hl_null_access();
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r10 = r6->lineBreaks;
	if( r10 == NULL ) hl_null_access();
	r2 = openfl__Vector_IntVector_get_length(r10);
	r3 = 1;
	r2 = r2 - r3;
	r2 = openfl__Vector_IntVector_get(r5,r2);
	r3 = 1;
	r2 = r2 + r3;
	return r2;
}

int openfl_text_TextField_getLineIndexAtPoint(openfl__text__TextField r0,double r1,double r2) {
	vvirtual *r12, *r14;
	openfl__text___internal__TextLayoutGroup r16;
	bool r15;
	openfl___Vector__FloatVector r10;
	openfl__text___internal__TextEngine r11;
	double r4, r5, r6;
	openfl___Vector__ObjectVector r13;
	int r7, r8, r9;
	openfl_text_TextField___updateLayout(r0);
	r5 = 2.;
	if( r5 >= r1 ) goto label$4cc5e74_6_13;
	r5 = openfl_text_TextField_get_width(r0);
	r6 = 4.;
	r5 = r5 + r6;
	if( r5 < r1 ) goto label$4cc5e74_6_13;
	r5 = 0.;
	if( r5 >= r2 ) goto label$4cc5e74_6_13;
	r5 = openfl_text_TextField_get_height(r0);
	r6 = 4.;
	r5 = r5 + r6;
	if( !(r5 < r2) ) goto label$4cc5e74_6_15;
	label$4cc5e74_6_13:
	r7 = -1;
	return r7;
	label$4cc5e74_6_15:
	r7 = 0;
	r8 = openfl_text_TextField_get_scrollV(r0);
	r9 = 1;
	r8 = r8 - r9;
	label$4cc5e74_6_19:
	if( r7 >= r8 ) goto label$4cc5e74_6_31;
	r9 = r7;
	++r7;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->lineHeights;
	if( r10 == NULL ) hl_null_access();
	r5 = openfl__Vector_FloatVector_get(r10,r9);
	r4 = r2 + r5;
	r2 = r4;
	goto label$4cc5e74_6_19;
	label$4cc5e74_6_31:
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r13 = r11->layoutGroups;
	if( r13 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_iterator(r13);
	r14 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r12);
	label$4cc5e74_6_37:
	if( r14 == NULL ) hl_null_access();
	if( hl_vfields(r14)[0] ) r15 = ((bool (*)(vdynamic*))hl_vfields(r14)[0])(r14->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r14->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r15 = (bool)ret.v.i;
	}
	if( !r15 ) goto label$4cc5e74_6_52;
	if( hl_vfields(r14)[1] ) r16 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r14)[1])(r14->value); else {
		r16 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r14->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r16 == NULL ) hl_null_access();
	r5 = r16->offsetY;
	if( !(r2 >= r5) ) goto label$4cc5e74_6_51;
	r5 = r16->offsetY;
	r6 = r16->height;
	r5 = r5 + r6;
	if( !(r5 >= r2) ) goto label$4cc5e74_6_51;
	r7 = r16->lineIndex;
	return r7;
	label$4cc5e74_6_51:
	goto label$4cc5e74_6_37;
	label$4cc5e74_6_52:
	r7 = -1;
	return r7;
}

int openfl_text_TextField_getLineIndexOfChar(openfl__text__TextField r0,int r1) {
	String r5;
	vvirtual *r6, *r9;
	openfl__text___internal__TextLayoutGroup r11;
	bool r10;
	openfl__text___internal__TextEngine r8;
	openfl___Vector__ObjectVector r7;
	int r3, r4;
	r4 = 0;
	if( r1 < r4 ) goto label$4cc5e74_7_6;
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->length;
	if( r4 >= r1 ) goto label$4cc5e74_7_8;
	label$4cc5e74_7_6:
	r3 = -1;
	return r3;
	label$4cc5e74_7_8:
	openfl_text_TextField___updateLayout(r0);
	r8 = r0->__textEngine;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->layoutGroups;
	if( r7 == NULL ) hl_null_access();
	r6 = openfl__Vector_ObjectVector_iterator(r7);
	r9 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r6);
	label$4cc5e74_7_15:
	if( r9 == NULL ) hl_null_access();
	if( hl_vfields(r9)[0] ) r10 = ((bool (*)(vdynamic*))hl_vfields(r9)[0])(r9->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r9->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r10 = (bool)ret.v.i;
	}
	if( !r10 ) goto label$4cc5e74_7_28;
	if( hl_vfields(r9)[1] ) r11 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r9)[1])(r9->value); else {
		r11 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r9->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r11 == NULL ) hl_null_access();
	r3 = r11->startIndex;
	if( r1 < r3 ) goto label$4cc5e74_7_27;
	r3 = r11->endIndex;
	if( r3 < r1 ) goto label$4cc5e74_7_27;
	r3 = r11->lineIndex;
	return r3;
	label$4cc5e74_7_27:
	goto label$4cc5e74_7_15;
	label$4cc5e74_7_28:
	r3 = -1;
	return r3;
}

int openfl_text_TextField_getLineLength(openfl__text__TextField r0,int r1) {
	String r14;
	vvirtual *r7, *r9;
	openfl__text___internal__TextLayoutGroup r11;
	bool r10;
	openfl__text___internal__TextEngine r5;
	openfl___Vector__ObjectVector r8;
	int r3, r4, r6, r12, r13;
	openfl_text_TextField___updateLayout(r0);
	r4 = 0;
	if( r1 < r4 ) goto label$4cc5e74_8_9;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r4 >= r1 ) goto label$4cc5e74_8_11;
	label$4cc5e74_8_9:
	r3 = 0;
	return r3;
	label$4cc5e74_8_11:
	r3 = -1;
	r4 = -1;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->layoutGroups;
	if( r8 == NULL ) hl_null_access();
	r7 = openfl__Vector_ObjectVector_iterator(r8);
	r9 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r7);
	label$4cc5e74_8_19:
	if( r9 == NULL ) hl_null_access();
	if( hl_vfields(r9)[0] ) r10 = ((bool (*)(vdynamic*))hl_vfields(r9)[0])(r9->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r9->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r10 = (bool)ret.v.i;
	}
	if( !r10 ) goto label$4cc5e74_8_40;
	if( hl_vfields(r9)[1] ) r11 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r9)[1])(r9->value); else {
		r11 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r9->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r11 == NULL ) hl_null_access();
	r6 = r11->lineIndex;
	if( r6 != r1 ) goto label$4cc5e74_8_32;
	r12 = -1;
	if( r3 != r12 ) goto label$4cc5e74_8_31;
	r6 = r11->startIndex;
	r3 = r6;
	label$4cc5e74_8_31:
	goto label$4cc5e74_8_39;
	label$4cc5e74_8_32:
	r6 = r11->lineIndex;
	r13 = 1;
	r12 = r1 + r13;
	if( r6 != r12 ) goto label$4cc5e74_8_39;
	r6 = r11->startIndex;
	r4 = r6;
	goto label$4cc5e74_8_40;
	label$4cc5e74_8_39:
	goto label$4cc5e74_8_19;
	label$4cc5e74_8_40:
	r12 = -1;
	if( r4 != r12 ) goto label$4cc5e74_8_46;
	r14 = r0->__text;
	if( r14 == NULL ) hl_null_access();
	r6 = r14->length;
	r4 = r6;
	label$4cc5e74_8_46:
	r6 = r4 - r3;
	return r6;
}

openfl__text__TextLineMetrics openfl_text_TextField_getLineMetrics(openfl__text__TextField r0,int r1) {
	openfl__text__TextFormat r12;
	openfl___Vector__FloatVector r4;
	openfl__text__TextLineMetrics r16;
	openfl__text___internal__TextEngine r5;
	double r3, r7, r8, r9, r10, r13, r14, r15;
	vdynamic *r11;
	int r6;
	openfl_text_TextField___updateLayout(r0);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->lineAscents;
	if( r4 == NULL ) hl_null_access();
	r3 = openfl__Vector_FloatVector_get(r4,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->lineDescents;
	if( r4 == NULL ) hl_null_access();
	r7 = openfl__Vector_FloatVector_get(r4,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->lineLeadings;
	if( r4 == NULL ) hl_null_access();
	r8 = openfl__Vector_FloatVector_get(r4,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->lineHeights;
	if( r4 == NULL ) hl_null_access();
	r9 = openfl__Vector_FloatVector_get(r4,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->lineWidths;
	if( r4 == NULL ) hl_null_access();
	r10 = openfl__Vector_FloatVector_get(r4,r1);
	r12 = r0->__textFormat;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->align;
	r6 = r11 ? r11->v.i : 0;
	switch(r6) {
		default:
			goto label$4cc5e74_9_50;
		case 0:
			r5 = r0->__textEngine;
			if( r5 == NULL ) hl_null_access();
			r14 = r5->width;
			r14 = r14 - r10;
			r15 = 2.;
			r14 = r14 / r15;
			r13 = r14;
			goto label$4cc5e74_9_50;
		case 1:
		case 4:
			r5 = r0->__textEngine;
			if( r5 == NULL ) hl_null_access();
			r14 = r5->width;
			r14 = r14 - r10;
			r15 = 2.;
			r14 = r14 - r15;
			r13 = r14;
			goto label$4cc5e74_9_50;
		case 2:
		case 3:
		case 5:
			r14 = 2.;
			r13 = r14;
	}
	label$4cc5e74_9_50:
	r16 = (openfl__text__TextLineMetrics)hl_alloc_obj(&t$openfl_text_TextLineMetrics);
	openfl_text_TextLineMetrics_new(r16,r13,r10,r9,r3,r7,r8);
	return r16;
}

int openfl_text_TextField_getLineOffset(openfl__text__TextField r0,int r1) {
	vvirtual *r7, *r9;
	openfl__text___internal__TextLayoutGroup r11;
	bool r10;
	openfl__text___internal__TextEngine r5;
	openfl___Vector__ObjectVector r8;
	int r3, r4, r6;
	openfl_text_TextField___updateLayout(r0);
	r4 = 0;
	if( r1 < r4 ) goto label$4cc5e74_10_9;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r4 >= r1 ) goto label$4cc5e74_10_11;
	label$4cc5e74_10_9:
	r3 = -1;
	return r3;
	label$4cc5e74_10_11:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->layoutGroups;
	if( r8 == NULL ) hl_null_access();
	r7 = openfl__Vector_ObjectVector_iterator(r8);
	r9 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r7);
	label$4cc5e74_10_17:
	if( r9 == NULL ) hl_null_access();
	if( hl_vfields(r9)[0] ) r10 = ((bool (*)(vdynamic*))hl_vfields(r9)[0])(r9->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r9->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r10 = (bool)ret.v.i;
	}
	if( !r10 ) goto label$4cc5e74_10_28;
	if( hl_vfields(r9)[1] ) r11 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r9)[1])(r9->value); else {
		r11 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r9->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r11 == NULL ) hl_null_access();
	r3 = r11->lineIndex;
	if( r3 != r1 ) goto label$4cc5e74_10_27;
	r3 = r11->startIndex;
	return r3;
	label$4cc5e74_10_27:
	goto label$4cc5e74_10_17;
	label$4cc5e74_10_28:
	r3 = 0;
	return r3;
}

String openfl_text_TextField_getLineText(openfl__text__TextField r0,int r1) {
	String r7;
	vvirtual *r8, *r10;
	openfl__text___internal__TextLayoutGroup r12;
	bool r11;
	openfl__text___internal__TextEngine r5;
	vdynamic *r15;
	openfl___Vector__ObjectVector r9;
	int r3, r4, r6, r13, r14;
	openfl_text_TextField___updateLayout(r0);
	r4 = 0;
	if( r1 < r4 ) goto label$4cc5e74_11_9;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r4 >= r1 ) goto label$4cc5e74_11_11;
	label$4cc5e74_11_9:
	r7 = NULL;
	return r7;
	label$4cc5e74_11_11:
	r3 = -1;
	r4 = -1;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->layoutGroups;
	if( r9 == NULL ) hl_null_access();
	r8 = openfl__Vector_ObjectVector_iterator(r9);
	r10 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r8);
	label$4cc5e74_11_19:
	if( r10 == NULL ) hl_null_access();
	if( hl_vfields(r10)[0] ) r11 = ((bool (*)(vdynamic*))hl_vfields(r10)[0])(r10->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r10->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r11 = (bool)ret.v.i;
	}
	if( !r11 ) goto label$4cc5e74_11_40;
	if( hl_vfields(r10)[1] ) r12 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r10)[1])(r10->value); else {
		r12 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r10->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r12 == NULL ) hl_null_access();
	r6 = r12->lineIndex;
	if( r6 != r1 ) goto label$4cc5e74_11_32;
	r13 = -1;
	if( r3 != r13 ) goto label$4cc5e74_11_31;
	r6 = r12->startIndex;
	r3 = r6;
	label$4cc5e74_11_31:
	goto label$4cc5e74_11_39;
	label$4cc5e74_11_32:
	r6 = r12->lineIndex;
	r14 = 1;
	r13 = r1 + r14;
	if( r6 != r13 ) goto label$4cc5e74_11_39;
	r6 = r12->startIndex;
	r4 = r6;
	goto label$4cc5e74_11_40;
	label$4cc5e74_11_39:
	goto label$4cc5e74_11_19;
	label$4cc5e74_11_40:
	r13 = -1;
	if( r4 != r13 ) goto label$4cc5e74_11_46;
	r7 = r0->__text;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->length;
	r4 = r6;
	label$4cc5e74_11_46:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r7 = r5->text;
	if( r7 == NULL ) hl_null_access();
	r15 = hl_alloc_dynamic(&t$_i32);
	r15->v.i = r4;
	r7 = String_substring(r7,r3,r15);
	return r7;
}

int openfl_text_TextField_getParagraphLength(openfl__text__TextField r0,int r1) {
	String r4;
	openfl__text___internal__TextEngine r6;
	int *r7;
	int r2, r3, r5, r8, r9;
	r3 = 0;
	if( r1 < r3 ) goto label$4cc5e74_12_6;
	r4 = openfl_text_TextField_get_text(r0);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	if( r3 >= r1 ) goto label$4cc5e74_12_8;
	label$4cc5e74_12_6:
	r2 = -1;
	return r2;
	label$4cc5e74_12_8:
	r2 = openfl_text_TextField_getFirstCharInParagraph(r0,r1);
	r4 = openfl_text_TextField_get_text(r0);
	if( r4 == NULL ) hl_null_access();
	r5 = r4->length;
	if( r1 < r5 ) goto label$4cc5e74_12_20;
	r4 = openfl_text_TextField_get_text(r0);
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	r3 = r3 - r2;
	r5 = 1;
	r3 = r3 + r5;
	return r3;
	label$4cc5e74_12_20:
	r6 = r0->__textEngine;
	if( r6 == NULL ) hl_null_access();
	r3 = r1;
	r7 = &r3;
	r3 = openfl_text__internal_TextEngine_getLineBreakIndex(r6,r7);
	r5 = 1;
	r3 = r3 + r5;
	r5 = r3;
	r9 = 0;
	if( r3 != r9 ) goto label$4cc5e74_12_34;
	r4 = r0->__text;
	if( r4 == NULL ) hl_null_access();
	r8 = r4->length;
	r5 = r8;
	label$4cc5e74_12_34:
	r8 = r5 - r2;
	return r8;
}

openfl__text__TextFormat openfl_text_TextField_getTextFormat(openfl__text__TextField r0,int* r1,int* r2) {
	String r9, r17, r18;
	openfl__text__TextFormat r5, r11;
	vvirtual *r24, *r27;
	bool r28;
	openfl__text___internal__TextFormatRange r29;
	hl__types__ArrayBytes_Int r32, r33;
	openfl__text___internal__TextEngine r26;
	vdynamic *r12, *r13, *r14, *r15, *r16, *r19, *r20, *r21, *r22, *r23, *r30, *r31;
	openfl__errors__RangeError r10;
	openfl___Vector__ObjectVector r25;
	int r3, r4, r7, r8;
	if( r1 ) goto label$4cc5e74_13_3;
	r3 = -1;
	goto label$4cc5e74_13_4;
	label$4cc5e74_13_3:
	r3 = *r1;
	label$4cc5e74_13_4:
	if( r2 ) goto label$4cc5e74_13_7;
	r4 = -1;
	goto label$4cc5e74_13_8;
	label$4cc5e74_13_7:
	r4 = *r2;
	label$4cc5e74_13_8:
	r5 = NULL;
	r9 = openfl_text_TextField_get_text(r0);
	if( r9 == NULL ) hl_null_access();
	r8 = r9->length;
	if( r3 >= r8 ) goto label$4cc5e74_13_21;
	r8 = -1;
	if( r3 < r8 ) goto label$4cc5e74_13_21;
	r9 = openfl_text_TextField_get_text(r0);
	if( r9 == NULL ) hl_null_access();
	r8 = r9->length;
	if( r8 < r4 ) goto label$4cc5e74_13_21;
	r8 = -1;
	if( r4 >= r8 ) goto label$4cc5e74_13_25;
	label$4cc5e74_13_21:
	r10 = (openfl__errors__RangeError)hl_alloc_obj(&t$openfl_errors_RangeError);
	r9 = (String)s$de55400;
	openfl_errors_RangeError_new(r10,r9);
	hl_throw((vdynamic*)r10);
	label$4cc5e74_13_25:
	r8 = -1;
	if( r3 != r8 ) goto label$4cc5e74_13_29;
	r7 = 0;
	r3 = r7;
	label$4cc5e74_13_29:
	r8 = -1;
	if( r4 != r8 ) goto label$4cc5e74_13_35;
	r9 = openfl_text_TextField_get_text(r0);
	if( r9 == NULL ) hl_null_access();
	r7 = r9->length;
	r4 = r7;
	label$4cc5e74_13_35:
	if( r3 < r4 ) goto label$4cc5e74_13_52;
	r11 = (openfl__text__TextFormat)hl_alloc_obj(&t$openfl_text_TextFormat);
	r9 = NULL;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	r18 = NULL;
	r19 = NULL;
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = NULL;
	openfl_text_TextFormat_new(r11,r9,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23);
	return r11;
	label$4cc5e74_13_52:
	r26 = r0->__textEngine;
	if( r26 == NULL ) hl_null_access();
	r25 = r26->textFormatRanges;
	if( r25 == NULL ) hl_null_access();
	r24 = openfl__Vector_ObjectVector_iterator(r25);
	r27 = hl_to_virtual(&t$vrt_3115162,(vdynamic*)r24);
	label$4cc5e74_13_58:
	if( r27 == NULL ) hl_null_access();
	if( hl_vfields(r27)[0] ) r28 = ((bool (*)(vdynamic*))hl_vfields(r27)[0])(r27->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r27->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r28 = (bool)ret.v.i;
	}
	if( !r28 ) goto label$4cc5e74_13_206;
	if( hl_vfields(r27)[1] ) r29 = ((openfl__text___internal__TextFormatRange (*)(vdynamic*))hl_vfields(r27)[1])(r27->value); else {
		r29 = (openfl__text___internal__TextFormatRange)hl_dyn_call_obj(r27->value,&t$fun_2aa4e03,151160317/*next*/,NULL,NULL);
	}
	if( r29 == NULL ) hl_null_access();
	r7 = r29->start;
	if( r3 < r7 ) goto label$4cc5e74_13_68;
	r7 = r29->end;
	if( r3 < r7 ) goto label$4cc5e74_13_72;
	label$4cc5e74_13_68:
	r7 = r29->start;
	if( r7 >= r4 ) goto label$4cc5e74_13_205;
	r7 = r29->end;
	if( r7 < r4 ) goto label$4cc5e74_13_205;
	label$4cc5e74_13_72:
	if( r5 ) goto label$4cc5e74_13_78;
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r11 = openfl_text_TextFormat_clone(r11);
	r5 = r11;
	goto label$4cc5e74_13_205;
	label$4cc5e74_13_78:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r9 = r11->font;
	if( r5 == NULL ) hl_null_access();
	r17 = r5->font;
	if( r9 == r17 || (r9 && r17 && String___compare(r9,(vdynamic*)r17) == 0) ) goto label$4cc5e74_13_86;
	r9 = NULL;
	r5->font = r9;
	label$4cc5e74_13_86:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->size;
	r13 = r5->size;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_93;
	r12 = NULL;
	r5->size = r12;
	label$4cc5e74_13_93:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->color;
	r13 = r5->color;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_100;
	r12 = NULL;
	r5->color = r12;
	label$4cc5e74_13_100:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->bold;
	r15 = r5->bold;
	if( r14 == r15 || (r14 && r15 && (r14->v.b == r15->v.b)) ) goto label$4cc5e74_13_107;
	r14 = NULL;
	r5->bold = r14;
	label$4cc5e74_13_107:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->italic;
	r15 = r5->italic;
	if( r14 == r15 || (r14 && r15 && (r14->v.b == r15->v.b)) ) goto label$4cc5e74_13_114;
	r14 = NULL;
	r5->italic = r14;
	label$4cc5e74_13_114:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->underline;
	r15 = r5->underline;
	if( r14 == r15 || (r14 && r15 && (r14->v.b == r15->v.b)) ) goto label$4cc5e74_13_121;
	r14 = NULL;
	r5->underline = r14;
	label$4cc5e74_13_121:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r9 = r11->url;
	r17 = r5->url;
	if( r9 == r17 || (r9 && r17 && String___compare(r9,(vdynamic*)r17) == 0) ) goto label$4cc5e74_13_128;
	r9 = NULL;
	r5->url = r9;
	label$4cc5e74_13_128:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r9 = r11->target;
	r17 = r5->target;
	if( r9 == r17 || (r9 && r17 && String___compare(r9,(vdynamic*)r17) == 0) ) goto label$4cc5e74_13_135;
	r9 = NULL;
	r5->target = r9;
	label$4cc5e74_13_135:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->align;
	r13 = r5->align;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_142;
	r12 = NULL;
	r5->align = r12;
	label$4cc5e74_13_142:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->leftMargin;
	r13 = r5->leftMargin;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_149;
	r12 = NULL;
	r5->leftMargin = r12;
	label$4cc5e74_13_149:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->rightMargin;
	r13 = r5->rightMargin;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_156;
	r12 = NULL;
	r5->rightMargin = r12;
	label$4cc5e74_13_156:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->indent;
	r13 = r5->indent;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_163;
	r12 = NULL;
	r5->indent = r12;
	label$4cc5e74_13_163:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->leading;
	r13 = r5->leading;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_170;
	r12 = NULL;
	r5->leading = r12;
	label$4cc5e74_13_170:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r12 = r11->blockIndent;
	r13 = r5->blockIndent;
	if( r12 == r13 || (r12 && r13 && (r12->v.i == r13->v.i)) ) goto label$4cc5e74_13_177;
	r12 = NULL;
	r5->blockIndent = r12;
	label$4cc5e74_13_177:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->bullet;
	r15 = r5->bullet;
	if( r14 == r15 || (r14 && r15 && (r14->v.b == r15->v.b)) ) goto label$4cc5e74_13_184;
	r14 = NULL;
	r5->bullet = r14;
	label$4cc5e74_13_184:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r14 = r11->kerning;
	r15 = r5->kerning;
	if( r14 == r15 || (r14 && r15 && (r14->v.b == r15->v.b)) ) goto label$4cc5e74_13_191;
	r14 = NULL;
	r5->kerning = r14;
	label$4cc5e74_13_191:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r30 = r11->letterSpacing;
	r31 = r5->letterSpacing;
	if( r30 == r31 || (r30 && r31 && (r30->v.d == r31->v.d)) ) goto label$4cc5e74_13_198;
	r30 = NULL;
	r5->letterSpacing = r30;
	label$4cc5e74_13_198:
	r11 = r29->format;
	if( r11 == NULL ) hl_null_access();
	r32 = r11->tabStops;
	r33 = r5->tabStops;
	if( r32 == r33 ) goto label$4cc5e74_13_205;
	r32 = NULL;
	r5->tabStops = r32;
	label$4cc5e74_13_205:
	goto label$4cc5e74_13_58;
	label$4cc5e74_13_206:
	if( r5 ) goto label$4cc5e74_13_223;
	r11 = (openfl__text__TextFormat)hl_alloc_obj(&t$openfl_text_TextFormat);
	r9 = NULL;
	r12 = NULL;
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	r18 = NULL;
	r19 = NULL;
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = NULL;
	openfl_text_TextFormat_new(r11,r9,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21,r22,r23);
	r5 = r11;
	label$4cc5e74_13_223:
	return r5;
}

void openfl_text_TextField_replaceSelectedText(openfl__text__TextField r0,String r1) {
	bool *r4;
	bool r3;
	r3 = false;
	r4 = &r3;
	openfl_text_TextField___replaceSelectedText(r0,r1,r4);
	return;
}

void openfl_text_TextField_replaceText(openfl__text__TextField r0,int r1,int r2,String r3) {
	bool r5;
	r5 = false;
	openfl_text_TextField___replaceText(r0,r1,r2,r3,r5);
	return;
}

void openfl_text_TextField_setSelection(openfl__text__TextField r0,int r1,int r2) {
	openfl__display__InteractiveObject r5;
	openfl__display__Stage r4;
	r0->__selectionIndex = r1;
	r0->__caretIndex = r2;
	openfl_text_TextField___updateScrollV(r0);
	openfl_text_TextField___updateScrollH(r0);
	r4 = r0->stage;
	if( !r4 ) goto label$4cc5e74_16_12;
	r4 = r0->stage;
	if( r4 == NULL ) hl_null_access();
	r5 = openfl_display_Stage_get_focus(r4);
	if( r5 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_16_12;
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_16_12:
	return;
}

void openfl_text_TextField_setTextFormat(openfl__text__TextField r0,openfl__text__TextFormat r1,int* r2,int* r3) {
	String r7, r21;
	openfl__text__TextFormat r17;
	vvirtual *r20, *r22;
	bool r23;
	openfl__text___internal__TextFormatRange r15, r16, r19;
	openfl__text___internal__TextEngine r14;
	openfl__errors__RangeError r12;
	vdynamic *r11;
	openfl___Vector__ObjectVector r13;
	int r4, r5, r6, r9, r10, r18;
	if( r2 ) goto label$4cc5e74_17_3;
	r4 = -1;
	goto label$4cc5e74_17_4;
	label$4cc5e74_17_3:
	r4 = *r2;
	label$4cc5e74_17_4:
	if( r3 ) goto label$4cc5e74_17_7;
	r5 = -1;
	goto label$4cc5e74_17_8;
	label$4cc5e74_17_7:
	r5 = *r3;
	label$4cc5e74_17_8:
	r7 = openfl_text_TextField_get_text(r0);
	if( r7 == NULL ) hl_null_access();
	r6 = r7->length;
	r10 = -1;
	if( r4 != r10 ) goto label$4cc5e74_17_19;
	r10 = -1;
	if( r5 != r10 ) goto label$4cc5e74_17_16;
	r5 = r6;
	label$4cc5e74_17_16:
	r9 = 0;
	r4 = r9;
	goto label$4cc5e74_17_24;
	label$4cc5e74_17_19:
	r10 = -1;
	if( r5 != r10 ) goto label$4cc5e74_17_24;
	r10 = 1;
	r9 = r4 + r10;
	r5 = r9;
	label$4cc5e74_17_24:
	if( r4 != r5 ) goto label$4cc5e74_17_26;
	return;
	label$4cc5e74_17_26:
	r10 = 0;
	if( r4 < r10 ) goto label$4cc5e74_17_33;
	r10 = 0;
	if( r10 >= r5 ) goto label$4cc5e74_17_33;
	if( r5 < r4 ) goto label$4cc5e74_17_33;
	if( r4 >= r6 ) goto label$4cc5e74_17_33;
	if( r6 >= r5 ) goto label$4cc5e74_17_37;
	label$4cc5e74_17_33:
	r12 = (openfl__errors__RangeError)hl_alloc_obj(&t$openfl_errors_RangeError);
	r7 = NULL;
	openfl_errors_RangeError_new(r12,r7);
	hl_throw((vdynamic*)r12);
	label$4cc5e74_17_37:
	r10 = 0;
	if( r4 != r10 ) goto label$4cc5e74_17_61;
	if( r5 != r6 ) goto label$4cc5e74_17_61;
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r9 = 1;
	r9 = openfl__Vector_ObjectVector_set_length(r13,r9);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r9 = 0;
	r11 = openfl__Vector_ObjectVector_get(r13,r9);
	r16 = (openfl__text___internal__TextFormatRange)r11;
	if( r16 == NULL ) hl_null_access();
	r9 = 0;
	r16->start = r9;
	r16->end = r6;
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_61:
	r9 = 0;
	label$4cc5e74_17_62:
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r18 = openfl__Vector_ObjectVector_get_length(r13);
	if( r9 >= r18 ) goto label$4cc5e74_17_240;
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r11 = openfl__Vector_ObjectVector_get(r13,r9);
	r16 = (openfl__text___internal__TextFormatRange)r11;
	r15 = r16;
	if( r16 == NULL ) hl_null_access();
	r10 = r16->end;
	if( r4 < r10 ) goto label$4cc5e74_17_81;
	++r9;
	goto label$4cc5e74_17_239;
	label$4cc5e74_17_81:
	r10 = r16->start;
	if( r10 < r5 ) goto label$4cc5e74_17_84;
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_84:
	r10 = r16->start;
	if( r4 < r10 ) goto label$4cc5e74_17_173;
	r10 = r16->end;
	if( r10 < r5 ) goto label$4cc5e74_17_173;
	r10 = r16->start;
	if( r10 != r4 ) goto label$4cc5e74_17_100;
	r10 = r16->end;
	if( r10 != r5 ) goto label$4cc5e74_17_100;
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	r16->format = r17;
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_100:
	r10 = r16->start;
	if( r10 != r4 ) goto label$4cc5e74_17_121;
	r19 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	openfl_text__internal_TextFormatRange_new(r19,r17,r4,r5);
	r17 = r19->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	openfl__Vector_ObjectVector_insertAt(r13,r9,((vdynamic*)r19));
	if( r15 == NULL ) hl_null_access();
	r15->start = r5;
	r18 = 2;
	r10 = r9 + r18;
	r9 = r10;
	goto label$4cc5e74_17_172;
	label$4cc5e74_17_121:
	r10 = r16->end;
	if( r10 != r5 ) goto label$4cc5e74_17_141;
	r19 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	openfl_text__internal_TextFormatRange_new(r19,r17,r4,r5);
	r17 = r19->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r18 = 1;
	r10 = r9 + r18;
	openfl__Vector_ObjectVector_insertAt(r13,r10,((vdynamic*)r19));
	if( r15 == NULL ) hl_null_access();
	r15->end = r4;
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_141:
	r19 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	openfl_text__internal_TextFormatRange_new(r19,r17,r4,r5);
	r17 = r19->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r18 = 1;
	r10 = r9 + r18;
	openfl__Vector_ObjectVector_insertAt(r13,r10,((vdynamic*)r19));
	r19 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r15 == NULL ) hl_null_access();
	r17 = r15->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	r18 = r15->end;
	openfl_text__internal_TextFormatRange_new(r19,r17,r5,r18);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r18 = 2;
	r10 = r9 + r18;
	openfl__Vector_ObjectVector_insertAt(r13,r10,((vdynamic*)r19));
	r15->end = r4;
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_172:
	goto label$4cc5e74_17_239;
	label$4cc5e74_17_173:
	r10 = r16->start;
	if( r10 < r4 ) goto label$4cc5e74_17_195;
	r10 = r16->end;
	if( r5 < r10 ) goto label$4cc5e74_17_195;
	r10 = r16->start;
	if( r10 != r4 ) goto label$4cc5e74_17_188;
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	r16->format = r17;
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	r16->end = r5;
	goto label$4cc5e74_17_194;
	label$4cc5e74_17_188:
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r11 = openfl__Vector_ObjectVector_removeAt(r13,r9);
	r19 = (openfl__text___internal__TextFormatRange)r11;
	label$4cc5e74_17_194:
	goto label$4cc5e74_17_239;
	label$4cc5e74_17_195:
	r10 = r16->start;
	if( r4 >= r10 ) goto label$4cc5e74_17_201;
	r10 = r16->end;
	if( r4 >= r10 ) goto label$4cc5e74_17_201;
	r16->start = r5;
	goto label$4cc5e74_17_240;
	label$4cc5e74_17_201:
	r10 = r16->start;
	if( r10 >= r4 ) goto label$4cc5e74_17_226;
	r10 = r16->end;
	if( r5 < r10 ) goto label$4cc5e74_17_226;
	r19 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r17 = r16->format;
	if( r17 == NULL ) hl_null_access();
	r17 = openfl_text_TextFormat_clone(r17);
	openfl_text__internal_TextFormatRange_new(r19,r17,r4,r5);
	r17 = r19->format;
	if( r17 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r17,r1);
	r14 = r0->__textEngine;
	if( r14 == NULL ) hl_null_access();
	r13 = r14->textFormatRanges;
	if( r13 == NULL ) hl_null_access();
	r18 = 1;
	r10 = r9 + r18;
	openfl__Vector_ObjectVector_insertAt(r13,r10,((vdynamic*)r19));
	if( r15 == NULL ) hl_null_access();
	r15->end = r4;
	r18 = 2;
	r10 = r9 + r18;
	r9 = r10;
	goto label$4cc5e74_17_239;
	label$4cc5e74_17_226:
	++r9;
	r7 = (String)s$7847f28;
	r20 = hl_alloc_virtual(&t$vrt_329ffa8);
	r21 = (String)s$openfl_text_TextField_hx;
	if( hl_vfields(r20)[1] ) *(String*)(hl_vfields(r20)[1]) = (String)r21; else hl_dyn_setp(r20->value,37969014/*fileName*/,&t$String,r21);
	r10 = 1564;
	if( hl_vfields(r20)[2] ) *(int*)(hl_vfields(r20)[2]) = (int)r10; else hl_dyn_seti(r20->value,371360620/*lineNumber*/,&t$_i32,r10);
	r21 = (String)s$openfl_text_TextField;
	if( hl_vfields(r20)[0] ) *(String*)(hl_vfields(r20)[0]) = (String)r21; else hl_dyn_setp(r20->value,-63073762/*className*/,&t$String,r21);
	r21 = (String)s$setTextFormat;
	if( hl_vfields(r20)[3] ) *(String*)(hl_vfields(r20)[3]) = (String)r21; else hl_dyn_setp(r20->value,302979532/*methodName*/,&t$String,r21);
	r22 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r20);
	lime_utils_Log_warn(((vdynamic*)r7),r22);
	label$4cc5e74_17_239:
	goto label$4cc5e74_17_62;
	label$4cc5e74_17_240:
	r23 = true;
	r0->__dirty = r23;
	r23 = true;
	r0->__layoutDirty = r23;
	r23 = r0->__renderDirty;
	if( r23 ) goto label$4cc5e74_17_249;
	r23 = true;
	r0->__renderDirty = r23;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_17_249:
	return;
}

bool openfl_text_TextField___allowMouseFocus(openfl__text__TextField r0) {
	bool r1;
	r1 = r0->mouseEnabled;
	return r1;
}

void openfl_text_TextField___caretBeginningOfLine(openfl__text__TextField r0) {
	int r1;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r1 = openfl_text_TextField_getLineOffset(r0,r1);
	r0->__caretIndex = r1;
	return;
}

void openfl_text_TextField___caretBeginningOfNextLine(openfl__text__TextField r0) {
	String r7;
	openfl__text___internal__TextEngine r5;
	int r1, r3, r4, r6;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r1 >= r4 ) goto label$4cc5e74_20_13;
	r4 = 1;
	r3 = r1 + r4;
	r3 = openfl_text_TextField_getLineOffset(r0,r3);
	r0->__caretIndex = r3;
	goto label$4cc5e74_20_17;
	label$4cc5e74_20_13:
	r7 = r0->__text;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->length;
	r0->__caretIndex = r3;
	label$4cc5e74_20_17:
	return;
}

void openfl_text_TextField___caretBeginningOfPreviousLine(openfl__text__TextField r0) {
	int r1, r3, r4, r5;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r4 = 0;
	if( r4 >= r1 ) goto label$4cc5e74_21_15;
	r3 = r0->__caretIndex;
	r3 = openfl_text_TextField_getLineIndexOfChar(r0,r3);
	r3 = openfl_text_TextField_getLineOffset(r0,r3);
	r4 = r0->__caretIndex;
	if( r4 != r3 ) goto label$4cc5e74_21_14;
	r5 = 1;
	r4 = r1 - r5;
	r4 = openfl_text_TextField_getLineOffset(r0,r4);
	r0->__caretIndex = r4;
	goto label$4cc5e74_21_15;
	label$4cc5e74_21_14:
	r0->__caretIndex = r3;
	label$4cc5e74_21_15:
	return;
}

void openfl_text_TextField___caretEndOfLine(openfl__text__TextField r0) {
	String r7;
	openfl__text___internal__TextEngine r5;
	int r1, r3, r4, r6;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r1 >= r4 ) goto label$4cc5e74_22_15;
	r4 = 1;
	r3 = r1 + r4;
	r3 = openfl_text_TextField_getLineOffset(r0,r3);
	r4 = 1;
	r3 = r3 - r4;
	r0->__caretIndex = r3;
	goto label$4cc5e74_22_19;
	label$4cc5e74_22_15:
	r7 = r0->__text;
	if( r7 == NULL ) hl_null_access();
	r3 = r7->length;
	r0->__caretIndex = r3;
	label$4cc5e74_22_19:
	return;
}

void openfl_text_TextField___caretNextCharacter(openfl__text__TextField r0) {
	String r4;
	int r2, r3;
	r2 = r0->__caretIndex;
	r4 = r0->__text;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->length;
	if( r2 >= r3 ) goto label$4cc5e74_23_8;
	r2 = r0->__caretIndex;
	++r2;
	r0->__caretIndex = r2;
	label$4cc5e74_23_8:
	return;
}

void openfl_text_TextField___caretNextLine(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r5;
	int r1, r3, r4, r6;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->numLines;
	r6 = 1;
	r4 = r4 - r6;
	if( r1 >= r4 ) goto label$4cc5e74_24_13;
	r3 = openfl_text_TextField_get_caretIndex(r0);
	r6 = 1;
	r4 = r1 + r6;
	r3 = openfl_text_TextField___getCharIndexOnDifferentLine(r0,r3,r4);
	r0->__caretIndex = r3;
	label$4cc5e74_24_13:
	return;
}

void openfl_text_TextField___caretPreviousCharacter(openfl__text__TextField r0) {
	int r2, r3;
	r2 = r0->__caretIndex;
	r3 = 0;
	if( r3 >= r2 ) goto label$4cc5e74_25_6;
	r2 = r0->__caretIndex;
	--r2;
	r0->__caretIndex = r2;
	label$4cc5e74_25_6:
	return;
}

void openfl_text_TextField___caretPreviousLine(openfl__text__TextField r0) {
	int r1, r3, r4, r5;
	r1 = r0->__caretIndex;
	r1 = openfl_text_TextField_getLineIndexOfChar(r0,r1);
	r4 = 0;
	if( r4 >= r1 ) goto label$4cc5e74_26_9;
	r3 = openfl_text_TextField_get_caretIndex(r0);
	r5 = 1;
	r4 = r1 - r5;
	r3 = openfl_text_TextField___getCharIndexOnDifferentLine(r0,r3,r4);
	r0->__caretIndex = r3;
	label$4cc5e74_26_9:
	return;
}

void openfl_text_TextField___disableInput(openfl__text__TextField r0) {
	lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void r8;
	lime__ui__Window r5;
	bool r2;
	openfl__display__Stage r3;
	lime__app___Event_String_Void r6;
	lime___internal__backend__native__NativeWindow r4;
	vclosure *r7, *r9;
	r2 = r0->__inputEnabled;
	if( !r2 ) goto label$4cc5e74_27_31;
	r3 = r0->stage;
	if( !r3 ) goto label$4cc5e74_27_31;
	r3 = r0->stage;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->window;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->__backend;
	if( r4 == NULL ) hl_null_access();
	r2 = false;
	r2 = lime__internal_backend_native_NativeWindow_setTextInputEnabled(r4,r2);
	r3 = r0->stage;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->window;
	if( r5 == NULL ) hl_null_access();
	r6 = r5->onTextInput;
	if( r6 == NULL ) hl_null_access();
	r7 = hl_alloc_closure_ptr(&t$fun_d543747,openfl_text_TextField_window_onTextInput,r0);
	lime_app__Event_String_Void_remove(r6,((vdynamic*)r7));
	r3 = r0->stage;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->window;
	if( r5 == NULL ) hl_null_access();
	r8 = r5->onKeyDown;
	if( r8 == NULL ) hl_null_access();
	r9 = hl_alloc_closure_ptr(&t$fun_4532c0e,openfl_text_TextField_window_onKeyDown,r0);
	lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_remove(r8,((vdynamic*)r9));
	r2 = false;
	r0->__inputEnabled = r2;
	openfl_text_TextField___stopCursorTimer(r0);
	label$4cc5e74_27_31:
	return;
}

bool openfl_text_TextField___dispatch(openfl__text__TextField r0,openfl__events__Event r1) {
	bool *r12, *r18;
	String r5, r6, r14;
	openfl__text__TextFormat r13;
	bool r11, r15, r17, r21;
	openfl__text___internal__TextLayoutGroup r8;
	openfl__events__MouseEvent r7;
	openfl__events__TextEvent r16;
	openfl__net__URLRequest r20;
	double r9, r10;
	vdynamic *r19;
	int r3, r4;
	if( r1 == NULL ) hl_null_access();
	r3 = r1->eventPhase;
	r4 = 2;
	if( r3 != r4 ) goto label$4cc5e74_28_41;
	r5 = r1->type;
	r6 = (String)s$mouseUp;
	if( r5 != r6 && (!r5 || !r6 || String___compare(r5,(vdynamic*)r6) != 0) ) goto label$4cc5e74_28_41;
	r7 = (openfl__events__MouseEvent)hl_dyn_castp(&r1,&t$openfl_events_Event,&t$openfl_events_MouseEvent);
	r9 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r10 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r11 = true;
	r12 = &r11;
	r8 = openfl_text_TextField___getGroup(r0,r9,r10,r12);
	if( !r8 ) goto label$4cc5e74_28_41;
	if( r8 == NULL ) hl_null_access();
	r13 = r8->format;
	if( r13 == NULL ) hl_null_access();
	r5 = r13->url;
	if( !r5 ) goto label$4cc5e74_28_41;
	r14 = (String)s$;
	if( r5 == r14 || (r5 && r14 && String___compare(r5,(vdynamic*)r14) == 0) ) goto label$4cc5e74_28_41;
	r14 = (String)s$event_;
	r15 = StringTools_startsWith(r5,r14);
	if( !r15 ) goto label$4cc5e74_28_37;
	r16 = (openfl__events__TextEvent)hl_alloc_obj(&t$openfl_events_TextEvent);
	r6 = (String)s$link;
	r15 = true;
	r12 = &r15;
	r17 = false;
	r18 = &r17;
	if( r5 == NULL ) hl_null_access();
	r3 = 6;
	r19 = NULL;
	r14 = String_substr(r5,r3,r19);
	openfl_events_TextEvent_new(r16,r6,r12,r18,r14);
	r15 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),((openfl__events__Event)r16));
	goto label$4cc5e74_28_41;
	label$4cc5e74_28_37:
	r20 = (openfl__net__URLRequest)hl_alloc_obj(&t$openfl_net_URLRequest);
	openfl_net_URLRequest_new(r20,r5);
	r6 = NULL;
	openfl_Lib_getURL(r20,r6);
	label$4cc5e74_28_41:
	r21 = openfl_display_DisplayObject___dispatch(((openfl__display__DisplayObject)r0),r1);
	return r21;
}

void openfl_text_TextField___enableInput(openfl__text__TextField r0) {
	bool *r19;
	lime__app___Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void r21;
	openfl__geom__Rectangle r3;
	bool r15;
	lime__ui__Window r14;
	openfl__display__Stage r2;
	lime__app___Event_String_Void r17;
	lime___internal__backend__native__NativeWindow r16;
	vclosure *r18, *r22;
	double r5, r7, r9, r11;
	lime__math__Rectangle r4, r13;
	int *r20;
	double *r6, *r8, *r10, *r12;
	r2 = r0->stage;
	if( !r2 ) goto label$4cc5e74_29_70;
	r2 = r0->stage;
	r3 = openfl_display_DisplayObject_getBounds(((openfl__display__DisplayObject)r0),((openfl__display__DisplayObject)r2));
	r4 = (lime__math__Rectangle)hl_alloc_obj(&t$lime_math_Rectangle);
	if( r3 == NULL ) hl_null_access();
	r5 = r3->x;
	r6 = &r5;
	r7 = r3->y;
	r8 = &r7;
	r9 = r3->width;
	r10 = &r9;
	r11 = r3->height;
	r12 = &r11;
	lime_math_Rectangle_new(r4,r6,r8,r10,r12);
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r13 = lime_ui_Window_setTextInputRect(r14,r4);
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->__backend;
	if( r16 == NULL ) hl_null_access();
	r15 = true;
	r15 = lime__internal_backend_native_NativeWindow_setTextInputEnabled(r16,r15);
	r15 = r0->__inputEnabled;
	if( r15 ) goto label$4cc5e74_29_70;
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r16 = r14->__backend;
	if( r16 == NULL ) hl_null_access();
	r15 = true;
	r15 = lime__internal_backend_native_NativeWindow_setTextInputEnabled(r16,r15);
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r17 = r14->onTextInput;
	if( r17 == NULL ) hl_null_access();
	r18 = hl_alloc_closure_ptr(&t$fun_d543747,openfl_text_TextField_window_onTextInput,r0);
	r15 = lime_app__Event_String_Void_has(r17,((vdynamic*)r18));
	if( r15 ) goto label$4cc5e74_29_67;
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r17 = r14->onTextInput;
	if( r17 == NULL ) hl_null_access();
	r18 = hl_alloc_closure_ptr(&t$fun_d543747,openfl_text_TextField_window_onTextInput,r0);
	r19 = NULL;
	r20 = NULL;
	lime_app__Event_String_Void_add(r17,((vdynamic*)r18),r19,r20);
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r14 = r2->window;
	if( r14 == NULL ) hl_null_access();
	r21 = r14->onKeyDown;
	if( r21 == NULL ) hl_null_access();
	r22 = hl_alloc_closure_ptr(&t$fun_4532c0e,openfl_text_TextField_window_onKeyDown,r0);
	r19 = NULL;
	r20 = NULL;
	lime_app__Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void_add(r21,((vdynamic*)r22),r19,r20);
	label$4cc5e74_29_67:
	r15 = true;
	r0->__inputEnabled = r15;
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_29_70:
	return;
}

double openfl_text_TextField___getAdvance(openfl__text__TextField r0,vvirtual* r1) {
	vvirtual *r3;
	double r2;
	if( r1 == NULL ) hl_null_access();
	r3 = hl_vfields(r1)[0] ? (*(vvirtual**)(hl_vfields(r1)[0])) : (vvirtual*)hl_dyn_getp(r1->value,-284424062/*advance*/,&t$vrt_29ddde5);
	if( r3 == NULL ) hl_null_access();
	r2 = hl_vfields(r3)[0] ? (*(double*)(hl_vfields(r3)[0])) : (double)hl_dyn_getd(r3->value,120/*x*/);
	return r2;
}

void openfl_text_TextField___getBounds(openfl__text__TextField r0,openfl__geom__Rectangle r1,openfl__geom__Matrix r2) {
	openfl__geom__Rectangle r7, r8;
	openfl__geom__$Rectangle r6;
	openfl__text___internal__TextEngine r9;
	double r10, r11, r12, r13;
	lime__utils__ObjectPool r5;
	vdynamic *r4;
	openfl_text_TextField___updateLayout(r0);
	r6 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r5 = r6->__pool;
	if( r5 == NULL ) hl_null_access();
	r4 = lime_utils_ObjectPool_get(r5);
	r7 = (openfl__geom__Rectangle)r4;
	if( r7 == NULL ) hl_null_access();
	r9 = r0->__textEngine;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->bounds;
	openfl_geom_Rectangle_copyFrom(r7,r8);
	r10 = r0->__offsetX;
	r11 = r0->__offsetY;
	openfl_geom_Rectangle_offset(r7,r10,r11);
	openfl_geom_Rectangle___transform(r7,r7,r2);
	if( r1 == NULL ) hl_null_access();
	r10 = r7->x;
	r11 = r7->y;
	r12 = r7->width;
	r13 = r7->height;
	openfl_geom_Rectangle___expand(r1,r10,r11,r12,r13);
	r6 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r5 = r6->__pool;
	if( r5 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r5,((vdynamic*)r7));
	return;
}

bool openfl_text_TextField___getCharBoundaries(openfl__text__TextField r0,int r1,openfl__geom__Rectangle r2) {
	String r6;
	hl__types__ArrayObj r19;
	vvirtual *r10, *r13;
	lime__math__Vector2 r20;
	openfl__text___internal__TextLayoutGroup r14;
	bool r8;
	openfl__text___internal__GlyphPosition r21;
	openfl__text___internal__TextEngine r12;
	double r15, r16, r17, r23, r24, r25;
	vdynamic *r9, *r26;
	varray *r22;
	openfl___Vector__ObjectVector r11;
	int r4, r5, r7, r18;
	hl_trap_ctx trap$0;
	r5 = 0;
	if( r1 < r5 ) goto label$4cc5e74_32_8;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	r7 = 1;
	r5 = r5 - r7;
	if( r5 >= r1 ) goto label$4cc5e74_32_10;
	label$4cc5e74_32_8:
	r8 = false;
	return r8;
	label$4cc5e74_32_10:
	openfl_text_TextField___updateLayout(r0);
	r12 = r0->__textEngine;
	if( r12 == NULL ) hl_null_access();
	r11 = r12->layoutGroups;
	if( r11 == NULL ) hl_null_access();
	r10 = openfl__Vector_ObjectVector_iterator(r11);
	r13 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r10);
	label$4cc5e74_32_17:
	if( r13 == NULL ) hl_null_access();
	if( hl_vfields(r13)[0] ) r8 = ((bool (*)(vdynamic*))hl_vfields(r13)[0])(r13->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r13->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r8 = (bool)ret.v.i;
	}
	if( !r8 ) goto label$4cc5e74_32_97;
	if( hl_vfields(r13)[1] ) r14 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r13)[1])(r13->value); else {
		r14 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r13->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r14 == NULL ) hl_null_access();
	r5 = r14->startIndex;
	if( r1 < r5 ) goto label$4cc5e74_32_96;
	r5 = r14->endIndex;
	if( r1 >= r5 ) goto label$4cc5e74_32_96;
	hl_trap(trap$0,r9,label$4cc5e74_32_95);
	r15 = r14->offsetX;
	r4 = 0;
	r7 = r14->startIndex;
	r5 = r1 - r7;
	label$4cc5e74_32_32:
	if( r4 >= r5 ) goto label$4cc5e74_32_61;
	r7 = r4;
	++r4;
	r18 = 0;
	if( r7 < r18 ) goto label$4cc5e74_32_57;
	if( r14 == NULL ) hl_null_access();
	r19 = r14->positions;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->length;
	if( r7 >= r18 ) goto label$4cc5e74_32_57;
	r19 = r14->positions;
	if( r19 == NULL ) hl_null_access();
	r18 = r19->length;
	if( ((unsigned)r7) < ((unsigned)r18) ) goto label$4cc5e74_32_49;
	r21 = NULL;
	goto label$4cc5e74_32_52;
	label$4cc5e74_32_49:
	r22 = r19->array;
	r9 = ((vdynamic**)(r22 + 1))[r7];
	r21 = (openfl__text___internal__GlyphPosition)r9;
	label$4cc5e74_32_52:
	if( r21 == NULL ) hl_null_access();
	r20 = r21->advance;
	if( r20 == NULL ) hl_null_access();
	r17 = r20->x;
	goto label$4cc5e74_32_58;
	label$4cc5e74_32_57:
	r17 = 0.;
	label$4cc5e74_32_58:
	r16 = r15 + r17;
	r15 = r16;
	goto label$4cc5e74_32_32;
	label$4cc5e74_32_61:
	if( r14 == NULL ) hl_null_access();
	r5 = r14->startIndex;
	r4 = r1 - r5;
	r7 = 0;
	if( r4 < r7 ) goto label$4cc5e74_32_84;
	r19 = r14->positions;
	if( r19 == NULL ) hl_null_access();
	r7 = r19->length;
	if( r4 >= r7 ) goto label$4cc5e74_32_84;
	r19 = r14->positions;
	if( r19 == NULL ) hl_null_access();
	r7 = r19->length;
	if( ((unsigned)r4) < ((unsigned)r7) ) goto label$4cc5e74_32_76;
	r21 = NULL;
	goto label$4cc5e74_32_79;
	label$4cc5e74_32_76:
	r22 = r19->array;
	r9 = ((vdynamic**)(r22 + 1))[r4];
	r21 = (openfl__text___internal__GlyphPosition)r9;
	label$4cc5e74_32_79:
	if( r21 == NULL ) hl_null_access();
	r20 = r21->advance;
	if( r20 == NULL ) hl_null_access();
	r16 = r20->x;
	goto label$4cc5e74_32_85;
	label$4cc5e74_32_84:
	r16 = 0.;
	label$4cc5e74_32_85:
	if( r2 == NULL ) hl_null_access();
	r23 = r14->offsetY;
	r24 = r14->ascent;
	r25 = r14->descent;
	r24 = r24 + r25;
	openfl_geom_Rectangle_setTo(r2,r15,r23,r16,r24);
	r8 = true;
	hl_endtrap(trap$0);
	return r8;
	hl_endtrap(trap$0);
	label$4cc5e74_32_95:
	r26 = NULL;
	label$4cc5e74_32_96:
	goto label$4cc5e74_32_17;
	label$4cc5e74_32_97:
	r8 = false;
	return r8;
}

int openfl_text_TextField___getCharIndexOnDifferentLine(openfl__text__TextField r0,int r1,int r2) {
	String r5;
	hl__types__ArrayObj r20;
	vvirtual *r11, *r13;
	lime__math__Vector2 r21;
	openfl__text___internal__TextLayoutGroup r15;
	bool r14;
	openfl__text___internal__GlyphPosition r22;
	openfl___Vector__FloatVector r25;
	openfl__text___internal__TextEngine r7;
	double r16, r18, r24;
	vdynamic *r6, *r9, *r10, *r17;
	varray *r23;
	openfl___Vector__ObjectVector r12;
	int r3, r4, r8, r19;
	r4 = 0;
	if( r1 < r4 ) goto label$4cc5e74_33_6;
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->length;
	if( r4 >= r1 ) goto label$4cc5e74_33_8;
	label$4cc5e74_33_6:
	r3 = -1;
	return r3;
	label$4cc5e74_33_8:
	r4 = 0;
	if( r2 < r4 ) goto label$4cc5e74_33_16;
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r4 = r7->numLines;
	r8 = 1;
	r4 = r4 - r8;
	if( r4 >= r2 ) goto label$4cc5e74_33_18;
	label$4cc5e74_33_16:
	r3 = -1;
	return r3;
	label$4cc5e74_33_18:
	r9 = NULL;
	r10 = NULL;
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r12 = r7->layoutGroups;
	if( r12 == NULL ) hl_null_access();
	r11 = openfl__Vector_ObjectVector_iterator(r12);
	r13 = hl_to_virtual(&t$vrt_00ab96d,(vdynamic*)r11);
	label$4cc5e74_33_26:
	if( r13 == NULL ) hl_null_access();
	if( hl_vfields(r13)[0] ) r14 = ((bool (*)(vdynamic*))hl_vfields(r13)[0])(r13->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r13->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r14 = (bool)ret.v.i;
	}
	if( !r14 ) goto label$4cc5e74_33_112;
	if( hl_vfields(r13)[1] ) r15 = ((openfl__text___internal__TextLayoutGroup (*)(vdynamic*))hl_vfields(r13)[1])(r13->value); else {
		r15 = (openfl__text___internal__TextLayoutGroup)hl_dyn_call_obj(r13->value,&t$fun_9e82396,151160317/*next*/,NULL,NULL);
	}
	if( r15 == NULL ) hl_null_access();
	r4 = r15->startIndex;
	if( r1 < r4 ) goto label$4cc5e74_33_78;
	r4 = r15->endIndex;
	if( r4 < r1 ) goto label$4cc5e74_33_78;
	r16 = r15->offsetX;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r16;
	r9 = r17;
	r3 = 0;
	r8 = r15->startIndex;
	r4 = r1 - r8;
	label$4cc5e74_33_42:
	if( r3 >= r4 ) goto label$4cc5e74_33_73;
	r8 = r3;
	++r3;
	r16 = r9 ? r9->v.d : 0;
	r19 = 0;
	if( r8 < r19 ) goto label$4cc5e74_33_68;
	if( r15 == NULL ) hl_null_access();
	r20 = r15->positions;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->length;
	if( r8 >= r19 ) goto label$4cc5e74_33_68;
	r20 = r15->positions;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->length;
	if( ((unsigned)r8) < ((unsigned)r19) ) goto label$4cc5e74_33_60;
	r22 = NULL;
	goto label$4cc5e74_33_63;
	label$4cc5e74_33_60:
	r23 = r20->array;
	r6 = ((vdynamic**)(r23 + 1))[r8];
	r22 = (openfl__text___internal__GlyphPosition)r6;
	label$4cc5e74_33_63:
	if( r22 == NULL ) hl_null_access();
	r21 = r22->advance;
	if( r21 == NULL ) hl_null_access();
	r18 = r21->x;
	goto label$4cc5e74_33_69;
	label$4cc5e74_33_68:
	r18 = 0.;
	label$4cc5e74_33_69:
	r16 = r16 + r18;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r16;
	r9 = r17;
	goto label$4cc5e74_33_42;
	label$4cc5e74_33_73:
	if( !r10 ) goto label$4cc5e74_33_78;
	r16 = r9 ? r9->v.d : 0;
	r18 = r10 ? r10->v.d : 0;
	r3 = openfl_text_TextField___getPosition(r0,r16,r18);
	return r3;
	label$4cc5e74_33_78:
	if( r15 == NULL ) hl_null_access();
	r3 = r15->lineIndex;
	if( r3 != r2 ) goto label$4cc5e74_33_111;
	r16 = r15->offsetY;
	r18 = r15->height;
	r24 = 2.;
	r18 = r18 / r24;
	r16 = r16 + r18;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r16;
	r10 = r17;
	r3 = 0;
	r4 = openfl_text_TextField_get_scrollV(r0);
	r8 = 1;
	r4 = r4 - r8;
	label$4cc5e74_33_92:
	if( r3 >= r4 ) goto label$4cc5e74_33_106;
	r8 = r3;
	++r3;
	r16 = r10 ? r10->v.d : 0;
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r25 = r7->lineHeights;
	if( r25 == NULL ) hl_null_access();
	r18 = openfl__Vector_FloatVector_get(r25,r8);
	r16 = r16 - r18;
	r17 = hl_alloc_dynamic(&t$_f64);
	r17->v.d = r16;
	r10 = r17;
	goto label$4cc5e74_33_92;
	label$4cc5e74_33_106:
	if( !r9 ) goto label$4cc5e74_33_111;
	r16 = r9 ? r9->v.d : 0;
	r18 = r10 ? r10->v.d : 0;
	r3 = openfl_text_TextField___getPosition(r0,r16,r18);
	return r3;
	label$4cc5e74_33_111:
	goto label$4cc5e74_33_26;
	label$4cc5e74_33_112:
	r3 = -1;
	return r3;
}

String openfl_text_TextField___getCursor(openfl__text__TextField r0) {
	String r6, r8;
	bool *r5;
	openfl__text__TextFormat r7;
	bool r4, r9;
	openfl__text___internal__TextLayoutGroup r1;
	openfl__text___internal__TextEngine r10;
	double r2, r3;
	r2 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r3 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r4 = true;
	r5 = &r4;
	r1 = openfl_text_TextField___getGroup(r0,r2,r3,r5);
	if( !r1 ) goto label$4cc5e74_34_14;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->format;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->url;
	r8 = (String)s$;
	if( r6 == r8 || (r6 && r8 && String___compare(r6,(vdynamic*)r8) == 0) ) goto label$4cc5e74_34_14;
	r6 = (String)s$button;
	return r6;
	label$4cc5e74_34_14:
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->selectable;
	if( !r9 ) goto label$4cc5e74_34_20;
	r6 = (String)s$ibeam;
	return r6;
	label$4cc5e74_34_20:
	r6 = NULL;
	return r6;
}

openfl__text___internal__TextLayoutGroup openfl_text_TextField___getGroup(openfl__text__TextField r0,double r1,double r2,bool* r3) {
	openfl__text___internal__TextLayoutGroup r16, r18, r21;
	bool r4, r14, r22;
	openfl___Vector__FloatVector r12;
	openfl__text___internal__TextEngine r13;
	double r6, r8, r23;
	vdynamic *r17;
	openfl___Vector__ObjectVector r15;
	int r7, r9, r10, r11, r19, r20;
	if( r3 ) goto label$4cc5e74_35_3;
	r4 = false;
	goto label$4cc5e74_35_4;
	label$4cc5e74_35_3:
	r4 = *r3;
	label$4cc5e74_35_4:
	openfl_text_TextField___updateLayout(r0);
	r7 = openfl_text_TextField_get_scrollH(r0);
	r8 = (double)r7;
	r6 = r1 + r8;
	r1 = r6;
	r7 = 0;
	r9 = openfl_text_TextField_get_scrollV(r0);
	r10 = 1;
	r9 = r9 - r10;
	label$4cc5e74_35_13:
	if( r7 >= r9 ) goto label$4cc5e74_35_25;
	r10 = r7;
	++r7;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r12 = r13->lineHeights;
	if( r12 == NULL ) hl_null_access();
	r8 = openfl__Vector_FloatVector_get(r12,r10);
	r6 = r2 + r8;
	r2 = r6;
	goto label$4cc5e74_35_13;
	label$4cc5e74_35_25:
	if( r4 ) goto label$4cc5e74_35_34;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r8 = r13->textHeight;
	if( !(r8 < r2) ) goto label$4cc5e74_35_34;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r6 = r13->textHeight;
	r2 = r6;
	label$4cc5e74_35_34:
	r14 = true;
	r7 = 0;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->layoutGroups;
	if( r15 == NULL ) hl_null_access();
	r9 = openfl__Vector_ObjectVector_get_length(r15);
	label$4cc5e74_35_41:
	if( r7 >= r9 ) goto label$4cc5e74_35_107;
	r10 = r7;
	++r7;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->layoutGroups;
	if( r15 == NULL ) hl_null_access();
	r17 = openfl__Vector_ObjectVector_get(r15,r10);
	r18 = (openfl__text___internal__TextLayoutGroup)r17;
	r16 = r18;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->layoutGroups;
	if( r15 == NULL ) hl_null_access();
	r19 = openfl__Vector_ObjectVector_get_length(r15);
	r20 = 1;
	r19 = r19 - r20;
	if( r10 >= r19 ) goto label$4cc5e74_35_70;
	r13 = r0->__textEngine;
	if( r13 == NULL ) hl_null_access();
	r15 = r13->layoutGroups;
	if( r15 == NULL ) hl_null_access();
	r19 = 1;
	r11 = r10 + r19;
	r17 = openfl__Vector_ObjectVector_get(r15,r11);
	r21 = (openfl__text___internal__TextLayoutGroup)r17;
	r18 = r21;
	goto label$4cc5e74_35_72;
	label$4cc5e74_35_70:
	r21 = NULL;
	r18 = r21;
	label$4cc5e74_35_72:
	if( !r14 ) goto label$4cc5e74_35_84;
	if( r16 == NULL ) hl_null_access();
	r8 = r16->offsetY;
	if( !(r2 < r8) ) goto label$4cc5e74_35_78;
	r6 = r16->offsetY;
	r2 = r6;
	label$4cc5e74_35_78:
	r8 = r16->offsetX;
	if( !(r1 < r8) ) goto label$4cc5e74_35_82;
	r6 = r16->offsetX;
	r1 = r6;
	label$4cc5e74_35_82:
	r22 = false;
	r14 = r22;
	label$4cc5e74_35_84:
	if( r16 == NULL ) hl_null_access();
	r8 = r16->offsetY;
	if( !(r2 >= r8) ) goto label$4cc5e74_35_91;
	r8 = r16->offsetY;
	r23 = r16->height;
	r8 = r8 + r23;
	if( r8 >= r2 ) goto label$4cc5e74_35_93;
	label$4cc5e74_35_91:
	if( r4 ) goto label$4cc5e74_35_106;
	if( r18 ) goto label$4cc5e74_35_106;
	label$4cc5e74_35_93:
	r8 = r16->offsetX;
	if( !(r1 >= r8) ) goto label$4cc5e74_35_99;
	r8 = r16->offsetX;
	r23 = r16->width;
	r8 = r8 + r23;
	if( r8 >= r1 ) goto label$4cc5e74_35_105;
	label$4cc5e74_35_99:
	if( r4 ) goto label$4cc5e74_35_106;
	if( !r18 ) goto label$4cc5e74_35_105;
	if( r18 == NULL ) hl_null_access();
	r11 = r18->lineIndex;
	r19 = r16->lineIndex;
	if( r11 == r19 ) goto label$4cc5e74_35_106;
	label$4cc5e74_35_105:
	return r16;
	label$4cc5e74_35_106:
	goto label$4cc5e74_35_41;
	label$4cc5e74_35_107:
	r21 = NULL;
	return r21;
}

int openfl_text_TextField___getPosition(openfl__text__TextField r0,double r1,double r2) {
	String r8;
	bool *r6;
	hl__types__ArrayObj r11;
	lime__math__Vector2 r16;
	openfl__text___internal__TextLayoutGroup r3;
	openfl__text___internal__GlyphPosition r17;
	double r4, r5, r14, r19, r20;
	vdynamic *r9;
	varray *r18;
	int r7, r10, r12, r13, r15;
	r6 = NULL;
	r3 = openfl_text_TextField___getGroup(r0,r1,r2,r6);
	if( r3 ) goto label$4cc5e74_36_7;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->length;
	return r7;
	label$4cc5e74_36_7:
	r4 = 0.;
	r7 = 0;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->length;
	label$4cc5e74_36_13:
	if( r7 >= r10 ) goto label$4cc5e74_36_109;
	r12 = r7;
	++r7;
	r15 = 0;
	if( r12 < r15 ) goto label$4cc5e74_36_38;
	if( r3 == NULL ) hl_null_access();
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( r12 >= r15 ) goto label$4cc5e74_36_38;
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( ((unsigned)r12) < ((unsigned)r15) ) goto label$4cc5e74_36_30;
	r17 = NULL;
	goto label$4cc5e74_36_33;
	label$4cc5e74_36_30:
	r18 = r11->array;
	r9 = ((vdynamic**)(r18 + 1))[r12];
	r17 = (openfl__text___internal__GlyphPosition)r9;
	label$4cc5e74_36_33:
	if( r17 == NULL ) hl_null_access();
	r16 = r17->advance;
	if( r16 == NULL ) hl_null_access();
	r14 = r16->x;
	goto label$4cc5e74_36_39;
	label$4cc5e74_36_38:
	r14 = 0.;
	label$4cc5e74_36_39:
	r5 = r4 + r14;
	r4 = r5;
	if( r3 == NULL ) hl_null_access();
	r14 = r3->offsetX;
	r14 = r14 + r4;
	if( !(r14 >= r1) ) goto label$4cc5e74_36_108;
	r14 = r3->offsetX;
	r15 = 0;
	if( r12 < r15 ) goto label$4cc5e74_36_66;
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( r12 >= r15 ) goto label$4cc5e74_36_66;
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( ((unsigned)r12) < ((unsigned)r15) ) goto label$4cc5e74_36_58;
	r17 = NULL;
	goto label$4cc5e74_36_61;
	label$4cc5e74_36_58:
	r18 = r11->array;
	r9 = ((vdynamic**)(r18 + 1))[r12];
	r17 = (openfl__text___internal__GlyphPosition)r9;
	label$4cc5e74_36_61:
	if( r17 == NULL ) hl_null_access();
	r16 = r17->advance;
	if( r16 == NULL ) hl_null_access();
	r20 = r16->x;
	goto label$4cc5e74_36_67;
	label$4cc5e74_36_66:
	r20 = 0.;
	label$4cc5e74_36_67:
	r19 = r4 - r20;
	r14 = r14 + r19;
	r15 = 0;
	if( r12 < r15 ) goto label$4cc5e74_36_89;
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( r12 >= r15 ) goto label$4cc5e74_36_89;
	r11 = r3->positions;
	if( r11 == NULL ) hl_null_access();
	r15 = r11->length;
	if( ((unsigned)r12) < ((unsigned)r15) ) goto label$4cc5e74_36_81;
	r17 = NULL;
	goto label$4cc5e74_36_84;
	label$4cc5e74_36_81:
	r18 = r11->array;
	r9 = ((vdynamic**)(r18 + 1))[r12];
	r17 = (openfl__text___internal__GlyphPosition)r9;
	label$4cc5e74_36_84:
	if( r17 == NULL ) hl_null_access();
	r16 = r17->advance;
	if( r16 == NULL ) hl_null_access();
	r19 = r16->x;
	goto label$4cc5e74_36_90;
	label$4cc5e74_36_89:
	r19 = 0.;
	label$4cc5e74_36_90:
	r20 = 2.;
	r19 = r19 / r20;
	r14 = r14 + r19;
	if( !(r14 >= r1) ) goto label$4cc5e74_36_97;
	r13 = r3->startIndex;
	r13 = r13 + r12;
	return r13;
	label$4cc5e74_36_97:
	r13 = r3->startIndex;
	r13 = r13 + r12;
	r15 = r3->endIndex;
	if( r13 >= r15 ) goto label$4cc5e74_36_106;
	r13 = r3->startIndex;
	r13 = r13 + r12;
	r15 = 1;
	r13 = r13 + r15;
	return r13;
	label$4cc5e74_36_106:
	r13 = r3->endIndex;
	return r13;
	label$4cc5e74_36_108:
	goto label$4cc5e74_36_13;
	label$4cc5e74_36_109:
	if( r3 == NULL ) hl_null_access();
	r7 = r3->endIndex;
	return r7;
}

bool openfl_text_TextField___hitTest(openfl__text__TextField r0,double r1,double r2,bool r3,hl__types__ArrayObj r4,bool r5,openfl__display__DisplayObject r6) {
	openfl__geom__Rectangle r19;
	openfl__display__DisplayObject r9;
	bool r8;
	openfl__geom__Matrix r12, r13;
	openfl__text___internal__TextEngine r20;
	double r10, r11, r14, r15, r16, r17, r18;
	int r21;
	if( r6 == NULL ) hl_null_access();
	r8 = openfl_display_DisplayObject_get_visible(r6);
	if( !r8 ) goto label$4cc5e74_37_8;
	r8 = r0->__isMask;
	if( r8 ) goto label$4cc5e74_37_8;
	if( !r5 ) goto label$4cc5e74_37_10;
	r8 = r0->mouseEnabled;
	if( r8 ) goto label$4cc5e74_37_10;
	label$4cc5e74_37_8:
	r8 = false;
	return r8;
	label$4cc5e74_37_10:
	r9 = openfl_display_DisplayObject_get_mask(((openfl__display__DisplayObject)r0));
	if( !r9 ) goto label$4cc5e74_37_18;
	r9 = openfl_display_DisplayObject_get_mask(((openfl__display__DisplayObject)r0));
	if( r9 == NULL ) hl_null_access();
	r8 = ((bool (*)(openfl__display__DisplayObject,double,double))r9->$type->vobj_proto[17])(r9,r1,r2);
	if( r8 ) goto label$4cc5e74_37_18;
	r8 = false;
	return r8;
	label$4cc5e74_37_18:
	r12 = openfl_display_DisplayObject___getRenderTransform(((openfl__display__DisplayObject)r0));
	openfl_text_TextField___updateLayout(r0);
	r12 = r0->__renderTransform;
	if( r12 == NULL ) hl_null_access();
	r10 = r12->a;
	r11 = r12->d;
	r10 = r10 * r11;
	r11 = r12->b;
	r14 = r12->c;
	r11 = r11 * r14;
	r10 = r10 - r11;
	r14 = 0.;
	if( r10 != r14 ) goto label$4cc5e74_37_34;
	r11 = r12->tx;
	r11 = -r11;
	goto label$4cc5e74_37_46;
	label$4cc5e74_37_34:
	r11 = 1.;
	r11 = r11 / r10;
	r14 = r12->c;
	r15 = r12->ty;
	r15 = r15 - r2;
	r14 = r14 * r15;
	r15 = r12->d;
	r17 = r12->tx;
	r16 = r1 - r17;
	r15 = r15 * r16;
	r14 = r14 + r15;
	r11 = r11 * r14;
	label$4cc5e74_37_46:
	r13 = r0->__renderTransform;
	if( r13 == NULL ) hl_null_access();
	r14 = r13->a;
	r15 = r13->d;
	r14 = r14 * r15;
	r15 = r13->b;
	r16 = r13->c;
	r15 = r15 * r16;
	r14 = r14 - r15;
	r16 = 0.;
	if( r14 != r16 ) goto label$4cc5e74_37_60;
	r15 = r13->ty;
	r15 = -r15;
	goto label$4cc5e74_37_72;
	label$4cc5e74_37_60:
	r15 = 1.;
	r15 = r15 / r14;
	r16 = r13->a;
	r18 = r13->ty;
	r17 = r2 - r18;
	r16 = r16 * r17;
	r17 = r13->b;
	r18 = r13->tx;
	r18 = r18 - r1;
	r17 = r17 * r18;
	r16 = r16 + r17;
	r15 = r15 * r16;
	label$4cc5e74_37_72:
	r20 = r0->__textEngine;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->bounds;
	if( r19 == NULL ) hl_null_access();
	r8 = openfl_geom_Rectangle_contains(r19,r11,r15);
	if( !r8 ) goto label$4cc5e74_37_83;
	if( !r4 ) goto label$4cc5e74_37_81;
	if( r4 == NULL ) hl_null_access();
	r21 = hl_types_ArrayObj_push(r4,((vdynamic*)r6));
	label$4cc5e74_37_81:
	r8 = true;
	return r8;
	label$4cc5e74_37_83:
	r8 = false;
	return r8;
}

bool openfl_text_TextField___hitTestMask(openfl__text__TextField r0,double r1,double r2) {
	openfl__geom__Rectangle r14;
	bool r13;
	openfl__geom__Matrix r3, r6;
	openfl__text___internal__TextEngine r15;
	double r5, r7, r8, r9, r10, r11, r12;
	r3 = openfl_display_DisplayObject___getRenderTransform(((openfl__display__DisplayObject)r0));
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__renderTransform;
	if( r3 == NULL ) hl_null_access();
	r5 = r3->a;
	r7 = r3->d;
	r5 = r5 * r7;
	r7 = r3->b;
	r8 = r3->c;
	r7 = r7 * r8;
	r5 = r5 - r7;
	r8 = 0.;
	if( r5 != r8 ) goto label$4cc5e74_38_16;
	r7 = r3->tx;
	r7 = -r7;
	goto label$4cc5e74_38_28;
	label$4cc5e74_38_16:
	r7 = 1.;
	r7 = r7 / r5;
	r8 = r3->c;
	r9 = r3->ty;
	r9 = r9 - r2;
	r8 = r8 * r9;
	r9 = r3->d;
	r11 = r3->tx;
	r10 = r1 - r11;
	r9 = r9 * r10;
	r8 = r8 + r9;
	r7 = r7 * r8;
	label$4cc5e74_38_28:
	r6 = r0->__renderTransform;
	if( r6 == NULL ) hl_null_access();
	r8 = r6->a;
	r9 = r6->d;
	r8 = r8 * r9;
	r9 = r6->b;
	r10 = r6->c;
	r9 = r9 * r10;
	r8 = r8 - r9;
	r10 = 0.;
	if( r8 != r10 ) goto label$4cc5e74_38_42;
	r9 = r6->ty;
	r9 = -r9;
	goto label$4cc5e74_38_54;
	label$4cc5e74_38_42:
	r9 = 1.;
	r9 = r9 / r8;
	r10 = r6->a;
	r12 = r6->ty;
	r11 = r2 - r12;
	r10 = r10 * r11;
	r11 = r6->b;
	r12 = r6->tx;
	r12 = r12 - r1;
	r11 = r11 * r12;
	r10 = r10 + r11;
	r9 = r9 * r10;
	label$4cc5e74_38_54:
	r15 = r0->__textEngine;
	if( r15 == NULL ) hl_null_access();
	r14 = r15->bounds;
	if( r14 == NULL ) hl_null_access();
	r13 = openfl_geom_Rectangle_contains(r14,r7,r9);
	if( !r13 ) goto label$4cc5e74_38_62;
	r13 = true;
	return r13;
	label$4cc5e74_38_62:
	r13 = false;
	return r13;
}

void openfl_text_TextField___replaceSelectedText(openfl__text__TextField r0,String r1,bool* r2) {
	String r5, r6;
	bool r3;
	openfl__text___internal__TextEngine r11;
	int r7, r8, r9, r10;
	if( r2 ) goto label$4cc5e74_39_3;
	r3 = true;
	goto label$4cc5e74_39_4;
	label$4cc5e74_39_3:
	r3 = *r2;
	label$4cc5e74_39_4:
	if( r1 ) goto label$4cc5e74_39_7;
	r5 = (String)s$;
	r1 = r5;
	label$4cc5e74_39_7:
	r6 = (String)s$;
	if( r1 != r6 && (!r1 || !r6 || String___compare(r1,(vdynamic*)r6) != 0) ) goto label$4cc5e74_39_13;
	r7 = r0->__selectionIndex;
	r8 = r0->__caretIndex;
	if( r7 != r8 ) goto label$4cc5e74_39_13;
	return;
	label$4cc5e74_39_13:
	r7 = r0->__caretIndex;
	r8 = r0->__selectionIndex;
	if( r7 >= r8 ) goto label$4cc5e74_39_18;
	r7 = r0->__caretIndex;
	goto label$4cc5e74_39_19;
	label$4cc5e74_39_18:
	r7 = r0->__selectionIndex;
	label$4cc5e74_39_19:
	r8 = r0->__caretIndex;
	r9 = r0->__selectionIndex;
	if( r9 >= r8 ) goto label$4cc5e74_39_24;
	r8 = r0->__caretIndex;
	goto label$4cc5e74_39_25;
	label$4cc5e74_39_24:
	r8 = r0->__selectionIndex;
	label$4cc5e74_39_25:
	if( r7 != r8 ) goto label$4cc5e74_39_39;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r9 = r11->maxChars;
	r10 = 0;
	if( r10 >= r9 ) goto label$4cc5e74_39_39;
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->length;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r10 = r11->maxChars;
	if( r9 != r10 ) goto label$4cc5e74_39_39;
	return;
	label$4cc5e74_39_39:
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->length;
	if( r10 >= r7 ) goto label$4cc5e74_39_47;
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->length;
	r7 = r9;
	label$4cc5e74_39_47:
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r10 = r5->length;
	if( r10 >= r8 ) goto label$4cc5e74_39_55;
	r5 = r0->__text;
	if( r5 == NULL ) hl_null_access();
	r9 = r5->length;
	r8 = r9;
	label$4cc5e74_39_55:
	if( r8 >= r7 ) goto label$4cc5e74_39_59;
	r9 = r8;
	r8 = r7;
	r7 = r9;
	label$4cc5e74_39_59:
	r10 = 0;
	if( r7 >= r10 ) goto label$4cc5e74_39_63;
	r9 = 0;
	r7 = r9;
	label$4cc5e74_39_63:
	openfl_text_TextField___replaceText(r0,r7,r8,r1,r3);
	return;
}

void openfl_text_TextField___replaceText(openfl__text__TextField r0,int r1,int r2,String r3,bool r4) {
	bool *r26;
	String r8, r15;
	openfl__text__TextFormat r28;
	hl__types__ArrayObj r25;
	vvirtual *r18, *r19, *r20, *r21;
	hl_type *r24;
	bool r10;
	openfl__text___internal__TextFormatRange r17, r30;
	openfl__text___internal__TextEngine r11;
	hl__types__ArrayDyn r22;
	vdynamic *r9, *r14;
	varray *r23;
	openfl___Vector__ObjectVector r16, r29, r31;
	int r6, r7, r12, r13, r27;
	if( r2 < r1 ) goto label$4cc5e74_40_8;
	r7 = 0;
	if( r1 < r7 ) goto label$4cc5e74_40_8;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r7 = r8->length;
	if( r7 < r2 ) goto label$4cc5e74_40_8;
	if( r3 ) goto label$4cc5e74_40_9;
	label$4cc5e74_40_8:
	return;
	label$4cc5e74_40_9:
	if( !r4 ) goto label$4cc5e74_40_40;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r8 = openfl_text__internal_TextEngine_restrictText(r11,r3);
	r3 = r8;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r6 = r11->maxChars;
	r7 = 0;
	if( r7 >= r6 ) goto label$4cc5e74_40_40;
	r6 = r2 - r1;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r7 = r11->maxChars;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r12 = r8->length;
	r7 = r7 - r12;
	r7 = r7 + r6;
	r13 = 0;
	if( r13 < r7 ) goto label$4cc5e74_40_33;
	r8 = (String)s$;
	r3 = r8;
	goto label$4cc5e74_40_40;
	label$4cc5e74_40_33:
	if( r3 == NULL ) hl_null_access();
	r13 = r3->length;
	if( r7 >= r13 ) goto label$4cc5e74_40_40;
	r12 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r7;
	r8 = String_substr(r3,r12,r14);
	r3 = r8;
	label$4cc5e74_40_40:
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r6 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r1;
	r8 = String_substring(r8,r6,r14);
	r8 = String___add__(r8,r3);
	r15 = r0->__text;
	if( r15 == NULL ) hl_null_access();
	r14 = NULL;
	r15 = String_substring(r15,r2,r14);
	r8 = String___add__(r8,r15);
	openfl_text_TextField___updateText(r0,r8);
	if( r3 == NULL ) hl_null_access();
	r6 = r3->length;
	r7 = r2 - r1;
	r6 = r6 - r7;
	r7 = 0;
	label$4cc5e74_40_57:
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r13 = openfl__Vector_ObjectVector_get_length(r16);
	if( r7 >= r13 ) goto label$4cc5e74_40_204;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r9 = openfl__Vector_ObjectVector_get(r16,r7);
	r17 = (openfl__text___internal__TextFormatRange)r9;
	if( r1 != r2 ) goto label$4cc5e74_40_114;
	if( r17 == NULL ) hl_null_access();
	r12 = r17->start;
	r13 = r17->end;
	if( r12 != r13 ) goto label$4cc5e74_40_95;
	r12 = r17->start;
	r13 = 0;
	if( r12 == r13 ) goto label$4cc5e74_40_91;
	r8 = (String)s$7847f28;
	r18 = hl_alloc_virtual(&t$vrt_329ffa8);
	r15 = (String)s$openfl_text_TextField_hx;
	if( hl_vfields(r18)[1] ) *(String*)(hl_vfields(r18)[1]) = (String)r15; else hl_dyn_setp(r18->value,37969014/*fileName*/,&t$String,r15);
	r12 = 2069;
	if( hl_vfields(r18)[2] ) *(int*)(hl_vfields(r18)[2]) = (int)r12; else hl_dyn_seti(r18->value,371360620/*lineNumber*/,&t$_i32,r12);
	r15 = (String)s$openfl_text_TextField;
	if( hl_vfields(r18)[0] ) *(String*)(hl_vfields(r18)[0]) = (String)r15; else hl_dyn_setp(r18->value,-63073762/*className*/,&t$String,r15);
	r15 = (String)s$__replaceText;
	if( hl_vfields(r18)[3] ) *(String*)(hl_vfields(r18)[3]) = (String)r15; else hl_dyn_setp(r18->value,302979532/*methodName*/,&t$String,r15);
	r19 = hl_to_virtual(&t$vrt_eaa6a3b,(vdynamic*)r18);
	lime_utils_Log_warn(((vdynamic*)r8),r19);
	goto label$4cc5e74_40_94;
	label$4cc5e74_40_91:
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	label$4cc5e74_40_94:
	goto label$4cc5e74_40_113;
	label$4cc5e74_40_95:
	r12 = r17->end;
	if( r12 < r1 ) goto label$4cc5e74_40_113;
	r12 = r17->start;
	if( r12 < r1 ) goto label$4cc5e74_40_106;
	r12 = r17->start;
	r12 = r12 + r6;
	r17->start = r12;
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	goto label$4cc5e74_40_113;
	label$4cc5e74_40_106:
	r12 = r17->start;
	if( r12 >= r1 ) goto label$4cc5e74_40_113;
	r12 = r17->end;
	if( r12 < r2 ) goto label$4cc5e74_40_113;
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	label$4cc5e74_40_113:
	goto label$4cc5e74_40_202;
	label$4cc5e74_40_114:
	if( r17 == NULL ) hl_null_access();
	r12 = r17->end;
	if( r1 >= r12 ) goto label$4cc5e74_40_202;
	r12 = r17->start;
	if( r2 >= r12 ) goto label$4cc5e74_40_126;
	r12 = r17->start;
	r12 = r12 + r6;
	r17->start = r12;
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	goto label$4cc5e74_40_202;
	label$4cc5e74_40_126:
	r12 = r17->start;
	if( r1 < r12 ) goto label$4cc5e74_40_134;
	r12 = r17->end;
	if( r2 >= r12 ) goto label$4cc5e74_40_134;
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	goto label$4cc5e74_40_202;
	label$4cc5e74_40_134:
	r12 = r17->start;
	if( r12 < r1 ) goto label$4cc5e74_40_184;
	r12 = r17->end;
	if( r2 < r12 ) goto label$4cc5e74_40_184;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 ) goto label$4cc5e74_40_144;
	r20 = NULL;
	goto label$4cc5e74_40_148;
	label$4cc5e74_40_144:
	r20 = r16->f$3;
	if( r20 ) goto label$4cc5e74_40_148;
	r20 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r16);
	r16->f$3 = r20;
	label$4cc5e74_40_148:
	if( r20 == NULL ) hl_null_access();
	r12 = r7;
	--r7;
	if( hl_vfields(r20)[24] ) *(int*)(hl_vfields(r20)[24]) = (int)r12; else hl_dyn_seti(r20->value,39119043/*__tempIndex*/,&t$_i32,r12);
	r12 = 0;
	r24 = &t$_dyn;
	r13 = 0;
	r23 = hl_alloc_array(r24,r13);
	r25 = hl_types_ArrayObj_alloc(r23);
	r10 = true;
	r26 = &r10;
	r22 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r25),r26);
	label$4cc5e74_40_160:
	if( r22 == NULL ) hl_null_access();
	r27 = hl_types_ArrayDyn_get_length(r22);
	if( r12 >= r27 ) goto label$4cc5e74_40_177;
	r13 = r12;
	++r12;
	r9 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r22->$type->vobj_proto[0])(r22,r13);
	r16 = (openfl___Vector__ObjectVector)hl_dyn_castp(&r20,&t$vrt_e24d085,&t$openfl__Vector_ObjectVector);
	if( r16 == NULL ) hl_null_access();
	if( r20 == NULL ) hl_null_access();
	r13 = hl_vfields(r20)[24] ? (*(int*)(hl_vfields(r20)[24])) : (int)hl_dyn_geti(r20->value,39119043/*__tempIndex*/,&t$_i32);
	r17 = (openfl__text___internal__TextFormatRange)hl_dyn_castp(&r9,&t$_dyn,&t$openfl_text__internal_TextFormatRange);
	openfl__Vector_ObjectVector_insertAt(r16,r13,((vdynamic*)r17));
	r13 = hl_vfields(r20)[24] ? (*(int*)(hl_vfields(r20)[24])) : (int)hl_dyn_geti(r20->value,39119043/*__tempIndex*/,&t$_i32);
	++r13;
	if( hl_vfields(r20)[24] ) *(int*)(hl_vfields(r20)[24]) = (int)r13; else hl_dyn_seti(r20->value,39119043/*__tempIndex*/,&t$_i32,r13);
	goto label$4cc5e74_40_160;
	label$4cc5e74_40_177:
	r16 = (openfl___Vector__ObjectVector)hl_dyn_castp(&r20,&t$vrt_e24d085,&t$openfl__Vector_ObjectVector);
	if( r16 == NULL ) hl_null_access();
	if( r20 == NULL ) hl_null_access();
	r12 = hl_vfields(r20)[24] ? (*(int*)(hl_vfields(r20)[24])) : (int)hl_dyn_geti(r20->value,39119043/*__tempIndex*/,&t$_i32);
	r13 = 1;
	r21 = openfl__Vector_ObjectVector_splice(r16,r12,r13);
	goto label$4cc5e74_40_202;
	label$4cc5e74_40_184:
	r12 = r17->end;
	if( r2 >= r12 ) goto label$4cc5e74_40_195;
	r12 = r17->start;
	if( r1 >= r12 ) goto label$4cc5e74_40_195;
	r12 = r17->start;
	if( r2 < r12 ) goto label$4cc5e74_40_195;
	r17->start = r1;
	r12 = r17->end;
	r12 = r12 + r6;
	r17->end = r12;
	goto label$4cc5e74_40_202;
	label$4cc5e74_40_195:
	r12 = r17->start;
	if( r12 >= r1 ) goto label$4cc5e74_40_202;
	r12 = r17->end;
	if( r1 >= r12 ) goto label$4cc5e74_40_202;
	r12 = r17->end;
	if( r2 < r12 ) goto label$4cc5e74_40_202;
	r17->end = r1;
	label$4cc5e74_40_202:
	++r7;
	goto label$4cc5e74_40_57;
	label$4cc5e74_40_204:
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r16);
	r13 = 0;
	if( r12 != r13 ) goto label$4cc5e74_40_225;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r17 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r28 = openfl_text_TextField_get_defaultTextFormat(r0);
	if( r28 == NULL ) hl_null_access();
	r28 = openfl_text_TextFormat_clone(r28);
	r12 = 0;
	if( r3 == NULL ) hl_null_access();
	r13 = r3->length;
	openfl_text__internal_TextFormatRange_new(r17,r28,r12,r13);
	r12 = openfl__Vector_ObjectVector_push(r16,((vdynamic*)r17));
	goto label$4cc5e74_40_306;
	label$4cc5e74_40_225:
	if( r1 != r2 ) goto label$4cc5e74_40_258;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r12 = 0;
	r9 = openfl__Vector_ObjectVector_get(r16,r12);
	r17 = (openfl__text___internal__TextFormatRange)r9;
	if( r17 == NULL ) hl_null_access();
	r12 = r17->start;
	r13 = 0;
	if( r13 >= r12 ) goto label$4cc5e74_40_258;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r17 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r28 = openfl_text_TextField_get_defaultTextFormat(r0);
	if( r28 == NULL ) hl_null_access();
	r28 = openfl_text_TextFormat_clone(r28);
	r12 = 0;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r29 = r11->textFormatRanges;
	if( r29 == NULL ) hl_null_access();
	r13 = 0;
	r9 = openfl__Vector_ObjectVector_get(r29,r13);
	r30 = (openfl__text___internal__TextFormatRange)r9;
	if( r30 == NULL ) hl_null_access();
	r13 = r30->start;
	openfl_text__internal_TextFormatRange_new(r17,r28,r12,r13);
	openfl__Vector_ObjectVector_unshift(r16,((vdynamic*)r17));
	goto label$4cc5e74_40_306;
	label$4cc5e74_40_258:
	if( r1 == r2 ) goto label$4cc5e74_40_306;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r29 = r11->textFormatRanges;
	if( r29 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r29);
	r13 = 1;
	r12 = r12 - r13;
	r9 = openfl__Vector_ObjectVector_get(r16,r12);
	r17 = (openfl__text___internal__TextFormatRange)r9;
	if( r17 == NULL ) hl_null_access();
	r12 = r17->end;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r13 = r8->length;
	if( r12 >= r13 ) goto label$4cc5e74_40_306;
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r16 = r11->textFormatRanges;
	if( r16 == NULL ) hl_null_access();
	r17 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r28 = openfl_text_TextField_get_defaultTextFormat(r0);
	if( r28 == NULL ) hl_null_access();
	r28 = openfl_text_TextFormat_clone(r28);
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r29 = r11->textFormatRanges;
	if( r29 == NULL ) hl_null_access();
	r11 = r0->__textEngine;
	if( r11 == NULL ) hl_null_access();
	r31 = r11->textFormatRanges;
	if( r31 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r31);
	r13 = 1;
	r12 = r12 - r13;
	r9 = openfl__Vector_ObjectVector_get(r29,r12);
	r30 = (openfl__text___internal__TextFormatRange)r9;
	if( r30 == NULL ) hl_null_access();
	r12 = r30->end;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r13 = r8->length;
	openfl_text__internal_TextFormatRange_new(r17,r28,r12,r13);
	r12 = openfl__Vector_ObjectVector_push(r16,((vdynamic*)r17));
	label$4cc5e74_40_306:
	if( r3 == NULL ) hl_null_access();
	r13 = r3->length;
	r12 = r1 + r13;
	r0->__caretIndex = r12;
	r0->__selectionIndex = r12;
	r10 = true;
	r0->__dirty = r10;
	r10 = true;
	r0->__layoutDirty = r10;
	r10 = r0->__renderDirty;
	if( r10 ) goto label$4cc5e74_40_320;
	r10 = true;
	r0->__renderDirty = r10;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_40_320:
	return;
}

void openfl_text_TextField___startCursorTimer(openfl__text__TextField r0) {
	bool r7;
	haxe__Timer r5;
	vclosure *r6;
	vdynamic *r2, *r4;
	int r3;
	r2 = openfl_text_TextField_get_type(r0);
	r3 = 1;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r3;
	if( r2 != r4 && (!r2 || !r4 || (r2->v.i != r4->v.i)) ) goto label$4cc5e74_41_19;
	r6 = hl_alloc_closure_ptr(&t$fun_4a7d495,openfl_text_TextField___startCursorTimer,r0);
	r3 = 600;
	r5 = haxe_Timer_delay(r6,r3);
	r0->__cursorTimer = r5;
	r7 = r0->__showCursor;
	r7 = !r7;
	r0->__showCursor = r7;
	r7 = true;
	r0->__dirty = r7;
	r7 = r0->__renderDirty;
	if( r7 ) goto label$4cc5e74_41_18;
	r7 = true;
	r0->__renderDirty = r7;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_41_18:
	goto label$4cc5e74_41_28;
	label$4cc5e74_41_19:
	r7 = openfl_text_TextField_get_selectable(r0);
	if( !r7 ) goto label$4cc5e74_41_28;
	r7 = true;
	r0->__dirty = r7;
	r7 = r0->__renderDirty;
	if( r7 ) goto label$4cc5e74_41_28;
	r7 = true;
	r0->__renderDirty = r7;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_41_28:
	return;
}

void openfl_text_TextField___startTextInput(openfl__text__TextField r0) {
	String r4;
	bool r5;
	int r2, r3;
	r2 = r0->__caretIndex;
	r3 = 0;
	if( r2 >= r3 ) goto label$4cc5e74_42_9;
	r4 = r0->__text;
	if( r4 == NULL ) hl_null_access();
	r2 = r4->length;
	r0->__caretIndex = r2;
	r2 = r0->__caretIndex;
	r0->__selectionIndex = r2;
	label$4cc5e74_42_9:
	r5 = true;
	if( !r5 ) goto label$4cc5e74_42_12;
	openfl_text_TextField___enableInput(r0);
	label$4cc5e74_42_12:
	return;
}

void openfl_text_TextField___stopCursorTimer(openfl__text__TextField r0) {
	bool r3;
	haxe__Timer r2;
	r2 = r0->__cursorTimer;
	if( !r2 ) goto label$4cc5e74_43_7;
	r2 = r0->__cursorTimer;
	if( r2 == NULL ) hl_null_access();
	haxe_Timer_stop(r2);
	r2 = NULL;
	r0->__cursorTimer = r2;
	label$4cc5e74_43_7:
	r3 = r0->__showCursor;
	if( !r3 ) goto label$4cc5e74_43_18;
	r3 = false;
	r0->__showCursor = r3;
	r3 = true;
	r0->__dirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_43_18;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_43_18:
	return;
}

void openfl_text_TextField___stopTextInput(openfl__text__TextField r0) {
	bool r1;
	r1 = true;
	if( !r1 ) goto label$4cc5e74_44_3;
	openfl_text_TextField___disableInput(r0);
	label$4cc5e74_44_3:
	return;
}

void openfl_text_TextField___updateLayout(openfl__text__TextField r0) {
	bool r2;
	openfl__text___internal__TextEngine r4;
	double r3, r8, r9, r10;
	vdynamic *r5, *r7;
	int r6, r11;
	r2 = r0->__layoutDirty;
	if( !r2 ) goto label$4cc5e74_45_49;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->width;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	openfl_text__internal_TextEngine_update(r4);
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->autoSize;
	r6 = 2;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r6;
	if( r5 == r7 || (r5 && r7 && (r5->v.i == r7->v.i)) ) goto label$4cc5e74_45_44;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r8 = r4->width;
	if( r8 == r3 ) goto label$4cc5e74_45_41;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r5 = r4->autoSize;
	r6 = r5 ? r5->v.i : 0;
	switch(r6) {
		default:
		case 1:
		case 2:
			goto label$4cc5e74_45_41;
		case 0:
			r8 = openfl_text_TextField_get_x(r0);
			r4 = r0->__textEngine;
			if( r4 == NULL ) hl_null_access();
			r10 = r4->width;
			r9 = r3 - r10;
			r10 = 2.;
			r9 = r9 / r10;
			r8 = r8 + r9;
			r8 = openfl_text_TextField_set_x(r0,r8);
			goto label$4cc5e74_45_41;
		case 3:
			r8 = openfl_text_TextField_get_x(r0);
			r4 = r0->__textEngine;
			if( r4 == NULL ) hl_null_access();
			r10 = r4->width;
			r9 = r3 - r10;
			r8 = r8 + r9;
			r8 = openfl_text_TextField_set_x(r0,r8);
	}
	label$4cc5e74_45_41:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	openfl_text__internal_TextEngine_getBounds(r4);
	label$4cc5e74_45_44:
	r2 = false;
	r0->__layoutDirty = r2;
	r6 = r0->__selectionIndex;
	r11 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r6,r11);
	label$4cc5e74_45_49:
	return;
}

void openfl_text_TextField___updateScrollH(openfl__text__TextField r0) {
	String r13;
	openfl__geom__Rectangle r11;
	bool r12, r14;
	openfl__geom__$Rectangle r10;
	lime__utils__ObjectPool r9;
	double r2, r3, r4;
	vdynamic *r6, *r15, *r16;
	int r5, r7, r8;
	openfl_text_TextField___updateLayout(r0);
	r2 = openfl_text_TextField_get_textWidth(r0);
	r3 = openfl_text_TextField_get_width(r0);
	r4 = 4.;
	r3 = r3 - r4;
	if( !(r3 >= r2) ) goto label$4cc5e74_46_9;
	r5 = 0;
	r5 = openfl_text_TextField_set_scrollH(r0,r5);
	return;
	label$4cc5e74_46_9:
	r5 = openfl_text_TextField_get_scrollH(r0);
	r7 = r0->__caretIndex;
	r8 = 0;
	if( r7 == r8 ) goto label$4cc5e74_46_18;
	r7 = r0->__caretIndex;
	r7 = openfl_text_TextField_getLineIndexOfChar(r0,r7);
	r7 = openfl_text_TextField_getLineOffset(r0,r7);
	r8 = r0->__caretIndex;
	if( r7 != r8 ) goto label$4cc5e74_46_21;
	label$4cc5e74_46_18:
	r7 = 0;
	r5 = r7;
	goto label$4cc5e74_46_73;
	label$4cc5e74_46_21:
	r10 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r9 = r10->__pool;
	if( r9 == NULL ) hl_null_access();
	r6 = lime_utils_ObjectPool_get(r9);
	r11 = (openfl__geom__Rectangle)r6;
	r12 = false;
	r7 = r0->__caretIndex;
	r13 = r0->__text;
	if( r13 == NULL ) hl_null_access();
	r8 = r13->length;
	if( r7 >= r8 ) goto label$4cc5e74_46_35;
	r7 = r0->__caretIndex;
	r14 = openfl_text_TextField___getCharBoundaries(r0,r7,r11);
	r12 = r14;
	label$4cc5e74_46_35:
	if( r12 ) goto label$4cc5e74_46_45;
	r7 = r0->__caretIndex;
	r8 = 1;
	r7 = r7 - r8;
	r14 = openfl_text_TextField___getCharBoundaries(r0,r7,r11);
	if( r11 == NULL ) hl_null_access();
	r2 = r11->x;
	r3 = r11->width;
	r2 = r2 + r3;
	r11->x = r2;
	label$4cc5e74_46_45:
	if( r11 == NULL ) hl_null_access();
	r2 = r11->x;
	r3 = (double)r5;
	if( !(r2 < r3) ) goto label$4cc5e74_46_56;
	r8 = 0;
	if( r8 >= r5 ) goto label$4cc5e74_46_56;
	r8 = 24;
	r7 = r5 - r8;
	r5 = r7;
	goto label$4cc5e74_46_45;
	label$4cc5e74_46_56:
	if( r11 == NULL ) hl_null_access();
	r2 = r11->x;
	r3 = (double)r5;
	r4 = openfl_text_TextField_get_width(r0);
	r3 = r3 + r4;
	r4 = 4.;
	r3 = r3 - r4;
	if( !(r3 < r2) ) goto label$4cc5e74_46_69;
	r8 = 24;
	r7 = r5 + r8;
	r5 = r7;
	goto label$4cc5e74_46_56;
	label$4cc5e74_46_69:
	r10 = (openfl__geom__$Rectangle)g$_openfl_geom_Rectangle;
	r9 = r10->__pool;
	if( r9 == NULL ) hl_null_access();
	lime_utils_ObjectPool_release(r9,((vdynamic*)r11));
	label$4cc5e74_46_73:
	r8 = 0;
	if( r8 >= r5 ) goto label$4cc5e74_46_97;
	r15 = openfl_text_TextField_get_type(r0);
	r7 = 1;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r7;
	if( r15 == r16 || (r15 && r16 && (r15->v.i == r16->v.i)) ) goto label$4cc5e74_46_97;
	r7 = r0->__caretIndex;
	r7 = openfl_text_TextField_getLineIndexOfChar(r0,r7);
	r7 = openfl_text_TextField_getLineLength(r0,r7);
	r8 = openfl_text_TextField_get_scrollH(r0);
	r2 = (double)r8;
	r3 = openfl_text_TextField_get_width(r0);
	r2 = r2 + r3;
	r3 = 4.;
	r2 = r2 - r3;
	r3 = (double)r7;
	if( !(r3 < r2) ) goto label$4cc5e74_46_97;
	r2 = (double)r7;
	r3 = openfl_text_TextField_get_width(r0);
	r2 = r2 - r3;
	r3 = 4.;
	r2 = r2 + r3;
	r8 = hl_math_ceil(r2);
	r8 = openfl_text_TextField_set_scrollH(r0,r8);
	label$4cc5e74_46_97:
	r8 = 0;
	if( r5 >= r8 ) goto label$4cc5e74_46_102;
	r7 = 0;
	r7 = openfl_text_TextField_set_scrollH(r0,r7);
	goto label$4cc5e74_46_108;
	label$4cc5e74_46_102:
	r8 = openfl_text_TextField_get_maxScrollH(r0);
	if( r8 >= r5 ) goto label$4cc5e74_46_107;
	r7 = openfl_text_TextField_get_maxScrollH(r0);
	r7 = openfl_text_TextField_set_scrollH(r0,r7);
	goto label$4cc5e74_46_108;
	label$4cc5e74_46_107:
	r7 = openfl_text_TextField_set_scrollH(r0,r5);
	label$4cc5e74_46_108:
	return;
}

void openfl_text_TextField___updateScrollV(openfl__text__TextField r0) {
	openfl___Vector__FloatVector r9;
	openfl__text___internal__TextEngine r10;
	double r2, r3, r4, r11;
	int r5, r6, r7, r8;
	openfl_text_TextField___updateLayout(r0);
	r2 = openfl_text_TextField_get_textHeight(r0);
	r3 = openfl_text_TextField_get_height(r0);
	r4 = 4.;
	r3 = r3 - r4;
	if( !(r3 >= r2) ) goto label$4cc5e74_47_9;
	r5 = 1;
	r5 = openfl_text_TextField_set_scrollV(r0,r5);
	return;
	label$4cc5e74_47_9:
	r5 = r0->__caretIndex;
	r5 = openfl_text_TextField_getLineIndexOfChar(r0,r5);
	r7 = -1;
	if( r5 != r7 ) goto label$4cc5e74_47_23;
	r6 = r0->__caretIndex;
	r7 = 0;
	if( r7 >= r6 ) goto label$4cc5e74_47_23;
	r6 = r0->__caretIndex;
	r7 = 1;
	r6 = r6 - r7;
	r6 = openfl_text_TextField_getLineIndexOfChar(r0,r6);
	r7 = 1;
	r6 = r6 + r7;
	r5 = r6;
	label$4cc5e74_47_23:
	r7 = 1;
	r6 = r5 + r7;
	r7 = openfl_text_TextField_get_scrollV(r0);
	if( r6 >= r7 ) goto label$4cc5e74_47_31;
	r7 = 1;
	r6 = r5 + r7;
	r6 = openfl_text_TextField_set_scrollV(r0,r6);
	goto label$4cc5e74_47_81;
	label$4cc5e74_47_31:
	r7 = 1;
	r6 = r5 + r7;
	r7 = openfl_text_TextField_get_bottomScrollV(r0);
	if( r7 >= r6 ) goto label$4cc5e74_47_79;
	r6 = r5;
	r2 = 0.;
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->lineHeights;
	if( r9 == NULL ) hl_null_access();
	r8 = openfl__Vector_FloatVector_get_length(r9);
	if( r5 < r8 ) goto label$4cc5e74_47_51;
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->lineHeights;
	if( r9 == NULL ) hl_null_access();
	r7 = openfl__Vector_FloatVector_get_length(r9);
	r8 = 1;
	r7 = r7 - r8;
	r6 = r7;
	label$4cc5e74_47_51:
	r8 = 0;
	if( r6 < r8 ) goto label$4cc5e74_47_77;
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->lineHeights;
	if( r9 == NULL ) hl_null_access();
	r4 = openfl__Vector_FloatVector_get(r9,r6);
	r3 = r2 + r4;
	r2 = r3;
	r4 = openfl_text_TextField_get_height(r0);
	r11 = 4.;
	r4 = r4 - r11;
	if( !(r4 < r3) ) goto label$4cc5e74_47_75;
	r4 = openfl_text_TextField_get_height(r0);
	r3 = r3 - r4;
	r4 = 0.;
	if( !(r3 < r4) ) goto label$4cc5e74_47_71;
	r8 = 1;
	goto label$4cc5e74_47_72;
	label$4cc5e74_47_71:
	r8 = 2;
	label$4cc5e74_47_72:
	r7 = r6 + r8;
	r6 = r7;
	goto label$4cc5e74_47_77;
	label$4cc5e74_47_75:
	--r6;
	goto label$4cc5e74_47_51;
	label$4cc5e74_47_77:
	r7 = openfl_text_TextField_set_scrollV(r0,r6);
	goto label$4cc5e74_47_81;
	label$4cc5e74_47_79:
	r6 = openfl_text_TextField_get_scrollV(r0);
	r6 = openfl_text_TextField_set_scrollV(r0,r6);
	label$4cc5e74_47_81:
	return;
}

void openfl_text_TextField___updateMouseDrag(openfl__text__TextField r0) {
	openfl__events__MouseEvent r9;
	openfl__display__Stage r2;
	double r3, r4, r5;
	int r6, r7, r8;
	r2 = r0->stage;
	if( r2 ) goto label$4cc5e74_48_3;
	return;
	label$4cc5e74_48_3:
	r3 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r4 = openfl_text_TextField_get_width(r0);
	r5 = 1.;
	r4 = r4 - r5;
	if( !(r4 < r3) ) goto label$4cc5e74_48_22;
	r6 = openfl_text_TextField_get_scrollH(r0);
	r3 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r4 = openfl_text_TextField_get_width(r0);
	r3 = r3 - r4;
	r4 = 0.10000000000000001;
	r3 = r3 * r4;
	r4 = 10.;
	r3 = Math_min(r3,r4);
	r4 = 1.;
	r3 = Math_max(r3,r4);
	r8 = (int)r3;
	r7 = r6 + r8;
	r7 = openfl_text_TextField_set_scrollH(r0,r7);
	goto label$4cc5e74_48_36;
	label$4cc5e74_48_22:
	r3 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r4 = 1.;
	if( !(r3 < r4) ) goto label$4cc5e74_48_36;
	r6 = openfl_text_TextField_get_scrollH(r0);
	r3 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r4 = -0.10000000000000001;
	r3 = r3 * r4;
	r4 = 10.;
	r3 = Math_min(r3,r4);
	r4 = 1.;
	r3 = Math_max(r3,r4);
	r8 = (int)r3;
	r7 = r6 - r8;
	r7 = openfl_text_TextField_set_scrollH(r0,r7);
	label$4cc5e74_48_36:
	r6 = r0->__mouseScrollVCounter;
	++r6;
	r0->__mouseScrollVCounter = r6;
	r6 = r0->__mouseScrollVCounter;
	r3 = (double)r6;
	r2 = r0->stage;
	if( r2 == NULL ) hl_null_access();
	r4 = openfl_display_Stage_get_frameRate(r2);
	r5 = 10.;
	r4 = r4 / r5;
	if( !(r4 < r3) ) goto label$4cc5e74_48_86;
	r3 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r4 = openfl_text_TextField_get_height(r0);
	r5 = 2.;
	r4 = r4 - r5;
	if( !(r4 < r3) ) goto label$4cc5e74_48_70;
	r6 = openfl_text_TextField_get_scrollV(r0);
	r3 = (double)r6;
	r4 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r5 = openfl_text_TextField_get_height(r0);
	r4 = r4 - r5;
	r5 = 0.029999999999999999;
	r4 = r4 * r5;
	r5 = 5.;
	r4 = Math_min(r4,r5);
	r5 = 1.;
	r4 = Math_max(r4,r5);
	r3 = r3 + r4;
	r6 = openfl_text_TextField_get_maxScrollV(r0);
	r4 = (double)r6;
	r3 = Math_min(r3,r4);
	r6 = (int)r3;
	r6 = openfl_text_TextField_set_scrollV(r0,r6);
	goto label$4cc5e74_48_84;
	label$4cc5e74_48_70:
	r3 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r4 = 2.;
	if( !(r3 < r4) ) goto label$4cc5e74_48_84;
	r6 = openfl_text_TextField_get_scrollV(r0);
	r3 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r4 = -0.029999999999999999;
	r3 = r3 * r4;
	r4 = 5.;
	r3 = Math_min(r3,r4);
	r4 = 1.;
	r3 = Math_max(r3,r4);
	r8 = (int)r3;
	r7 = r6 - r8;
	r7 = openfl_text_TextField_set_scrollV(r0,r7);
	label$4cc5e74_48_84:
	r6 = 0;
	r0->__mouseScrollVCounter = r6;
	label$4cc5e74_48_86:
	r9 = NULL;
	openfl_text_TextField_stage_onMouseMove(r0,r9);
	return;
}

void openfl_text_TextField___updateText(openfl__text__TextField r0,String r1) {
	String r2, r11, r12;
	bool r9;
	openfl__display__InteractiveObject r6;
	openfl__display__Stage r5;
	openfl__text___internal__TextEngine r3;
	int r7, r8, r10;
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = openfl_text__internal_TextEngine_set_text(r3,r1);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->text;
	r0->__text = r2;
	r5 = r0->stage;
	if( !r5 ) goto label$4cc5e74_49_32;
	r5 = r0->stage;
	if( r5 == NULL ) hl_null_access();
	r6 = openfl_display_Stage_get_focus(r5);
	if( r6 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_49_32;
	r2 = r0->__text;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r8 = r0->__selectionIndex;
	if( r7 >= r8 ) goto label$4cc5e74_49_22;
	r2 = r0->__text;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r0->__selectionIndex = r7;
	label$4cc5e74_49_22:
	r2 = r0->__text;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r8 = r0->__caretIndex;
	if( r7 >= r8 ) goto label$4cc5e74_49_31;
	r2 = r0->__text;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r0->__caretIndex = r7;
	label$4cc5e74_49_31:
	goto label$4cc5e74_49_44;
	label$4cc5e74_49_32:
	r9 = r0->__isHTML;
	if( !r9 ) goto label$4cc5e74_49_40;
	r2 = r0->__text;
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r0->__caretIndex = r7;
	r0->__selectionIndex = r7;
	goto label$4cc5e74_49_44;
	label$4cc5e74_49_40:
	r7 = 0;
	r0->__selectionIndex = r7;
	r7 = 0;
	r0->__caretIndex = r7;
	label$4cc5e74_49_44:
	r9 = r0->__displayAsPassword;
	if( r9 ) goto label$4cc5e74_49_51;
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r0->__text;
	r2 = openfl_text__internal_TextEngine_set_text(r3,r2);
	goto label$4cc5e74_49_67;
	label$4cc5e74_49_51:
	r2 = openfl_text_TextField_get_text(r0);
	if( r2 == NULL ) hl_null_access();
	r7 = r2->length;
	r2 = (String)s$;
	r8 = 0;
	r10 = r7;
	label$4cc5e74_49_57:
	if( r8 >= r10 ) goto label$4cc5e74_49_64;
	++r8;
	r12 = (String)s$3389dae;
	r11 = String___add__(r2,r12);
	r2 = r11;
	goto label$4cc5e74_49_57;
	label$4cc5e74_49_64:
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r11 = openfl_text__internal_TextEngine_set_text(r3,r2);
	label$4cc5e74_49_67:
	return;
}

void openfl_text_TextField___updateTransforms(openfl__text__TextField r0,openfl__geom__Matrix r1) {
	openfl__geom__Matrix r3;
	double r4, r5, r6, r7, r8;
	openfl_display_DisplayObject___updateTransforms(((openfl__display__DisplayObject)r0),r1);
	r3 = r0->__renderTransform;
	r4 = r0->__offsetX;
	r5 = r0->__offsetY;
	if( r3 == NULL ) hl_null_access();
	r7 = r3->a;
	r6 = r4 * r7;
	r8 = r3->c;
	r7 = r5 * r8;
	r6 = r6 + r7;
	r7 = r3->tx;
	r6 = r6 + r7;
	r3->tx = r6;
	r7 = r3->b;
	r6 = r4 * r7;
	r8 = r3->d;
	r7 = r5 * r8;
	r6 = r6 + r7;
	r7 = r3->ty;
	r6 = r6 + r7;
	r3->ty = r6;
	return;
}

vdynamic* openfl_text_TextField_get_antiAliasType(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	vdynamic *r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->antiAliasType;
	return r1;
}

vdynamic* openfl_text_TextField_set_antiAliasType(openfl__text__TextField r0,vdynamic* r1) {
	bool r2;
	openfl__text___internal__TextEngine r4;
	vdynamic *r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->antiAliasType;
	if( r1 != r3 && (!r1 || !r3 || (r1->v.i != r3->v.i)) ) goto label$4cc5e74_52_6;
	r2 = false;
	goto label$4cc5e74_52_7;
	label$4cc5e74_52_6:
	r2 = true;
	label$4cc5e74_52_7:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->antiAliasType = r1;
	return r1;
}

vdynamic* openfl_text_TextField_get_autoSize(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	vdynamic *r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->autoSize;
	return r1;
}

vdynamic* openfl_text_TextField_set_autoSize(openfl__text__TextField r0,vdynamic* r1) {
	bool r5;
	openfl__text___internal__TextEngine r4;
	vdynamic *r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->autoSize;
	if( r1 == r3 || (r1 && r3 && (r1->v.i == r3->v.i)) ) goto label$4cc5e74_54_13;
	r5 = true;
	r0->__dirty = r5;
	r5 = true;
	r0->__layoutDirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_54_13;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_54_13:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->autoSize = r1;
	return r1;
}

bool openfl_text_TextField_get_background(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->background;
	return r1;
}

bool openfl_text_TextField_set_background(openfl__text__TextField r0,bool r1) {
	bool r3, r4;
	openfl__text___internal__TextEngine r5;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->background;
	if( r1 == r4 ) goto label$4cc5e74_56_11;
	r3 = true;
	r0->__dirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_56_11;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_56_11:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->background = r1;
	return r1;
}

int openfl_text_TextField_get_backgroundColor(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	int r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->backgroundColor;
	return r1;
}

int openfl_text_TextField_set_backgroundColor(openfl__text__TextField r0,int r1) {
	bool r5;
	openfl__text___internal__TextEngine r4;
	int r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->backgroundColor;
	if( r1 == r3 ) goto label$4cc5e74_58_11;
	r5 = true;
	r0->__dirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_58_11;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_58_11:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->backgroundColor = r1;
	return r1;
}

bool openfl_text_TextField_get_border(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->border;
	return r1;
}

bool openfl_text_TextField_set_border(openfl__text__TextField r0,bool r1) {
	bool r3, r4;
	openfl__text___internal__TextEngine r5;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->border;
	if( r1 == r4 ) goto label$4cc5e74_60_11;
	r3 = true;
	r0->__dirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_60_11;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_60_11:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->border = r1;
	return r1;
}

int openfl_text_TextField_get_borderColor(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	int r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->borderColor;
	return r1;
}

int openfl_text_TextField_set_borderColor(openfl__text__TextField r0,int r1) {
	bool r5;
	openfl__text___internal__TextEngine r4;
	int r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->borderColor;
	if( r1 == r3 ) goto label$4cc5e74_62_11;
	r5 = true;
	r0->__dirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_62_11;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_62_11:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->borderColor = r1;
	return r1;
}

int openfl_text_TextField_get_bottomScrollV(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	int r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = openfl_text__internal_TextEngine_get_bottomScrollV(r3);
	return r2;
}

int openfl_text_TextField_get_caretIndex(openfl__text__TextField r0) {
	int r1;
	r1 = r0->__caretIndex;
	return r1;
}

openfl__text__TextFormat openfl_text_TextField_get_defaultTextFormat(openfl__text__TextField r0) {
	openfl__text__TextFormat r1;
	r1 = r0->__textFormat;
	if( r1 == NULL ) hl_null_access();
	r1 = openfl_text_TextFormat_clone(r1);
	return r1;
}

openfl__text__TextFormat openfl_text_TextField_set_defaultTextFormat(openfl__text__TextField r0,openfl__text__TextFormat r1) {
	openfl__text__TextFormat r3;
	bool r4;
	r3 = r0->__textFormat;
	if( r3 == NULL ) hl_null_access();
	openfl_text_TextFormat___merge(r3,r1);
	r4 = true;
	r0->__layoutDirty = r4;
	r4 = true;
	r0->__dirty = r4;
	r4 = r0->__renderDirty;
	if( r4 ) goto label$4cc5e74_66_12;
	r4 = true;
	r0->__renderDirty = r4;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_66_12:
	return r1;
}

bool openfl_text_TextField_get_displayAsPassword(openfl__text__TextField r0) {
	bool r1;
	r1 = r0->__displayAsPassword;
	return r1;
}

bool openfl_text_TextField_set_displayAsPassword(openfl__text__TextField r0,bool r1) {
	String r5;
	bool r3, r4;
	r4 = r0->__displayAsPassword;
	if( r1 == r4 ) goto label$4cc5e74_68_14;
	r3 = true;
	r0->__dirty = r3;
	r3 = true;
	r0->__layoutDirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_68_11;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_68_11:
	r0->__displayAsPassword = r1;
	r5 = r0->__text;
	openfl_text_TextField___updateText(r0,r5);
	label$4cc5e74_68_14:
	return r1;
}

bool openfl_text_TextField_get_embedFonts(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->embedFonts;
	return r1;
}

bool openfl_text_TextField_set_embedFonts(openfl__text__TextField r0,bool r1) {
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r2->embedFonts = r1;
	return r1;
}

vdynamic* openfl_text_TextField_get_gridFitType(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	vdynamic *r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->gridFitType;
	return r1;
}

vdynamic* openfl_text_TextField_set_gridFitType(openfl__text__TextField r0,vdynamic* r1) {
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r2->gridFitType = r1;
	return r1;
}

double openfl_text_TextField_get_height(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	double r2, r4;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->height;
	r4 = openfl_display_DisplayObject_get_scaleY(((openfl__display__DisplayObject)r0));
	r4 = hl_math_abs(r4);
	r2 = r2 * r4;
	return r2;
}

double openfl_text_TextField_set_height(openfl__text__TextField r0,double r1) {
	bool r6;
	openfl__text___internal__TextEngine r5;
	double r3, r4;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->height;
	if( r1 == r4 ) goto label$4cc5e74_74_17;
	openfl_display_DisplayObject___setTransformDirty(((openfl__display__DisplayObject)r0));
	r6 = true;
	r0->__dirty = r6;
	r6 = true;
	r0->__layoutDirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_74_14;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_74_14:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->height = r1;
	label$4cc5e74_74_17:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->height;
	r4 = openfl_display_DisplayObject_get_scaleY(((openfl__display__DisplayObject)r0));
	r4 = hl_math_abs(r4);
	r3 = r3 * r4;
	return r3;
}

String openfl_text_TextField_get_htmlText(openfl__text__TextField r0) {
	String r2;
	bool r1;
	r1 = r0->__isHTML;
	if( !r1 ) goto label$4cc5e74_75_4;
	r2 = r0->__htmlText;
	return r2;
	label$4cc5e74_75_4:
	r2 = r0->__text;
	return r2;
}

String openfl_text_TextField_set_htmlText(openfl__text__TextField r0,String r1) {
	String r4, r5;
	openfl__text__TextFormat r8;
	bool r3;
	openfl__text__StyleSheet r7;
	EReg r6;
	openfl__text___internal__TextEngine r10;
	openfl___Vector__ObjectVector r9;
	r3 = r0->__isHTML;
	if( !r3 ) goto label$4cc5e74_76_4;
	r4 = r0->__text;
	if( r4 == r1 || (r4 && r1 && String___compare(r4,(vdynamic*)r1) == 0) ) goto label$4cc5e74_76_13;
	label$4cc5e74_76_4:
	r3 = true;
	r0->__dirty = r3;
	r3 = true;
	r0->__layoutDirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_76_13;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_76_13:
	r3 = true;
	r0->__isHTML = r3;
	r3 = r0->condenseWhite;
	if( !r3 ) goto label$4cc5e74_76_24;
	r6 = (EReg)hl_alloc_obj(&t$EReg);
	r4 = (String)s$_s_;
	r5 = (String)s$g;
	EReg_new(r6,r4,r5);
	r5 = (String)s$7215ee9;
	r4 = EReg_replace(r6,r1,r5);
	r1 = r4;
	label$4cc5e74_76_24:
	r0->__htmlText = r1;
	r3 = openfl_text_TextField_get_multiline(r0);
	r7 = r0->__styleSheet;
	r8 = r0->__textFormat;
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->textFormatRanges;
	r4 = openfl_text__internal_HTMLParser_parse(r1,r3,r7,r8,r9);
	openfl_text_TextField___updateText(r0,r4);
	return r4;
}

int openfl_text_TextField_get_length(openfl__text__TextField r0) {
	String r1;
	int r2;
	r1 = r0->__text;
	if( !r1 ) goto label$4cc5e74_77_6;
	r1 = r0->__text;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->length;
	return r2;
	label$4cc5e74_77_6:
	r2 = 0;
	return r2;
}

int openfl_text_TextField_get_maxChars(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	int r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->maxChars;
	return r1;
}

int openfl_text_TextField_set_maxChars(openfl__text__TextField r0,int r1) {
	bool r5;
	openfl__text___internal__TextEngine r4;
	int r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->maxChars;
	if( r1 == r3 ) goto label$4cc5e74_79_16;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->maxChars = r1;
	r5 = true;
	r0->__dirty = r5;
	r5 = true;
	r0->__layoutDirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_79_16;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_79_16:
	return r1;
}

int openfl_text_TextField_get_maxScrollH(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	int r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->maxScrollH;
	return r2;
}

int openfl_text_TextField_get_maxScrollV(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	int r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = openfl_text__internal_TextEngine_get_maxScrollV(r3);
	return r2;
}

bool openfl_text_TextField_get_mouseWheelEnabled(openfl__text__TextField r0) {
	bool r1;
	r1 = r0->__mouseWheelEnabled;
	return r1;
}

bool openfl_text_TextField_set_mouseWheelEnabled(openfl__text__TextField r0,bool r1) {
	r0->__mouseWheelEnabled = r1;
	return r1;
}

bool openfl_text_TextField_get_multiline(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->multiline;
	return r1;
}

bool openfl_text_TextField_set_multiline(openfl__text__TextField r0,bool r1) {
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r2->multiline = r1;
	return r1;
}

int openfl_text_TextField_get_numLines(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	int r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->numLines;
	return r2;
}

String openfl_text_TextField_get_restrict(openfl__text__TextField r0) {
	String r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->_restrict;
	return r1;
}

String openfl_text_TextField_set_restrict(openfl__text__TextField r0,String r1) {
	String r3;
	openfl__text___internal__TextEngine r4;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->_restrict;
	if( r3 == r1 || (r3 && r1 && String___compare(r3,(vdynamic*)r1) == 0) ) goto label$4cc5e74_88_9;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = openfl_text__internal_TextEngine_set_restrict(r4,r1);
	r3 = r0->__text;
	openfl_text_TextField___updateText(r0,r3);
	label$4cc5e74_88_9:
	return r1;
}

int openfl_text_TextField_get_scrollH(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	int r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->scrollH;
	return r1;
}

int openfl_text_TextField_set_scrollH(openfl__text__TextField r0,int r1) {
	bool *r9, *r10;
	String r8;
	bool r6;
	openfl__events__Event r7;
	openfl__text___internal__TextEngine r5;
	int r3, r4;
	openfl_text_TextField___updateLayout(r0);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->maxScrollH;
	if( r4 >= r1 ) goto label$4cc5e74_90_9;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->maxScrollH;
	r1 = r3;
	label$4cc5e74_90_9:
	r4 = 0;
	if( r1 >= r4 ) goto label$4cc5e74_90_13;
	r3 = 0;
	r1 = r3;
	label$4cc5e74_90_13:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->scrollH;
	if( r1 == r4 ) goto label$4cc5e74_90_33;
	r6 = true;
	r0->__dirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_90_24;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_90_24:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->scrollH = r1;
	r7 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r8 = (String)s$scroll;
	r9 = NULL;
	r10 = NULL;
	openfl_events_Event_new(r7,r8,r9,r10);
	r6 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r7);
	label$4cc5e74_90_33:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->scrollH;
	return r3;
}

int openfl_text_TextField_get_scrollV(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	int r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = openfl_text__internal_TextEngine_get_scrollV(r2);
	return r1;
}

int openfl_text_TextField_set_scrollV(openfl__text__TextField r0,int r1) {
	bool *r9, *r10;
	String r8;
	bool r6;
	openfl__events__Event r7;
	openfl__text___internal__TextEngine r5;
	int r3, r4;
	openfl_text_TextField___updateLayout(r0);
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = openfl_text__internal_TextEngine_get_scrollV(r5);
	if( r1 != r4 ) goto label$4cc5e74_92_10;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = openfl_text__internal_TextEngine_get_scrollV(r5);
	r4 = 0;
	if( r3 != r4 ) goto label$4cc5e74_92_26;
	label$4cc5e74_92_10:
	r6 = true;
	r0->__dirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_92_17;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_92_17:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = openfl_text__internal_TextEngine_set_scrollV(r5,r1);
	r7 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r8 = (String)s$scroll;
	r9 = NULL;
	r10 = NULL;
	openfl_events_Event_new(r7,r8,r9,r10);
	r6 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r7);
	label$4cc5e74_92_26:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = openfl_text__internal_TextEngine_get_scrollV(r5);
	return r3;
}

bool openfl_text_TextField_get_selectable(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->selectable;
	return r1;
}

bool openfl_text_TextField_set_selectable(openfl__text__TextField r0,bool r1) {
	openfl__display__InteractiveObject r9;
	bool r3;
	openfl__display__Stage r8;
	openfl__text___internal__TextEngine r4;
	vdynamic *r5, *r7;
	int r6;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->selectable;
	if( r1 == r3 ) goto label$4cc5e74_94_18;
	r5 = openfl_text_TextField_get_type(r0);
	r6 = 1;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r6;
	if( r5 != r7 && (!r5 || !r7 || (r5->v.i != r7->v.i)) ) goto label$4cc5e74_94_18;
	r8 = r0->stage;
	if( !r8 ) goto label$4cc5e74_94_16;
	r8 = r0->stage;
	if( r8 == NULL ) hl_null_access();
	r9 = openfl_display_Stage_get_focus(r8);
	if( r9 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_94_16;
	openfl_text_TextField___startTextInput(r0);
	goto label$4cc5e74_94_18;
	label$4cc5e74_94_16:
	if( r1 ) goto label$4cc5e74_94_18;
	openfl_text_TextField___stopTextInput(r0);
	label$4cc5e74_94_18:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->selectable = r1;
	return r1;
}

int openfl_text_TextField_get_selectionBeginIndex(openfl__text__TextField r0) {
	double r1, r3;
	int r2;
	r2 = r0->__caretIndex;
	r1 = (double)r2;
	r2 = r0->__selectionIndex;
	r3 = (double)r2;
	r1 = Math_min(r1,r3);
	r2 = (int)r1;
	return r2;
}

int openfl_text_TextField_get_selectionEndIndex(openfl__text__TextField r0) {
	double r1, r3;
	int r2;
	r2 = r0->__caretIndex;
	r1 = (double)r2;
	r2 = r0->__selectionIndex;
	r3 = (double)r2;
	r1 = Math_max(r1,r3);
	r2 = (int)r1;
	return r2;
}

double openfl_text_TextField_get_sharpness(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	double r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->sharpness;
	return r1;
}

double openfl_text_TextField_set_sharpness(openfl__text__TextField r0,double r1) {
	bool r5;
	openfl__text___internal__TextEngine r4;
	double r3;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->sharpness;
	if( r1 == r3 ) goto label$4cc5e74_98_11;
	r5 = true;
	r0->__dirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_98_11;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_98_11:
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r4->sharpness = r1;
	return r1;
}

openfl__text__StyleSheet openfl_text_TextField_get_styleSheet(openfl__text__TextField r0) {
	openfl__text__StyleSheet r1;
	r1 = r0->__styleSheet;
	return r1;
}

openfl__text__StyleSheet openfl_text_TextField_set_styleSheet(openfl__text__TextField r0,openfl__text__StyleSheet r1) {
	String r6;
	bool r4;
	openfl__text__StyleSheet r3, r5;
	vdynamic *r7;
	int r8;
	r3 = r0->__styleSheet;
	if( !r3 ) goto label$4cc5e74_100_3;
	if( !r1 ) goto label$4cc5e74_100_22;
	label$4cc5e74_100_3:
	if( !r1 ) goto label$4cc5e74_100_22;
	r4 = r0->__isHTML;
	if( !r4 ) goto label$4cc5e74_100_19;
	r5 = r0->__styleSheet;
	if( r1 == r5 ) goto label$4cc5e74_100_19;
	r4 = true;
	r0->__dirty = r4;
	r4 = true;
	r0->__layoutDirty = r4;
	r4 = r0->__renderDirty;
	if( r4 ) goto label$4cc5e74_100_17;
	r4 = true;
	r0->__renderDirty = r4;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_100_17:
	r6 = r0->__htmlText;
	r6 = openfl_text_TextField_set_htmlText(r0,r6);
	label$4cc5e74_100_19:
	r8 = 0;
	r7 = hl_alloc_dynamic(&t$_i32);
	r7->v.i = r8;
	r7 = openfl_text_TextField_set_type(r0,r7);
	label$4cc5e74_100_22:
	r0->__styleSheet = r1;
	return r1;
}

bool openfl_text_TextField_get_tabEnabled(openfl__text__TextField r0) {
	bool r2;
	openfl__text___internal__TextEngine r4;
	vdynamic *r1, *r3, *r6;
	int r5;
	r1 = r0->__tabEnabled;
	if( r1 ) goto label$4cc5e74_101_12;
	r4 = r0->__textEngine;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->type;
	r5 = 1;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r5;
	if( r3 == r6 || (r3 && r6 && (r3->v.i == r6->v.i)) ) goto label$4cc5e74_101_10;
	r2 = false;
	goto label$4cc5e74_101_11;
	label$4cc5e74_101_10:
	r2 = true;
	label$4cc5e74_101_11:
	return r2;
	label$4cc5e74_101_12:
	r1 = r0->__tabEnabled;
	r2 = r1 ? r1->v.b : 0;
	return r2;
}

String openfl_text_TextField_get_text(openfl__text__TextField r0) {
	String r1;
	r1 = r0->__text;
	return r1;
}

String openfl_text_TextField_set_text(openfl__text__TextField r0,String r1) {
	bool *r18;
	String r4;
	openfl__text__TextFormat r21;
	hl__types__ArrayObj r17;
	vvirtual *r11, *r12;
	hl_type *r15;
	bool r6;
	openfl__text___internal__TextFormatRange r20;
	openfl__text__StyleSheet r3;
	openfl__text___internal__TextEngine r9;
	hl__types__ArrayDyn r13;
	vdynamic *r5;
	varray *r14;
	openfl___Vector__ObjectVector r8;
	int r7, r10, r16, r19;
	r3 = r0->__styleSheet;
	if( !r3 ) goto label$4cc5e74_103_4;
	r4 = openfl_text_TextField_set_htmlText(r0,r1);
	return r4;
	label$4cc5e74_103_4:
	r6 = r0->__isHTML;
	if( r6 ) goto label$4cc5e74_103_8;
	r4 = r0->__text;
	if( r4 == r1 || (r4 && r1 && String___compare(r4,(vdynamic*)r1) == 0) ) goto label$4cc5e74_103_18;
	label$4cc5e74_103_8:
	r6 = true;
	r0->__dirty = r6;
	r6 = true;
	r0->__layoutDirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_103_17;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_103_17:
	goto label$4cc5e74_103_19;
	label$4cc5e74_103_18:
	return r1;
	label$4cc5e74_103_19:
	r9 = r0->__textEngine;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->textFormatRanges;
	if( r8 == NULL ) hl_null_access();
	r7 = openfl__Vector_ObjectVector_get_length(r8);
	r10 = 1;
	if( r10 >= r7 ) goto label$4cc5e74_103_76;
	r9 = r0->__textEngine;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->textFormatRanges;
	if( r8 ) goto label$4cc5e74_103_32;
	r11 = NULL;
	goto label$4cc5e74_103_36;
	label$4cc5e74_103_32:
	r11 = r8->f$3;
	if( r11 ) goto label$4cc5e74_103_36;
	r11 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r8);
	r8->f$3 = r11;
	label$4cc5e74_103_36:
	r9 = r0->__textEngine;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->textFormatRanges;
	if( r8 == NULL ) hl_null_access();
	r7 = openfl__Vector_ObjectVector_get_length(r8);
	r10 = 1;
	r7 = r7 - r10;
	if( r11 == NULL ) hl_null_access();
	r10 = 1;
	if( hl_vfields(r11)[24] ) *(int*)(hl_vfields(r11)[24]) = (int)r10; else hl_dyn_seti(r11->value,39119043/*__tempIndex*/,&t$_i32,r10);
	r10 = 0;
	r15 = &t$_dyn;
	r16 = 0;
	r14 = hl_alloc_array(r15,r16);
	r17 = hl_types_ArrayObj_alloc(r14);
	r6 = true;
	r18 = &r6;
	r13 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r17),r18);
	label$4cc5e74_103_54:
	if( r13 == NULL ) hl_null_access();
	r19 = hl_types_ArrayDyn_get_length(r13);
	if( r10 >= r19 ) goto label$4cc5e74_103_71;
	r16 = r10;
	++r10;
	r5 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r13->$type->vobj_proto[0])(r13,r16);
	r8 = (openfl___Vector__ObjectVector)hl_dyn_castp(&r11,&t$vrt_e24d085,&t$openfl__Vector_ObjectVector);
	if( r8 == NULL ) hl_null_access();
	if( r11 == NULL ) hl_null_access();
	r16 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,39119043/*__tempIndex*/,&t$_i32);
	r20 = (openfl__text___internal__TextFormatRange)hl_dyn_castp(&r5,&t$_dyn,&t$openfl_text__internal_TextFormatRange);
	openfl__Vector_ObjectVector_insertAt(r8,r16,((vdynamic*)r20));
	r16 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,39119043/*__tempIndex*/,&t$_i32);
	++r16;
	if( hl_vfields(r11)[24] ) *(int*)(hl_vfields(r11)[24]) = (int)r16; else hl_dyn_seti(r11->value,39119043/*__tempIndex*/,&t$_i32,r16);
	goto label$4cc5e74_103_54;
	label$4cc5e74_103_71:
	r8 = (openfl___Vector__ObjectVector)hl_dyn_castp(&r11,&t$vrt_e24d085,&t$openfl__Vector_ObjectVector);
	if( r8 == NULL ) hl_null_access();
	if( r11 == NULL ) hl_null_access();
	r10 = hl_vfields(r11)[24] ? (*(int*)(hl_vfields(r11)[24])) : (int)hl_dyn_geti(r11->value,39119043/*__tempIndex*/,&t$_i32);
	r12 = openfl__Vector_ObjectVector_splice(r8,r10,r7);
	label$4cc5e74_103_76:
	r9 = r0->__textEngine;
	if( r9 == NULL ) hl_null_access();
	r8 = r9->textFormatRanges;
	if( r8 == NULL ) hl_null_access();
	r7 = 0;
	r5 = openfl__Vector_ObjectVector_get(r8,r7);
	r20 = (openfl__text___internal__TextFormatRange)r5;
	if( r20 == NULL ) hl_null_access();
	r21 = r0->__textFormat;
	r20->format = r21;
	r7 = 0;
	r20->start = r7;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->length;
	r20->end = r7;
	r6 = false;
	r0->__isHTML = r6;
	openfl_text_TextField___updateText(r0,r1);
	return r1;
}

int openfl_text_TextField_get_textColor(openfl__text__TextField r0) {
	openfl__text__TextFormat r2;
	vdynamic *r1;
	int r3;
	r2 = r0->__textFormat;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->color;
	r3 = r1 ? r1->v.i : 0;
	return r3;
}

int openfl_text_TextField_set_textColor(openfl__text__TextField r0,int r1) {
	openfl__text__TextFormat r6;
	vvirtual *r8, *r11;
	bool r7;
	openfl__text___internal__TextFormatRange r12;
	openfl__text___internal__TextEngine r10;
	vdynamic *r4, *r5;
	openfl___Vector__ObjectVector r9;
	int r3;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r1;
	r6 = r0->__textFormat;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->color;
	if( r4 == r5 || (r4 && r5 && (r4->v.i == r5->v.i)) ) goto label$4cc5e74_105_12;
	r7 = true;
	r0->__dirty = r7;
	r7 = r0->__renderDirty;
	if( r7 ) goto label$4cc5e74_105_12;
	r7 = true;
	r0->__renderDirty = r7;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_105_12:
	r10 = r0->__textEngine;
	if( r10 == NULL ) hl_null_access();
	r9 = r10->textFormatRanges;
	if( r9 == NULL ) hl_null_access();
	r8 = openfl__Vector_ObjectVector_iterator(r9);
	r11 = hl_to_virtual(&t$vrt_3115162,(vdynamic*)r8);
	label$4cc5e74_105_18:
	if( r11 == NULL ) hl_null_access();
	if( hl_vfields(r11)[0] ) r7 = ((bool (*)(vdynamic*))hl_vfields(r11)[0])(r11->value); else {
		vdynamic ret;
		hl_dyn_call_obj(r11->value,&t$fun_bf7849e,407283053/*hasNext*/,NULL,&ret);
		r7 = (bool)ret.v.i;
	}
	if( !r7 ) goto label$4cc5e74_105_29;
	if( hl_vfields(r11)[1] ) r12 = ((openfl__text___internal__TextFormatRange (*)(vdynamic*))hl_vfields(r11)[1])(r11->value); else {
		r12 = (openfl__text___internal__TextFormatRange)hl_dyn_call_obj(r11->value,&t$fun_2aa4e03,151160317/*next*/,NULL,NULL);
	}
	if( r12 == NULL ) hl_null_access();
	r6 = r12->format;
	if( r6 == NULL ) hl_null_access();
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r1;
	r6->color = r4;
	goto label$4cc5e74_105_18;
	label$4cc5e74_105_29:
	r6 = r0->__textFormat;
	if( r6 == NULL ) hl_null_access();
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r1;
	r6->color = r4;
	r3 = r4 ? r4->v.i : 0;
	return r3;
}

double openfl_text_TextField_get_textWidth(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	double r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->textWidth;
	return r2;
}

double openfl_text_TextField_get_textHeight(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	double r2;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->textHeight;
	return r2;
}

vdynamic* openfl_text_TextField_get_type(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r2;
	vdynamic *r1;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->type;
	return r1;
}

vdynamic* openfl_text_TextField_set_type(openfl__text__TextField r0,vdynamic* r1) {
	bool *r11, *r13;
	String r8;
	openfl__events__FocusEvent r14;
	bool r15;
	openfl__text__StyleSheet r3;
	openfl__text___internal__TextEngine r7;
	vclosure *r9, *r10;
	int *r12;
	vdynamic *r5, *r6, *r16;
	int r4;
	r3 = r0->__styleSheet;
	if( !r3 ) goto label$4cc5e74_109_5;
	r4 = 0;
	r5 = hl_alloc_dynamic(&t$_i32);
	r5->v.i = r4;
	r1 = r5;
	label$4cc5e74_109_5:
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r6 = r7->type;
	if( r1 == r6 || (r1 && r6 && (r1->v.i == r6->v.i)) ) goto label$4cc5e74_109_55;
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r7->type = r1;
	r4 = 1;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r4;
	if( r1 != r6 && (!r1 || !r6 || (r1->v.i != r6->v.i)) ) goto label$4cc5e74_109_33;
	r8 = (String)s$addedToStage;
	r9 = hl_alloc_closure_ptr(&t$fun_14af21a,openfl_text_TextField_this_onAddedToStage,r0);
	if( r9 ) goto label$4cc5e74_109_20;
	r10 = NULL;
	goto label$4cc5e74_109_21;
	label$4cc5e74_109_20:
	r10 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r9);
	label$4cc5e74_109_21:
	r11 = NULL;
	r12 = NULL;
	r13 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r8,r10,r11,r12,r13);
	r14 = NULL;
	openfl_text_TextField_this_onFocusIn(r0,r14);
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r15 = true;
	r16 = hl_alloc_dynbool(r15);
	r7->__useIntAdvances = r16;
	goto label$4cc5e74_109_46;
	label$4cc5e74_109_33:
	r8 = (String)s$addedToStage;
	r9 = hl_alloc_closure_ptr(&t$fun_14af21a,openfl_text_TextField_this_onAddedToStage,r0);
	if( r9 ) goto label$4cc5e74_109_38;
	r10 = NULL;
	goto label$4cc5e74_109_39;
	label$4cc5e74_109_38:
	r10 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r9);
	label$4cc5e74_109_39:
	r11 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r0),r8,r10,r11);
	openfl_text_TextField___stopTextInput(r0);
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r16 = NULL;
	r7->__useIntAdvances = r16;
	label$4cc5e74_109_46:
	r15 = true;
	r0->__dirty = r15;
	r15 = true;
	r0->__layoutDirty = r15;
	r15 = r0->__renderDirty;
	if( r15 ) goto label$4cc5e74_109_55;
	r15 = true;
	r0->__renderDirty = r15;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_109_55:
	r7 = r0->__textEngine;
	if( r7 == NULL ) hl_null_access();
	r5 = r7->type;
	return r5;
}

double openfl_text_TextField_get_width(openfl__text__TextField r0) {
	openfl__text___internal__TextEngine r3;
	double r2, r4;
	openfl_text_TextField___updateLayout(r0);
	r3 = r0->__textEngine;
	if( r3 == NULL ) hl_null_access();
	r2 = r3->width;
	r4 = r0->__scaleX;
	r4 = hl_math_abs(r4);
	r2 = r2 * r4;
	return r2;
}

double openfl_text_TextField_set_width(openfl__text__TextField r0,double r1) {
	bool r6;
	openfl__text___internal__TextEngine r5;
	double r3, r4;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->width;
	if( r1 == r4 ) goto label$4cc5e74_111_17;
	openfl_display_DisplayObject___setTransformDirty(((openfl__display__DisplayObject)r0));
	r6 = true;
	r0->__dirty = r6;
	r6 = true;
	r0->__layoutDirty = r6;
	r6 = r0->__renderDirty;
	if( r6 ) goto label$4cc5e74_111_14;
	r6 = true;
	r0->__renderDirty = r6;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_111_14:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->width = r1;
	label$4cc5e74_111_17:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r3 = r5->width;
	r4 = r0->__scaleX;
	r4 = hl_math_abs(r4);
	r3 = r3 * r4;
	return r3;
}

bool openfl_text_TextField_get_wordWrap(openfl__text__TextField r0) {
	bool r1;
	openfl__text___internal__TextEngine r2;
	r2 = r0->__textEngine;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->wordWrap;
	return r1;
}

bool openfl_text_TextField_set_wordWrap(openfl__text__TextField r0,bool r1) {
	bool r3, r4;
	openfl__text___internal__TextEngine r5;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->wordWrap;
	if( r1 == r4 ) goto label$4cc5e74_113_13;
	r3 = true;
	r0->__dirty = r3;
	r3 = true;
	r0->__layoutDirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_113_13;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_113_13:
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r5->wordWrap = r1;
	return r1;
}

double openfl_text_TextField_get_x(openfl__text__TextField r0) {
	openfl__geom__Matrix r2;
	double r1, r3;
	r2 = r0->__transform;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->tx;
	r3 = r0->__offsetX;
	r1 = r1 + r3;
	return r1;
}

double openfl_text_TextField_set_x(openfl__text__TextField r0,double r1) {
	openfl__geom__Matrix r5;
	double r3, r4, r6;
	r5 = r0->__transform;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->tx;
	r6 = r0->__offsetX;
	r4 = r4 + r6;
	if( r1 == r4 ) goto label$4cc5e74_115_7;
	openfl_display_DisplayObject___setTransformDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_115_7:
	r5 = r0->__transform;
	if( r5 == NULL ) hl_null_access();
	r4 = r0->__offsetX;
	r3 = r1 - r4;
	r5->tx = r3;
	return r1;
}

double openfl_text_TextField_get_y(openfl__text__TextField r0) {
	openfl__geom__Matrix r2;
	double r1, r3;
	r2 = r0->__transform;
	if( r2 == NULL ) hl_null_access();
	r1 = r2->ty;
	r3 = r0->__offsetY;
	r1 = r1 + r3;
	return r1;
}

double openfl_text_TextField_set_y(openfl__text__TextField r0,double r1) {
	openfl__geom__Matrix r5;
	double r3, r4, r6;
	r5 = r0->__transform;
	if( r5 == NULL ) hl_null_access();
	r4 = r5->ty;
	r6 = r0->__offsetY;
	r4 = r4 + r6;
	if( r1 == r4 ) goto label$4cc5e74_117_7;
	openfl_display_DisplayObject___setTransformDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_117_7:
	r5 = r0->__transform;
	if( r5 == NULL ) hl_null_access();
	r4 = r0->__offsetY;
	r3 = r1 - r4;
	r5->ty = r3;
	return r1;
}

void openfl_text_TextField_stage_onMouseMove(openfl__text__TextField r0,openfl__events__MouseEvent r1) {
	bool r4, r10;
	openfl__display__Stage r3;
	double r7, r8;
	int r5, r6, r9;
	r3 = r0->stage;
	if( r3 ) goto label$4cc5e74_118_3;
	return;
	label$4cc5e74_118_3:
	r4 = openfl_text_TextField_get_selectable(r0);
	if( !r4 ) goto label$4cc5e74_118_27;
	r5 = r0->__selectionIndex;
	r6 = 0;
	if( r5 < r6 ) goto label$4cc5e74_118_27;
	openfl_text_TextField___updateLayout(r0);
	r7 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r5 = openfl_text_TextField_get_scrollH(r0);
	r8 = (double)r5;
	r7 = r7 + r8;
	r8 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r5 = openfl_text_TextField___getPosition(r0,r7,r8);
	r9 = r0->__caretIndex;
	if( r5 == r9 ) goto label$4cc5e74_118_27;
	r0->__caretIndex = r5;
	r4 = true;
	if( !r4 ) goto label$4cc5e74_118_27;
	r10 = true;
	r0->__dirty = r10;
	r10 = r0->__renderDirty;
	if( r10 ) goto label$4cc5e74_118_27;
	r10 = true;
	r0->__renderDirty = r10;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_118_27:
	return;
}

void openfl_text_TextField_stage_onMouseUp(openfl__text__TextField r0,openfl__events__MouseEvent r1) {
	bool *r9;
	String r6;
	openfl__events__FocusEvent r20;
	bool r19;
	openfl__display__InteractiveObject r11;
	openfl__geom__Matrix r12;
	openfl__display__Stage r3, r5;
	double r14, r15, r18;
	vclosure *r7, *r8, *r10;
	vdynamic *r2;
	int r13, r16, r17;
	if( r1 == NULL ) hl_null_access();
	r2 = r1->currentTarget;
	r3 = (openfl__display__Stage)hl_dyn_castp(&r2,&t$_dyn,&t$openfl_display_Stage);
	if( r3 == NULL ) hl_null_access();
	r6 = (String)s$enterFrame;
	r7 = hl_alloc_closure_ptr(&t$fun_14af21a,openfl_text_TextField_this_onEnterFrame,r0);
	if( r7 ) goto label$4cc5e74_119_9;
	r8 = NULL;
	goto label$4cc5e74_119_10;
	label$4cc5e74_119_9:
	r8 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r7);
	label$4cc5e74_119_10:
	r9 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r3),r6,r8,r9);
	r6 = (String)s$mouseMove;
	r10 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_stage_onMouseMove,r0);
	if( r10 ) goto label$4cc5e74_119_17;
	r8 = NULL;
	goto label$4cc5e74_119_18;
	label$4cc5e74_119_17:
	r8 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r10);
	label$4cc5e74_119_18:
	r9 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r3),r6,r8,r9);
	r6 = (String)s$mouseUp;
	r10 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_stage_onMouseUp,r0);
	if( r10 ) goto label$4cc5e74_119_25;
	r8 = NULL;
	goto label$4cc5e74_119_26;
	label$4cc5e74_119_25:
	r8 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r10);
	label$4cc5e74_119_26:
	r9 = NULL;
	openfl_display_DisplayObject_removeEventListener(((openfl__display__DisplayObject)r3),r6,r8,r9);
	r5 = r0->stage;
	if( r5 ) goto label$4cc5e74_119_31;
	return;
	label$4cc5e74_119_31:
	r11 = openfl_display_Stage_get_focus(r3);
	if( r11 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_119_59;
	r12 = openfl_display_DisplayObject___getWorldTransform(((openfl__display__DisplayObject)r0));
	openfl_text_TextField___updateLayout(r0);
	r14 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r13 = openfl_text_TextField_get_scrollH(r0);
	r15 = (double)r13;
	r14 = r14 + r15;
	r15 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r13 = openfl_text_TextField___getPosition(r0,r14,r15);
	r16 = r0->__selectionIndex;
	r14 = (double)r16;
	r15 = (double)r13;
	r14 = Math_min(r14,r15);
	r16 = (int)r14;
	r17 = r0->__selectionIndex;
	r15 = (double)r17;
	r18 = (double)r13;
	r15 = Math_max(r15,r18);
	r17 = (int)r15;
	r0->__selectionIndex = r16;
	r0->__caretIndex = r17;
	r19 = r0->__inputEnabled;
	if( !r19 ) goto label$4cc5e74_119_59;
	r20 = NULL;
	openfl_text_TextField_this_onFocusIn(r0,r20);
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_119_59:
	return;
}

void openfl_text_TextField_this_onAddedToStage(openfl__text__TextField r0,openfl__events__Event r1) {
	openfl__events__FocusEvent r3;
	r3 = NULL;
	openfl_text_TextField_this_onFocusIn(r0,r3);
	return;
}

void openfl_text_TextField_this_onEnterFrame(openfl__text__TextField r0,openfl__events__Event r1) {
	openfl_text_TextField___updateMouseDrag(r0);
	return;
}

void openfl_text_TextField_this_onFocusIn(openfl__text__TextField r0,openfl__events__FocusEvent r1) {
	bool r8;
	openfl__display__InteractiveObject r7;
	openfl__display__Stage r6;
	vdynamic *r3, *r5;
	int r4;
	r3 = openfl_text_TextField_get_type(r0);
	r4 = 1;
	r5 = hl_alloc_dynamic(&t$_i32);
	r5->v.i = r4;
	if( r3 != r5 && (!r3 || !r5 || (r3->v.i != r5->v.i)) ) goto label$4cc5e74_122_12;
	r6 = r0->stage;
	if( !r6 ) goto label$4cc5e74_122_12;
	r6 = r0->stage;
	if( r6 == NULL ) hl_null_access();
	r7 = openfl_display_Stage_get_focus(r6);
	if( r7 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_122_12;
	openfl_text_TextField___startTextInput(r0);
	goto label$4cc5e74_122_25;
	label$4cc5e74_122_12:
	r3 = openfl_text_TextField_get_type(r0);
	r4 = 1;
	r5 = hl_alloc_dynamic(&t$_i32);
	r5->v.i = r4;
	if( r3 == r5 || (r3 && r5 && (r3->v.i == r5->v.i)) ) goto label$4cc5e74_122_25;
	r8 = openfl_text_TextField_get_selectable(r0);
	if( !r8 ) goto label$4cc5e74_122_25;
	r6 = r0->stage;
	if( !r6 ) goto label$4cc5e74_122_25;
	r6 = r0->stage;
	if( r6 == NULL ) hl_null_access();
	r7 = openfl_display_Stage_get_focus(r6);
	if( r7 != ((openfl__display__InteractiveObject)r0) ) goto label$4cc5e74_122_25;
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_122_25:
	return;
}

void openfl_text_TextField_this_onFocusOut(openfl__text__TextField r0,openfl__events__FocusEvent r1) {
	bool r5;
	int r3, r4;
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___stopTextInput(r0);
	r3 = r0->__selectionIndex;
	r4 = r0->__caretIndex;
	if( r3 == r4 ) goto label$4cc5e74_123_14;
	r3 = r0->__caretIndex;
	r0->__selectionIndex = r3;
	r5 = true;
	r0->__dirty = r5;
	r5 = r0->__renderDirty;
	if( r5 ) goto label$4cc5e74_123_14;
	r5 = true;
	r0->__renderDirty = r5;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_123_14:
	return;
}

void openfl_text_TextField_this_onKeyDown(openfl__text__TextField r0,openfl__events__KeyboardEvent r1) {
	String r8;
	bool r3;
	vdynamic *r4, *r6;
	int r5, r7;
	r3 = openfl_text_TextField_get_selectable(r0);
	if( !r3 ) goto label$4cc5e74_124_24;
	r4 = openfl_text_TextField_get_type(r0);
	r5 = 1;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r5;
	if( r4 == r6 || (r4 && r6 && (r4->v.i == r6->v.i)) ) goto label$4cc5e74_124_24;
	if( r1 == NULL ) hl_null_access();
	r5 = r1->keyCode;
	r7 = 67;
	if( r5 != r7 ) goto label$4cc5e74_124_24;
	r3 = r1->commandKey;
	if( r3 ) goto label$4cc5e74_124_14;
	r3 = r1->ctrlKey;
	if( !r3 ) goto label$4cc5e74_124_24;
	label$4cc5e74_124_14:
	r5 = r0->__caretIndex;
	r7 = r0->__selectionIndex;
	if( r5 == r7 ) goto label$4cc5e74_124_24;
	r8 = r0->__text;
	if( r8 == NULL ) hl_null_access();
	r5 = r0->__caretIndex;
	r7 = r0->__selectionIndex;
	r4 = hl_alloc_dynamic(&t$_i32);
	r4->v.i = r7;
	r8 = String_substring(r8,r5,r4);
	r8 = lime_system_Clipboard_set_text(r8);
	label$4cc5e74_124_24:
	return;
}

void openfl_text_TextField_this_onMouseDown(openfl__text__TextField r0,openfl__events__MouseEvent r1) {
	bool *r13, *r15;
	String r10;
	bool r3;
	openfl__display__Stage r9;
	vclosure *r11, *r12, *r16;
	double r7, r8;
	int *r14;
	vdynamic *r4, *r6;
	int r5;
	r3 = openfl_text_TextField_get_selectable(r0);
	if( r3 ) goto label$4cc5e74_125_7;
	r4 = openfl_text_TextField_get_type(r0);
	r5 = 1;
	r6 = hl_alloc_dynamic(&t$_i32);
	r6->v.i = r5;
	if( r4 == r6 || (r4 && r6 && (r4->v.i == r6->v.i)) ) goto label$4cc5e74_125_7;
	return;
	label$4cc5e74_125_7:
	openfl_text_TextField___updateLayout(r0);
	r7 = openfl_display_DisplayObject_get_mouseX(((openfl__display__DisplayObject)r0));
	r5 = openfl_text_TextField_get_scrollH(r0);
	r8 = (double)r5;
	r7 = r7 + r8;
	r8 = openfl_display_DisplayObject_get_mouseY(((openfl__display__DisplayObject)r0));
	r5 = openfl_text_TextField___getPosition(r0,r7,r8);
	r0->__caretIndex = r5;
	r5 = r0->__caretIndex;
	r0->__selectionIndex = r5;
	r3 = true;
	r0->__dirty = r3;
	r3 = r0->__renderDirty;
	if( r3 ) goto label$4cc5e74_125_24;
	r3 = true;
	r0->__renderDirty = r3;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_125_24:
	r9 = r0->stage;
	if( r9 ) goto label$4cc5e74_125_27;
	return;
	label$4cc5e74_125_27:
	r9 = r0->stage;
	if( r9 == NULL ) hl_null_access();
	r10 = (String)s$enterFrame;
	r11 = hl_alloc_closure_ptr(&t$fun_14af21a,openfl_text_TextField_this_onEnterFrame,r0);
	if( r11 ) goto label$4cc5e74_125_34;
	r12 = NULL;
	goto label$4cc5e74_125_35;
	label$4cc5e74_125_34:
	r12 = hl_alloc_closure_ptr(&t$fun_c6e0b11,wrapt$fun_c6e0b11,r11);
	label$4cc5e74_125_35:
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r9),r10,r12,r13,r14,r15);
	r9 = r0->stage;
	if( r9 == NULL ) hl_null_access();
	r10 = (String)s$mouseMove;
	r16 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_stage_onMouseMove,r0);
	if( r16 ) goto label$4cc5e74_125_46;
	r12 = NULL;
	goto label$4cc5e74_125_47;
	label$4cc5e74_125_46:
	r12 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r16);
	label$4cc5e74_125_47:
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r9),r10,r12,r13,r14,r15);
	r9 = r0->stage;
	if( r9 == NULL ) hl_null_access();
	r10 = (String)s$mouseUp;
	r16 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_stage_onMouseUp,r0);
	if( r16 ) goto label$4cc5e74_125_58;
	r12 = NULL;
	goto label$4cc5e74_125_59;
	label$4cc5e74_125_58:
	r12 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r16);
	label$4cc5e74_125_59:
	r13 = NULL;
	r14 = NULL;
	r15 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r9),r10,r12,r13,r14,r15);
	return;
}

void openfl_text_TextField_this_onMouseWheel(openfl__text__TextField r0,openfl__events__MouseEvent r1) {
	bool r3;
	double r4, r7;
	int r5, r6;
	r3 = openfl_text_TextField_get_mouseWheelEnabled(r0);
	if( !r3 ) goto label$4cc5e74_126_12;
	r5 = openfl_text_TextField_get_scrollV(r0);
	if( r1 == NULL ) hl_null_access();
	r6 = r1->delta;
	r5 = r5 - r6;
	r4 = (double)r5;
	r5 = openfl_text_TextField_get_maxScrollV(r0);
	r7 = (double)r5;
	r4 = Math_min(r4,r7);
	r5 = (int)r4;
	r5 = openfl_text_TextField_set_scrollV(r0,r5);
	label$4cc5e74_126_12:
	return;
}

void openfl_text_TextField_this_onDoubleClick(openfl__text__TextField r0,openfl__events__MouseEvent r1) {
	String r8, r10;
	hl__types__ArrayObj r4;
	hl_type *r6;
	bool r3, r20;
	double r12, r14;
	vdynamic *r18, *r19;
	int r7, r9, r11, r13, r15, r16, r17;
	varray *r5;
	r3 = openfl_text_TextField_get_selectable(r0);
	if( !r3 ) goto label$4cc5e74_127_104;
	openfl_text_TextField___updateLayout(r0);
	r6 = &t$String;
	r7 = 13;
	r5 = hl_alloc_array(r6,r7);
	r8 = (String)s$68b329d;
	r7 = 0;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$5058f1a;
	r7 = 1;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$9033e0e;
	r7 = 2;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$d1457b7;
	r7 = 3;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$c0cb5f0;
	r7 = 4;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$7215ee9;
	r7 = 5;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$9eecb7d;
	r7 = 6;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$853ae90;
	r7 = 7;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$84c4047;
	r7 = 8;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$9371d7a;
	r7 = 9;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$336d5eb;
	r7 = 10;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$b14a7b8;
	r7 = 11;
	((String*)(r5 + 1))[r7] = r8;
	r8 = (String)s$6666cd7;
	r7 = 12;
	((String*)(r5 + 1))[r7] = r8;
	r4 = hl_types_ArrayObj_alloc(r5);
	r8 = r0->__text;
	r7 = -1;
	if( r8 == NULL ) hl_null_access();
	r9 = r8->length;
	r11 = 0;
	r13 = r0->__caretIndex;
	r12 = (double)r13;
	r14 = 1.;
	r12 = Math_max(r12,r14);
	r13 = (int)r12;
	r15 = r8->length;
	r16 = 0;
	if( r16 >= r15 ) goto label$4cc5e74_127_104;
	r15 = r0->__caretIndex;
	r16 = 0;
	if( r15 < r16 ) goto label$4cc5e74_127_104;
	r16 = r0->__caretIndex;
	if( r9 < r16 ) goto label$4cc5e74_127_104;
	r15 = 0;
	label$4cc5e74_127_65:
	if( r4 == NULL ) hl_null_access();
	r17 = r4->length;
	if( r15 >= r17 ) goto label$4cc5e74_127_93;
	r17 = r4->length;
	if( ((unsigned)r15) < ((unsigned)r17) ) goto label$4cc5e74_127_73;
	r10 = NULL;
	goto label$4cc5e74_127_76;
	label$4cc5e74_127_73:
	r5 = r4->array;
	r18 = ((vdynamic**)(r5 + 1))[r15];
	r10 = (String)r18;
	label$4cc5e74_127_76:
	++r15;
	if( r8 == NULL ) hl_null_access();
	r17 = 1;
	r16 = r13 - r17;
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r16;
	r16 = String_lastIndexOf(r8,r10,r19);
	if( r7 >= r16 ) goto label$4cc5e74_127_86;
	r17 = 1;
	r16 = r16 + r17;
	r7 = r16;
	label$4cc5e74_127_86:
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r13;
	r16 = String_indexOf(r8,r10,r19);
	if( r16 >= r9 ) goto label$4cc5e74_127_92;
	r17 = -1;
	if( r16 == r17 ) goto label$4cc5e74_127_92;
	r9 = r16;
	label$4cc5e74_127_92:
	goto label$4cc5e74_127_65;
	label$4cc5e74_127_93:
	if( r7 == r9 ) goto label$4cc5e74_127_104;
	openfl_text_TextField_setSelection(r0,r7,r9);
	r3 = true;
	if( !r3 ) goto label$4cc5e74_127_104;
	r20 = true;
	r0->__dirty = r20;
	r20 = r0->__renderDirty;
	if( r20 ) goto label$4cc5e74_127_104;
	r20 = true;
	r0->__renderDirty = r20;
	openfl_display_DisplayObject___setParentRenderDirty(((openfl__display__DisplayObject)r0));
	label$4cc5e74_127_104:
	return;
}

void openfl_text_TextField_window_onKeyDown(openfl__text__TextField r0,int r1,int r2) {
	bool *r9, *r10;
	String r6, r15;
	bool r7, r11, r14, r16, r17, r23, r24, r25, r26, r27, r28;
	openfl__text___internal__TextFormatRange r22;
	openfl__events__Event r8;
	openfl__text___internal__TextEngine r20;
	openfl__events__TextEvent r13;
	vdynamic *r12, *r18;
	openfl___Vector__ObjectVector r19, r21;
	int r4, r5;
	r5 = 8;
	if( r5 == r1 ) goto label$4cc5e74_128_29;
	r5 = 97;
	if( r5 == r1 ) goto label$4cc5e74_128_57;
	r5 = 99;
	if( r5 == r1 ) goto label$4cc5e74_128_67;
	r5 = 118;
	if( r5 == r1 ) goto label$4cc5e74_128_80;
	r5 = 120;
	if( r5 == r1 ) goto label$4cc5e74_128_126;
	r5 = 127;
	if( r5 == r1 ) goto label$4cc5e74_128_148;
	r5 = 1073741898;
	if( r5 == r1 ) goto label$4cc5e74_128_178;
	r5 = 1073741901;
	if( r5 == r1 ) goto label$4cc5e74_128_194;
	r5 = 1073741903;
	if( r5 == r1 ) goto label$4cc5e74_128_212;
	r5 = 1073741904;
	if( r5 == r1 ) goto label$4cc5e74_128_227;
	r5 = 1073741905;
	if( r5 == r1 ) goto label$4cc5e74_128_242;
	r5 = 1073741906;
	if( r5 == r1 ) goto label$4cc5e74_128_260;
	r5 = 13;
	if( r5 == r1 ) goto label$4cc5e74_128_276;
	r5 = 1073741912;
	if( r5 == r1 ) goto label$4cc5e74_128_276;
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_29:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	if( r4 != r5 ) goto label$4cc5e74_128_39;
	r4 = r0->__caretIndex;
	r5 = 0;
	if( r5 >= r4 ) goto label$4cc5e74_128_39;
	r4 = r0->__caretIndex;
	r5 = 1;
	r4 = r4 - r5;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_39:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	if( r4 == r5 ) goto label$4cc5e74_128_54;
	r6 = (String)s$;
	openfl_text_TextField_replaceSelectedText(r0,r6);
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	r8 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$change;
	r7 = true;
	r9 = &r7;
	r10 = NULL;
	openfl_events_Event_new(r8,r6,r9,r10);
	r7 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r8);
	goto label$4cc5e74_128_56;
	label$4cc5e74_128_54:
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_128_56:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_57:
	r11 = openfl_text_TextField_get_selectable(r0);
	if( !r11 ) goto label$4cc5e74_128_66;
	r11 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r11 ) goto label$4cc5e74_128_66;
	r4 = 0;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_66:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_67:
	r11 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r11 ) goto label$4cc5e74_128_79;
	r4 = r0->__caretIndex;
	r5 = r0->__selectionIndex;
	if( r4 == r5 ) goto label$4cc5e74_128_79;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r4 = r0->__caretIndex;
	r5 = r0->__selectionIndex;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r5;
	r6 = String_substring(r6,r4,r12);
	r6 = lime_system_Clipboard_set_text(r6);
	label$4cc5e74_128_79:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_80:
	r11 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r11 ) goto label$4cc5e74_128_107;
	r6 = lime_system_Clipboard_get_text();
	if( !r6 ) goto label$4cc5e74_128_106;
	r13 = (openfl__events__TextEvent)hl_alloc_obj(&t$openfl_events_TextEvent);
	r6 = (String)s$textInput;
	r11 = true;
	r9 = &r11;
	r14 = true;
	r10 = &r14;
	r15 = lime_system_Clipboard_get_text();
	openfl_events_TextEvent_new(r13,r6,r9,r10,r15);
	r16 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),((openfl__events__Event)r13));
	r16 = openfl_events_Event_isDefaultPrevented(((openfl__events__Event)r13));
	if( r16 ) goto label$4cc5e74_128_106;
	r6 = lime_system_Clipboard_get_text();
	r16 = true;
	r9 = &r16;
	openfl_text_TextField___replaceSelectedText(r0,r6,r9);
	r8 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$change;
	r17 = true;
	r9 = &r17;
	r10 = NULL;
	openfl_events_Event_new(r8,r6,r9,r10);
	r17 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r8);
	label$4cc5e74_128_106:
	goto label$4cc5e74_128_125;
	label$4cc5e74_128_107:
	r20 = r0->__textEngine;
	if( r20 == NULL ) hl_null_access();
	r19 = r20->textFormatRanges;
	if( r19 == NULL ) hl_null_access();
	r20 = r0->__textEngine;
	if( r20 == NULL ) hl_null_access();
	r21 = r20->textFormatRanges;
	if( r21 == NULL ) hl_null_access();
	r4 = openfl__Vector_ObjectVector_get_length(r21);
	r5 = 1;
	r4 = r4 - r5;
	r18 = openfl__Vector_ObjectVector_get(r19,r4);
	r22 = (openfl__text___internal__TextFormatRange)r18;
	if( r22 == NULL ) hl_null_access();
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r22->end = r4;
	label$4cc5e74_128_125:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_126:
	r23 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r23 ) goto label$4cc5e74_128_147;
	r4 = r0->__caretIndex;
	r5 = r0->__selectionIndex;
	if( r4 == r5 ) goto label$4cc5e74_128_147;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r4 = r0->__caretIndex;
	r5 = r0->__selectionIndex;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r5;
	r6 = String_substring(r6,r4,r12);
	r6 = lime_system_Clipboard_set_text(r6);
	r6 = (String)s$;
	openfl_text_TextField_replaceSelectedText(r0,r6);
	r8 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$change;
	r23 = true;
	r9 = &r23;
	r10 = NULL;
	openfl_events_Event_new(r8,r6,r9,r10);
	r23 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r8);
	label$4cc5e74_128_147:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_148:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	if( r4 != r5 ) goto label$4cc5e74_128_160;
	r4 = r0->__caretIndex;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->length;
	if( r4 >= r5 ) goto label$4cc5e74_128_160;
	r4 = r0->__caretIndex;
	r5 = 1;
	r4 = r4 + r5;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_160:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	if( r4 == r5 ) goto label$4cc5e74_128_175;
	r6 = (String)s$;
	openfl_text_TextField_replaceSelectedText(r0,r6);
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	r8 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$change;
	r24 = true;
	r9 = &r24;
	r10 = NULL;
	openfl_events_Event_new(r8,r6,r9,r10);
	r24 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r8);
	goto label$4cc5e74_128_177;
	label$4cc5e74_128_175:
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_128_177:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_178:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_193;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_185;
	r4 = 0;
	r0->__caretIndex = r4;
	goto label$4cc5e74_128_186;
	label$4cc5e74_128_185:
	openfl_text_TextField___caretBeginningOfLine(r0);
	label$4cc5e74_128_186:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_190;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_190:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_193:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_194:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_211;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_203;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r0->__caretIndex = r4;
	goto label$4cc5e74_128_204;
	label$4cc5e74_128_203:
	openfl_text_TextField___caretEndOfLine(r0);
	label$4cc5e74_128_204:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_208;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_208:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_211:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_212:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_226;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_218;
	openfl_text_TextField___caretBeginningOfNextLine(r0);
	goto label$4cc5e74_128_219;
	label$4cc5e74_128_218:
	openfl_text_TextField___caretNextCharacter(r0);
	label$4cc5e74_128_219:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_223;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_223:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_226:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_227:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_241;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_233;
	openfl_text_TextField___caretBeginningOfPreviousLine(r0);
	goto label$4cc5e74_128_234;
	label$4cc5e74_128_233:
	openfl_text_TextField___caretPreviousCharacter(r0);
	label$4cc5e74_128_234:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_238;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_238:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_241:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_242:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_259;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_251;
	r6 = r0->__text;
	if( r6 == NULL ) hl_null_access();
	r4 = r6->length;
	r0->__caretIndex = r4;
	goto label$4cc5e74_128_252;
	label$4cc5e74_128_251:
	openfl_text_TextField___caretNextLine(r0);
	label$4cc5e74_128_252:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_256;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_256:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_259:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_260:
	r25 = openfl_text_TextField_get_selectable(r0);
	if( !r25 ) goto label$4cc5e74_128_275;
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_ctrlKey(r2);
	if( !r25 ) goto label$4cc5e74_128_267;
	r4 = 0;
	r0->__caretIndex = r4;
	goto label$4cc5e74_128_268;
	label$4cc5e74_128_267:
	openfl_text_TextField___caretPreviousLine(r0);
	label$4cc5e74_128_268:
	r25 = lime_ui__KeyModifier_KeyModifier_Impl__get_shiftKey(r2);
	if( r25 ) goto label$4cc5e74_128_272;
	r4 = r0->__caretIndex;
	r0->__selectionIndex = r4;
	label$4cc5e74_128_272:
	r4 = r0->__selectionIndex;
	r5 = r0->__caretIndex;
	openfl_text_TextField_setSelection(r0,r4,r5);
	label$4cc5e74_128_275:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_276:
	r20 = r0->__textEngine;
	if( r20 == NULL ) hl_null_access();
	r25 = r20->multiline;
	if( !r25 ) goto label$4cc5e74_128_303;
	r13 = (openfl__events__TextEvent)hl_alloc_obj(&t$openfl_events_TextEvent);
	r6 = (String)s$textInput;
	r25 = true;
	r9 = &r25;
	r26 = true;
	r10 = &r26;
	r15 = (String)s$68b329d;
	openfl_events_TextEvent_new(r13,r6,r9,r10,r15);
	r27 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),((openfl__events__Event)r13));
	r27 = openfl_events_Event_isDefaultPrevented(((openfl__events__Event)r13));
	if( r27 ) goto label$4cc5e74_128_302;
	r6 = (String)s$68b329d;
	r27 = true;
	r9 = &r27;
	openfl_text_TextField___replaceSelectedText(r0,r6,r9);
	r8 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r6 = (String)s$change;
	r28 = true;
	r9 = &r28;
	r10 = NULL;
	openfl_events_Event_new(r8,r6,r9,r10);
	r28 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r8);
	label$4cc5e74_128_302:
	goto label$4cc5e74_128_305;
	label$4cc5e74_128_303:
	openfl_text_TextField___stopCursorTimer(r0);
	openfl_text_TextField___startCursorTimer(r0);
	label$4cc5e74_128_305:
	return;
}

void openfl_text_TextField_window_onTextInput(openfl__text__TextField r0,String r1) {
	bool *r5, *r8;
	String r3;
	bool r4, r6;
	openfl__events__Event r7;
	r4 = true;
	r5 = &r4;
	openfl_text_TextField___replaceSelectedText(r0,r1,r5);
	r7 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r3 = (String)s$change;
	r6 = true;
	r5 = &r6;
	r8 = NULL;
	openfl_events_Event_new(r7,r3,r5,r8);
	r6 = openfl_display_DisplayObject_dispatchEvent(((openfl__display__DisplayObject)r0),r7);
	return;
}

void openfl_text_TextField_new(openfl__text__TextField r0) {
	bool *r28, *r30;
	openfl__text__$TextField r9;
	String r7, r15, r16;
	openfl__text__TextFormat r8;
	bool r2;
	openfl__text___internal__TextFormatRange r24;
	openfl__text___internal__TextEngine r5;
	openfl__display__Graphics r4;
	vclosure *r26, *r27, *r31, *r32;
	double r6;
	int *r29;
	vdynamic *r10, *r11, *r12, *r13, *r14, *r17, *r18, *r19, *r20, *r21, *r22;
	openfl___Vector__ObjectVector r23;
	int r1, r25;
	r1 = 0;
	r0->__mouseScrollVCounter = r1;
	r2 = false;
	r0->condenseWhite = r2;
	openfl_display_InteractiveObject_new(((openfl__display__InteractiveObject)r0));
	r1 = 7;
	r0->__drawableType = r1;
	r1 = -1;
	r0->__caretIndex = r1;
	r1 = -1;
	r0->__selectionIndex = r1;
	r2 = false;
	r0->__displayAsPassword = r2;
	r4 = (openfl__display__Graphics)hl_alloc_obj(&t$openfl_display_Graphics);
	openfl_display_Graphics_new(r4,((openfl__display__DisplayObject)r0));
	r0->__graphics = r4;
	r5 = (openfl__text___internal__TextEngine)hl_alloc_obj(&t$openfl_text__internal_TextEngine);
	openfl_text__internal_TextEngine_new(r5,r0);
	r0->__textEngine = r5;
	r2 = true;
	r0->__layoutDirty = r2;
	r6 = 0.;
	r0->__offsetX = r6;
	r6 = 0.;
	r0->__offsetY = r6;
	r2 = true;
	r0->__mouseWheelEnabled = r2;
	r7 = (String)s$;
	r0->__text = r7;
	r2 = true;
	r0->doubleClickEnabled = r2;
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 ) goto label$4cc5e74_130_86;
	r8 = (openfl__text__TextFormat)hl_alloc_obj(&t$openfl_text_TextFormat);
	r7 = (String)s$Times_New_Roman;
	r1 = 12;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r1;
	r1 = 0;
	r11 = hl_alloc_dynamic(&t$_i32);
	r11->v.i = r1;
	r2 = false;
	r12 = hl_alloc_dynbool(r2);
	r2 = false;
	r13 = hl_alloc_dynbool(r2);
	r2 = false;
	r14 = hl_alloc_dynbool(r2);
	r15 = (String)s$;
	r16 = (String)s$;
	r1 = 3;
	r17 = hl_alloc_dynamic(&t$_i32);
	r17->v.i = r1;
	r1 = 0;
	r18 = hl_alloc_dynamic(&t$_i32);
	r18->v.i = r1;
	r1 = 0;
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r1;
	r1 = 0;
	r20 = hl_alloc_dynamic(&t$_i32);
	r20->v.i = r1;
	r1 = 0;
	r21 = hl_alloc_dynamic(&t$_i32);
	r21->v.i = r1;
	openfl_text_TextFormat_new(r8,r7,r10,r11,r12,r13,r14,r15,r16,r17,r18,r19,r20,r21);
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r9->__defaultTextFormat = r8;
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 == NULL ) hl_null_access();
	r1 = 0;
	r10 = hl_alloc_dynamic(&t$_i32);
	r10->v.i = r1;
	r8->blockIndent = r10;
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 == NULL ) hl_null_access();
	r2 = false;
	r12 = hl_alloc_dynbool(r2);
	r8->bullet = r12;
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 == NULL ) hl_null_access();
	r1 = 0;
	r6 = (double)r1;
	r22 = hl_alloc_dynamic(&t$_f64);
	r22->v.d = r6;
	r8->letterSpacing = r22;
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 == NULL ) hl_null_access();
	r2 = false;
	r12 = hl_alloc_dynbool(r2);
	r8->kerning = r12;
	label$4cc5e74_130_86:
	r9 = (openfl__text__$TextField)g$_openfl_text_TextField;
	r8 = r9->__defaultTextFormat;
	if( r8 == NULL ) hl_null_access();
	r8 = openfl_text_TextFormat_clone(r8);
	r0->__textFormat = r8;
	r5 = r0->__textEngine;
	if( r5 == NULL ) hl_null_access();
	r23 = r5->textFormatRanges;
	if( r23 == NULL ) hl_null_access();
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	r8 = r0->__textFormat;
	r1 = 0;
	r25 = 0;
	openfl_text__internal_TextFormatRange_new(r24,r8,r1,r25);
	r1 = openfl__Vector_ObjectVector_push(r23,((vdynamic*)r24));
	r7 = (String)s$mouseDown;
	r26 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_this_onMouseDown,r0);
	if( r26 ) goto label$4cc5e74_130_106;
	r27 = NULL;
	goto label$4cc5e74_130_107;
	label$4cc5e74_130_106:
	r27 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r26);
	label$4cc5e74_130_107:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	r7 = (String)s$focusIn;
	r31 = hl_alloc_closure_ptr(&t$fun_6d3d10a,openfl_text_TextField_this_onFocusIn,r0);
	if( r31 ) goto label$4cc5e74_130_116;
	r27 = NULL;
	goto label$4cc5e74_130_117;
	label$4cc5e74_130_116:
	r27 = hl_alloc_closure_ptr(&t$fun_d9b55f3,openfl_text_TextField_new__$1,r31);
	label$4cc5e74_130_117:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	r7 = (String)s$focusOut;
	r31 = hl_alloc_closure_ptr(&t$fun_6d3d10a,openfl_text_TextField_this_onFocusOut,r0);
	if( r31 ) goto label$4cc5e74_130_126;
	r27 = NULL;
	goto label$4cc5e74_130_127;
	label$4cc5e74_130_126:
	r27 = hl_alloc_closure_ptr(&t$fun_d9b55f3,openfl_text_TextField_new__$1,r31);
	label$4cc5e74_130_127:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	r7 = (String)s$keyDown;
	r32 = hl_alloc_closure_ptr(&t$fun_0ac6d1a,openfl_text_TextField_this_onKeyDown,r0);
	if( r32 ) goto label$4cc5e74_130_136;
	r27 = NULL;
	goto label$4cc5e74_130_137;
	label$4cc5e74_130_136:
	r27 = hl_alloc_closure_ptr(&t$fun_6da800c,wrapt$fun_6da800c,r32);
	label$4cc5e74_130_137:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	r7 = (String)s$mouseWheel;
	r26 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_this_onMouseWheel,r0);
	if( r26 ) goto label$4cc5e74_130_146;
	r27 = NULL;
	goto label$4cc5e74_130_147;
	label$4cc5e74_130_146:
	r27 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r26);
	label$4cc5e74_130_147:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	r7 = (String)s$doubleClick;
	r26 = hl_alloc_closure_ptr(&t$fun_5338d7d,openfl_text_TextField_this_onDoubleClick,r0);
	if( r26 ) goto label$4cc5e74_130_156;
	r27 = NULL;
	goto label$4cc5e74_130_157;
	label$4cc5e74_130_156:
	r27 = hl_alloc_closure_ptr(&t$fun_1d22347,wrapt$fun_1d22347,r26);
	label$4cc5e74_130_157:
	r28 = NULL;
	r29 = NULL;
	r30 = NULL;
	openfl_display_DisplayObject_addEventListener(((openfl__display__DisplayObject)r0),r7,r27,r28,r29,r30);
	return;
}

