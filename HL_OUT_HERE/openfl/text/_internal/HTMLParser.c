// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/text/_internal/HTMLParser.h>
String EReg_matched(EReg,int);
vdynamic* Std_parseInt(String);
String String_fromCharCode(int);
extern String s$0;
String String___add__(String,String);
#include <hl/types/ArrayDyn.h>
#include <openfl/text/_internal/TextFormatRange.h>
#include <hl/types/ArrayBytes_Int.h>
extern hl_type t$fun_38c1cd0;
extern openfl__text___internal__$HTMLParser g$76955d1;
extern String s$68b329d;
String EReg_replace(EReg,String,String);
extern String s$;
extern String s$7215ee9;
String EReg_map(EReg,String,vclosure*);
extern String s$524a507;
hl__types__ArrayObj String_split(String,String);
String StringTools_htmlUnescape(String);
int openfl__Vector_ObjectVector_get_length(openfl___Vector__ObjectVector);
extern hl_type t$vrt_e24d085;
extern hl_type t$_i32;
extern hl_type t$_dyn;
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
#include <hl/types/ArrayBase.h>
hl__types__ArrayDyn hl_types_ArrayDyn_alloc(hl__types__ArrayBase,bool*);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
extern hl_type t$openfl_text__internal_TextFormatRange;
void openfl__Vector_ObjectVector_insertAt(openfl___Vector__ObjectVector,int,vdynamic*);
vvirtual* openfl__Vector_ObjectVector_splice(openfl___Vector__ObjectVector,int,int);
vdynamic* openfl__Vector_ObjectVector_get(openfl___Vector__ObjectVector,int);
extern hl_type t$openfl_text_TextFormat;
openfl__text__TextFormat openfl_text_TextFormat_clone(openfl__text__TextFormat);
extern hl_type t$String;
int String___compare(String,vdynamic*);
String String_substr(String,int,vdynamic*);
extern String s$6666cd7;
extern String s$cedf8da;
int String_indexOf(String,String,vdynamic*);
String String_substring(String,int,vdynamic*);
String String_toLowerCase(String);
vdynamic* hl_types_ArrayObj_pop(hl__types__ArrayObj);
extern String s$p;
extern String s$li;
void openfl_text__internal_TextFormatRange_new(openfl__text___internal__TextFormatRange,openfl__text__TextFormat,int,int);
int openfl__Vector_ObjectVector_push(openfl___Vector__ObjectVector,vdynamic*);
void openfl_text_StyleSheet___applyStyle(openfl__text__StyleSheet,String,openfl__text__TextFormat);
bool EReg_match(EReg,String);
extern String s$5058f1a;
String openfl_text__internal_HTMLParser___getAttributeMatch(EReg);
extern String s$a_link;
extern String s$0x;
vdynamic* String_charCodeAt(String,int);
extern String s$284f987;
vdynamic* openfl_text__TextFormatAlign_TextFormatAlign_Impl__fromString(String);
extern hl_type t$nul_i32;
int hl_types_ArrayObj_push(hl__types__ArrayObj,vdynamic*);
extern hl_type t$hl_types_ArrayBytes_Int;
extern hl_type t$hl_types_ArrayObj;

String openfl_text__internal_HTMLParser_parse__$1(EReg r0) {
	String r1, r3, r4;
	vdynamic *r5;
	int r2;
	if( r0 == NULL ) hl_null_access();
	r2 = 1;
	r1 = EReg_matched(r0,r2);
	r2 = 2;
	r3 = EReg_matched(r0,r2);
	if( !r1 ) goto label$8767d53_1_11;
	r5 = Std_parseInt(r1);
	if( !r5 ) goto label$8767d53_1_11;
	r2 = r5 ? r5->v.i : 0;
	r4 = String_fromCharCode(r2);
	return r4;
	label$8767d53_1_11:
	if( !r3 ) goto label$8767d53_1_19;
	r4 = (String)s$0;
	r4 = String___add__(r4,r3);
	r5 = Std_parseInt(r4);
	if( !r5 ) goto label$8767d53_1_19;
	r2 = r5 ? r5->v.i : 0;
	r4 = String_fromCharCode(r2);
	return r4;
	label$8767d53_1_19:
	r2 = 0;
	r4 = EReg_matched(r0,r2);
	return r4;
}

String openfl_text__internal_HTMLParser_parse(String r0,bool r1,openfl__text__StyleSheet r2,openfl__text__TextFormat r3,openfl___Vector__ObjectVector r4) {
	bool *r22;
	String r7, r10, r28, r36, r38;
	openfl__text__TextFormat r25, r37;
	vvirtual *r18;
	hl__types__ArrayObj r11, r17, r26, r27, r35;
	hl_type *r20;
	bool r6, r29, r32;
	openfl__text___internal__TextFormatRange r24;
	EReg r8;
	hl__types__ArrayBytes_Int r44;
	openfl__text___internal__$HTMLParser r9;
	hl__types__ArrayDyn r19;
	vclosure *r16;
	vdynamic *r14, *r30, *r41, *r42, *r43;
	vbyte *r39, *r40;
	varray *r15;
	int r12, r13, r21, r23, r31, r33, r34;
	static vclosure cl$0 = { &t$fun_38c1cd0, openfl_text__internal_HTMLParser_parse__$1, 0 };
	if( !r1 ) goto label$8767d53_2_7;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexBreakTag;
	if( r8 == NULL ) hl_null_access();
	r10 = (String)s$68b329d;
	r7 = EReg_replace(r8,r0,r10);
	goto label$8767d53_2_12;
	label$8767d53_2_7:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexBreakTag;
	if( r8 == NULL ) hl_null_access();
	r10 = (String)s$;
	r7 = EReg_replace(r8,r0,r10);
	label$8767d53_2_12:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r11 = r9->__regexEntities;
	if( r11 == NULL ) hl_null_access();
	r12 = 5;
	r13 = r11->length;
	if( ((unsigned)r12) < ((unsigned)r13) ) goto label$8767d53_2_20;
	r8 = NULL;
	goto label$8767d53_2_23;
	label$8767d53_2_20:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r12];
	r8 = (EReg)r14;
	label$8767d53_2_23:
	if( r8 == NULL ) hl_null_access();
	r10 = (String)s$7215ee9;
	r7 = EReg_replace(r8,r7,r10);
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexCharEntity;
	if( r8 == NULL ) hl_null_access();
	r16 = &cl$0;
	r7 = EReg_map(r8,r7,r16);
	if( r7 == NULL ) hl_null_access();
	r10 = (String)s$524a507;
	r11 = String_split(r7,r10);
	if( r11 == NULL ) hl_null_access();
	r12 = r11->length;
	r13 = 1;
	if( r12 != r13 ) goto label$8767d53_2_123;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexHTMLTag;
	if( r8 == NULL ) hl_null_access();
	r10 = (String)s$;
	r7 = EReg_replace(r8,r7,r10);
	r7 = StringTools_htmlUnescape(r7);
	r0 = r7;
	if( r4 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r4);
	r13 = 1;
	if( r13 >= r12 ) goto label$8767d53_2_112;
	r12 = openfl__Vector_ObjectVector_get_length(r4);
	r13 = 1;
	r12 = r12 - r13;
	if( r4 ) goto label$8767d53_2_55;
	r18 = NULL;
	goto label$8767d53_2_59;
	label$8767d53_2_55:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_59;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_59:
	if( r18 == NULL ) hl_null_access();
	r13 = 1;
	if( hl_vfields(r18)[24] ) *(int*)(hl_vfields(r18)[24]) = (int)r13; else hl_dyn_seti(r18->value,39119043/*__tempIndex*/,&t$_i32,r13);
	r13 = 0;
	r20 = &t$_dyn;
	r21 = 0;
	r15 = hl_alloc_array(r20,r21);
	r17 = hl_types_ArrayObj_alloc(r15);
	r6 = true;
	r22 = &r6;
	r19 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r17),r22);
	label$8767d53_2_70:
	if( r19 == NULL ) hl_null_access();
	r23 = hl_types_ArrayDyn_get_length(r19);
	if( r13 >= r23 ) goto label$8767d53_2_101;
	r21 = r13;
	++r13;
	r14 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r19->$type->vobj_proto[0])(r19,r21);
	if( r4 == NULL ) hl_null_access();
	if( r4 ) goto label$8767d53_2_81;
	r18 = NULL;
	goto label$8767d53_2_85;
	label$8767d53_2_81:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_85;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_85:
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	r24 = (openfl__text___internal__TextFormatRange)hl_dyn_castp(&r14,&t$_dyn,&t$openfl_text__internal_TextFormatRange);
	openfl__Vector_ObjectVector_insertAt(r4,r21,((vdynamic*)r24));
	if( r4 ) goto label$8767d53_2_92;
	r18 = NULL;
	goto label$8767d53_2_96;
	label$8767d53_2_92:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_96;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_96:
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	++r21;
	if( hl_vfields(r18)[24] ) *(int*)(hl_vfields(r18)[24]) = (int)r21; else hl_dyn_seti(r18->value,39119043/*__tempIndex*/,&t$_i32,r21);
	goto label$8767d53_2_70;
	label$8767d53_2_101:
	if( r4 == NULL ) hl_null_access();
	if( r4 ) goto label$8767d53_2_105;
	r18 = NULL;
	goto label$8767d53_2_109;
	label$8767d53_2_105:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_109;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_109:
	if( r18 == NULL ) hl_null_access();
	r13 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	r18 = openfl__Vector_ObjectVector_splice(r4,r13,r12);
	label$8767d53_2_112:
	r12 = 0;
	r14 = openfl__Vector_ObjectVector_get(r4,r12);
	r24 = (openfl__text___internal__TextFormatRange)r14;
	if( r24 == NULL ) hl_null_access();
	r24->format = r3;
	r12 = 0;
	r24->start = r12;
	if( r0 == NULL ) hl_null_access();
	r12 = r0->length;
	r24->end = r12;
	return r0;
	label$8767d53_2_123:
	if( r4 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r4);
	if( r4 ) goto label$8767d53_2_128;
	r18 = NULL;
	goto label$8767d53_2_132;
	label$8767d53_2_128:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_132;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_132:
	if( r18 == NULL ) hl_null_access();
	r13 = 0;
	if( hl_vfields(r18)[24] ) *(int*)(hl_vfields(r18)[24]) = (int)r13; else hl_dyn_seti(r18->value,39119043/*__tempIndex*/,&t$_i32,r13);
	r13 = 0;
	r20 = &t$_dyn;
	r21 = 0;
	r15 = hl_alloc_array(r20,r21);
	r17 = hl_types_ArrayObj_alloc(r15);
	r6 = true;
	r22 = &r6;
	r19 = hl_types_ArrayDyn_alloc(((hl__types__ArrayBase)r17),r22);
	label$8767d53_2_143:
	if( r19 == NULL ) hl_null_access();
	r23 = hl_types_ArrayDyn_get_length(r19);
	if( r13 >= r23 ) goto label$8767d53_2_174;
	r21 = r13;
	++r13;
	r14 = ((vdynamic* (*)(hl__types__ArrayDyn,int))r19->$type->vobj_proto[0])(r19,r21);
	if( r4 == NULL ) hl_null_access();
	if( r4 ) goto label$8767d53_2_154;
	r18 = NULL;
	goto label$8767d53_2_158;
	label$8767d53_2_154:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_158;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_158:
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	r24 = (openfl__text___internal__TextFormatRange)hl_dyn_castp(&r14,&t$_dyn,&t$openfl_text__internal_TextFormatRange);
	openfl__Vector_ObjectVector_insertAt(r4,r21,((vdynamic*)r24));
	if( r4 ) goto label$8767d53_2_165;
	r18 = NULL;
	goto label$8767d53_2_169;
	label$8767d53_2_165:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_169;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_169:
	if( r18 == NULL ) hl_null_access();
	r21 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	++r21;
	if( hl_vfields(r18)[24] ) *(int*)(hl_vfields(r18)[24]) = (int)r21; else hl_dyn_seti(r18->value,39119043/*__tempIndex*/,&t$_i32,r21);
	goto label$8767d53_2_143;
	label$8767d53_2_174:
	if( r4 == NULL ) hl_null_access();
	if( r4 ) goto label$8767d53_2_178;
	r18 = NULL;
	goto label$8767d53_2_182;
	label$8767d53_2_178:
	r18 = r4->f$3;
	if( r18 ) goto label$8767d53_2_182;
	r18 = hl_to_virtual(&t$vrt_e24d085,(vdynamic*)r4);
	r4->f$3 = r18;
	label$8767d53_2_182:
	if( r18 == NULL ) hl_null_access();
	r13 = hl_vfields(r18)[24] ? (*(int*)(hl_vfields(r18)[24])) : (int)hl_dyn_geti(r18->value,39119043/*__tempIndex*/,&t$_i32);
	r18 = openfl__Vector_ObjectVector_splice(r4,r13,r12);
	r7 = (String)s$;
	r0 = r7;
	r20 = &t$openfl_text_TextFormat;
	r12 = 1;
	r15 = hl_alloc_array(r20,r12);
	if( r3 == NULL ) hl_null_access();
	r25 = openfl_text_TextFormat_clone(r3);
	r12 = 0;
	((openfl__text__TextFormat*)(r15 + 1))[r12] = r25;
	r17 = hl_types_ArrayObj_alloc(r15);
	r20 = &t$String;
	r12 = 0;
	r15 = hl_alloc_array(r20,r12);
	r26 = hl_types_ArrayObj_alloc(r15);
	r6 = false;
	r12 = 0;
	label$8767d53_2_201:
	if( r11 == NULL ) hl_null_access();
	r21 = r11->length;
	if( r12 >= r21 ) goto label$8767d53_2_716;
	r21 = r11->length;
	if( ((unsigned)r12) < ((unsigned)r21) ) goto label$8767d53_2_209;
	r7 = NULL;
	goto label$8767d53_2_212;
	label$8767d53_2_209:
	r15 = r11->array;
	r14 = ((vdynamic**)(r15 + 1))[r12];
	r7 = (String)r14;
	label$8767d53_2_212:
	++r12;
	r28 = (String)s$;
	if( r7 != r28 && (!r7 || !r28 || String___compare(r7,(vdynamic*)r28) != 0) ) goto label$8767d53_2_216;
	goto label$8767d53_2_201;
	label$8767d53_2_216:
	if( r7 == NULL ) hl_null_access();
	r13 = 0;
	r21 = 1;
	r30 = hl_alloc_dynamic(&t$_i32);
	r30->v.i = r21;
	r10 = String_substr(r7,r13,r30);
	r28 = (String)s$6666cd7;
	if( r10 == r28 || (r10 && r28 && String___compare(r10,(vdynamic*)r28) == 0) ) goto label$8767d53_2_225;
	r29 = false;
	goto label$8767d53_2_226;
	label$8767d53_2_225:
	r29 = true;
	label$8767d53_2_226:
	r28 = (String)s$cedf8da;
	r30 = NULL;
	r13 = String_indexOf(r7,r28,r30);
	r23 = 1;
	r21 = r13 + r23;
	r28 = (String)s$7215ee9;
	r30 = NULL;
	r23 = String_indexOf(r7,r28,r30);
	if( !r29 ) goto label$8767d53_2_237;
	r31 = 1;
	goto label$8767d53_2_238;
	label$8767d53_2_237:
	r31 = 0;
	label$8767d53_2_238:
	r34 = -1;
	if( r34 >= r23 ) goto label$8767d53_2_243;
	if( r23 >= r13 ) goto label$8767d53_2_243;
	r30 = hl_alloc_dynamic(&t$_i32);
	r30->v.i = r23;
	goto label$8767d53_2_244;
	label$8767d53_2_243:
	r30 = hl_alloc_dynamic(&t$_i32);
	r30->v.i = r13;
	label$8767d53_2_244:
	r10 = String_substring(r7,r31,r30);
	if( r10 == NULL ) hl_null_access();
	r10 = String_toLowerCase(r10);
	if( !r29 ) goto label$8767d53_2_316;
	if( r26 == NULL ) hl_null_access();
	r31 = r26->length;
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_263;
	r31 = r26->length;
	r33 = 1;
	r31 = r31 - r33;
	r33 = r26->length;
	if( ((unsigned)r31) < ((unsigned)r33) ) goto label$8767d53_2_259;
	r36 = NULL;
	goto label$8767d53_2_262;
	label$8767d53_2_259:
	r15 = r26->array;
	r14 = ((vdynamic**)(r15 + 1))[r31];
	r36 = (String)r14;
	label$8767d53_2_262:
	if( r10 == r36 || (r10 && r36 && String___compare(r10,(vdynamic*)r36) == 0) ) goto label$8767d53_2_264;
	label$8767d53_2_263:
	goto label$8767d53_2_201;
	label$8767d53_2_264:
	r14 = hl_types_ArrayObj_pop(r26);
	r28 = (String)r14;
	if( r17 == NULL ) hl_null_access();
	r14 = hl_types_ArrayObj_pop(r17);
	r25 = (openfl__text__TextFormat)r14;
	r31 = r17->length;
	r33 = 1;
	r31 = r31 - r33;
	r33 = r17->length;
	if( ((unsigned)r31) < ((unsigned)r33) ) goto label$8767d53_2_276;
	r37 = NULL;
	goto label$8767d53_2_279;
	label$8767d53_2_276:
	r15 = r17->array;
	r14 = ((vdynamic**)(r15 + 1))[r31];
	r37 = (openfl__text__TextFormat)r14;
	label$8767d53_2_279:
	if( r37 == NULL ) hl_null_access();
	r37 = openfl_text_TextFormat_clone(r37);
	r36 = (String)s$p;
	if( r10 == r36 || (r10 && r36 && String___compare(r10,(vdynamic*)r36) == 0) ) goto label$8767d53_2_285;
	r36 = (String)s$li;
	if( r10 != r36 && (!r10 || !r36 || String___compare(r10,(vdynamic*)r36) != 0) ) goto label$8767d53_2_295;
	label$8767d53_2_285:
	if( r4 == NULL ) hl_null_access();
	r31 = openfl__Vector_ObjectVector_get_length(r4);
	r33 = 0;
	if( r33 >= r31 ) goto label$8767d53_2_295;
	if( !r1 ) goto label$8767d53_2_293;
	r36 = (String)s$68b329d;
	r28 = String___add__(r0,r36);
	r0 = r28;
	label$8767d53_2_293:
	r32 = true;
	r6 = r32;
	label$8767d53_2_295:
	r33 = r7->length;
	if( r21 >= r33 ) goto label$8767d53_2_315;
	r30 = NULL;
	r36 = String_substr(r7,r21,r30);
	r36 = StringTools_htmlUnescape(r36);
	r28 = r36;
	if( r4 == NULL ) hl_null_access();
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r0 == NULL ) hl_null_access();
	r31 = r0->length;
	r33 = r0->length;
	if( r28 == NULL ) hl_null_access();
	r34 = r28->length;
	r33 = r33 + r34;
	openfl_text__internal_TextFormatRange_new(r24,r37,r31,r33);
	r31 = openfl__Vector_ObjectVector_push(r4,((vdynamic*)r24));
	r36 = String___add__(r0,r28);
	r0 = r36;
	r32 = false;
	r6 = r32;
	label$8767d53_2_315:
	goto label$8767d53_2_715;
	label$8767d53_2_316:
	if( r17 == NULL ) hl_null_access();
	r31 = r17->length;
	r33 = 1;
	r31 = r31 - r33;
	r33 = r17->length;
	if( ((unsigned)r31) < ((unsigned)r33) ) goto label$8767d53_2_324;
	r37 = NULL;
	goto label$8767d53_2_327;
	label$8767d53_2_324:
	r15 = r17->array;
	r14 = ((vdynamic**)(r15 + 1))[r31];
	r37 = (openfl__text__TextFormat)r14;
	label$8767d53_2_327:
	if( r37 == NULL ) hl_null_access();
	r37 = openfl_text_TextFormat_clone(r37);
	r25 = r37;
	r33 = -1;
	if( r33 >= r13 ) goto label$8767d53_2_699;
	if( !r2 ) goto label$8767d53_2_353;
	if( r2 == NULL ) hl_null_access();
	openfl_text_StyleSheet___applyStyle(r2,r10,r37);
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexClass;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_353;
	r36 = (String)s$5058f1a;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexClass;
	r38 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r36 = String___add__(r36,r38);
	openfl_text_StyleSheet___applyStyle(r2,r36,r37);
	r38 = (String)s$5058f1a;
	r36 = String___add__(r10,r38);
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexClass;
	r38 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r36 = String___add__(r36,r38);
	openfl_text_StyleSheet___applyStyle(r2,r36,r37);
	label$8767d53_2_353:
	if( !r10 ) goto label$8767d53_2_362;
	r31 = r10->length;
	r33 = 1;
	if( r31 != r33 ) goto label$8767d53_2_362;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("a");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_435;
	label$8767d53_2_362:
	if( !r10 ) goto label$8767d53_2_371;
	r31 = r10->length;
	r33 = 1;
	if( r31 != r33 ) goto label$8767d53_2_371;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("b");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_450;
	label$8767d53_2_371:
	if( !r10 ) goto label$8767d53_2_380;
	r31 = r10->length;
	r33 = 2;
	if( r31 != r33 ) goto label$8767d53_2_380;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("em");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_455;
	label$8767d53_2_380:
	if( !r10 ) goto label$8767d53_2_389;
	r31 = r10->length;
	r33 = 1;
	if( r31 != r33 ) goto label$8767d53_2_389;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("i");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_455;
	label$8767d53_2_389:
	if( !r10 ) goto label$8767d53_2_398;
	r31 = r10->length;
	r33 = 4;
	if( r31 != r33 ) goto label$8767d53_2_398;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("font");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_460;
	label$8767d53_2_398:
	if( !r10 ) goto label$8767d53_2_407;
	r31 = r10->length;
	r33 = 2;
	if( r31 != r33 ) goto label$8767d53_2_407;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("li");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_529;
	label$8767d53_2_407:
	if( !r10 ) goto label$8767d53_2_416;
	r31 = r10->length;
	r33 = 1;
	if( r31 != r33 ) goto label$8767d53_2_416;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("p");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_556;
	label$8767d53_2_416:
	if( !r10 ) goto label$8767d53_2_425;
	r31 = r10->length;
	r33 = 10;
	if( r31 != r33 ) goto label$8767d53_2_425;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("textformat");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_578;
	label$8767d53_2_425:
	if( !r10 ) goto label$8767d53_2_434;
	r31 = r10->length;
	r33 = 1;
	if( r31 != r33 ) goto label$8767d53_2_434;
	r39 = r10->bytes;
	r40 = (vbyte*)USTR("u");
	r31 = hl_string_compare(r39,r40,r31);
	r33 = 0;
	if( r31 == r33 ) goto label$8767d53_2_669;
	label$8767d53_2_434:
	goto label$8767d53_2_673;
	label$8767d53_2_435:
	if( !r2 ) goto label$8767d53_2_439;
	if( r2 == NULL ) hl_null_access();
	r36 = (String)s$a_link;
	openfl_text_StyleSheet___applyStyle(r2,r36,r37);
	label$8767d53_2_439:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexHref;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_449;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexHref;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r37->url = r36;
	label$8767d53_2_449:
	goto label$8767d53_2_673;
	label$8767d53_2_450:
	if( r37 == NULL ) hl_null_access();
	r32 = true;
	r41 = hl_alloc_dynbool(r32);
	r37->bold = r41;
	goto label$8767d53_2_673;
	label$8767d53_2_455:
	if( r37 == NULL ) hl_null_access();
	r32 = true;
	r41 = hl_alloc_dynbool(r32);
	r37->italic = r41;
	goto label$8767d53_2_673;
	label$8767d53_2_460:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexFace;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_470;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexFace;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r37->font = r36;
	label$8767d53_2_470:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexColor;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_483;
	if( r37 == NULL ) hl_null_access();
	r36 = (String)s$0x;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexColor;
	r38 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r36 = String___add__(r36,r38);
	r30 = Std_parseInt(r36);
	r37->color = r30;
	label$8767d53_2_483:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexSize;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_528;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexSize;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	if( r36 == NULL ) hl_null_access();
	r31 = 0;
	r30 = String_charCodeAt(r36,r31);
	r31 = 43;
	r43 = hl_alloc_dynamic(&t$_i32);
	r43->v.i = r31;
	if( r30 == r43 || (r30 && r43 && (r30->v.i == r43->v.i)) ) goto label$8767d53_2_500;
	r31 = 45;
	r43 = hl_alloc_dynamic(&t$_i32);
	r43->v.i = r31;
	if( r30 != r43 && (!r30 || !r43 || (r30->v.i != r43->v.i)) ) goto label$8767d53_2_525;
	label$8767d53_2_500:
	r31 = r17->length;
	r33 = 2;
	if( r31 < r33 ) goto label$8767d53_2_514;
	r31 = r17->length;
	r33 = 2;
	r31 = r31 - r33;
	r33 = r17->length;
	if( ((unsigned)r31) < ((unsigned)r33) ) goto label$8767d53_2_510;
	r37 = NULL;
	goto label$8767d53_2_513;
	label$8767d53_2_510:
	r15 = r17->array;
	r14 = ((vdynamic**)(r15 + 1))[r31];
	r37 = (openfl__text__TextFormat)r14;
	label$8767d53_2_513:
	goto label$8767d53_2_515;
	label$8767d53_2_514:
	r37 = r3;
	label$8767d53_2_515:
	if( r25 == NULL ) hl_null_access();
	if( r37 == NULL ) hl_null_access();
	r42 = r37->size;
	r31 = r42 ? r42->v.i : 0;
	r42 = Std_parseInt(r36);
	r33 = r42 ? r42->v.i : 0;
	r31 = r31 + r33;
	r42 = hl_alloc_dynamic(&t$_i32);
	r42->v.i = r31;
	r25->size = r42;
	goto label$8767d53_2_528;
	label$8767d53_2_525:
	if( r37 == NULL ) hl_null_access();
	r42 = Std_parseInt(r36);
	r37->size = r42;
	label$8767d53_2_528:
	goto label$8767d53_2_673;
	label$8767d53_2_529:
	if( r4 == NULL ) hl_null_access();
	r31 = openfl__Vector_ObjectVector_get_length(r4);
	r33 = 0;
	if( r33 >= r31 ) goto label$8767d53_2_537;
	if( r6 ) goto label$8767d53_2_537;
	r38 = (String)s$68b329d;
	r36 = String___add__(r0,r38);
	r0 = r36;
	label$8767d53_2_537:
	r36 = (String)s$284f987;
	if( r37 == NULL ) hl_null_access();
	r37 = openfl_text_TextFormat_clone(r37);
	if( r37 == NULL ) hl_null_access();
	r32 = false;
	r41 = hl_alloc_dynbool(r32);
	r37->underline = r41;
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r0 == NULL ) hl_null_access();
	r31 = r0->length;
	r33 = r0->length;
	if( r36 == NULL ) hl_null_access();
	r34 = r36->length;
	r33 = r33 + r34;
	openfl_text__internal_TextFormatRange_new(r24,r37,r31,r33);
	r31 = openfl__Vector_ObjectVector_push(r4,((vdynamic*)r24));
	r38 = String___add__(r0,r36);
	r0 = r38;
	goto label$8767d53_2_673;
	label$8767d53_2_556:
	if( r4 == NULL ) hl_null_access();
	r31 = openfl__Vector_ObjectVector_get_length(r4);
	r33 = 0;
	if( r33 >= r31 ) goto label$8767d53_2_564;
	if( r6 ) goto label$8767d53_2_564;
	r38 = (String)s$68b329d;
	r36 = String___add__(r0,r38);
	r0 = r36;
	label$8767d53_2_564:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexAlign;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_577;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexAlign;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	if( r36 == NULL ) hl_null_access();
	r36 = String_toLowerCase(r36);
	if( r37 == NULL ) hl_null_access();
	r30 = openfl_text__TextFormatAlign_TextFormatAlign_Impl__fromString(r36);
	r37->align = r30;
	label$8767d53_2_577:
	goto label$8767d53_2_673;
	label$8767d53_2_578:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexBlockIndent;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_589;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexBlockIndent;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r30 = Std_parseInt(r36);
	r37->blockIndent = r30;
	label$8767d53_2_589:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexIndent;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_600;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexIndent;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r30 = Std_parseInt(r36);
	r37->indent = r30;
	label$8767d53_2_600:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexLeading;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_611;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexLeading;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r30 = Std_parseInt(r36);
	r37->leading = r30;
	label$8767d53_2_611:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexLeftMargin;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_622;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexLeftMargin;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r30 = Std_parseInt(r36);
	r37->leftMargin = r30;
	label$8767d53_2_622:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexRightMargin;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_633;
	if( r37 == NULL ) hl_null_access();
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexRightMargin;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	r30 = Std_parseInt(r36);
	r37->rightMargin = r30;
	label$8767d53_2_633:
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexTabStops;
	if( r8 == NULL ) hl_null_access();
	r32 = EReg_match(r8,r7);
	if( !r32 ) goto label$8767d53_2_668;
	r9 = (openfl__text___internal__$HTMLParser)g$76955d1;
	r8 = r9->__regexTabStops;
	r36 = openfl_text__internal_HTMLParser___getAttributeMatch(r8);
	if( r36 == NULL ) hl_null_access();
	r38 = (String)s$7215ee9;
	r27 = String_split(r36,r38);
	r20 = &t$nul_i32;
	r31 = 0;
	r15 = hl_alloc_array(r20,r31);
	r35 = hl_types_ArrayObj_alloc(r15);
	r31 = 0;
	label$8767d53_2_649:
	if( r27 == NULL ) hl_null_access();
	r34 = r27->length;
	if( r31 >= r34 ) goto label$8767d53_2_665;
	r34 = r27->length;
	if( ((unsigned)r31) < ((unsigned)r34) ) goto label$8767d53_2_657;
	r36 = NULL;
	goto label$8767d53_2_660;
	label$8767d53_2_657:
	r15 = r27->array;
	r14 = ((vdynamic**)(r15 + 1))[r31];
	r36 = (String)r14;
	label$8767d53_2_660:
	++r31;
	if( r35 == NULL ) hl_null_access();
	r30 = Std_parseInt(r36);
	r33 = hl_types_ArrayObj_push(r35,((vdynamic*)r30));
	goto label$8767d53_2_649;
	label$8767d53_2_665:
	if( r25 == NULL ) hl_null_access();
	r44 = (hl__types__ArrayBytes_Int)hl_dyn_castp(&r35,&t$hl_types_ArrayObj,&t$hl_types_ArrayBytes_Int);
	r25->tabStops = r44;
	label$8767d53_2_668:
	goto label$8767d53_2_673;
	label$8767d53_2_669:
	if( r37 == NULL ) hl_null_access();
	r32 = true;
	r41 = hl_alloc_dynbool(r32);
	r37->underline = r41;
	label$8767d53_2_673:
	if( r17 == NULL ) hl_null_access();
	r31 = hl_types_ArrayObj_push(r17,((vdynamic*)r25));
	if( r26 == NULL ) hl_null_access();
	r31 = hl_types_ArrayObj_push(r26,((vdynamic*)r10));
	if( r7 == NULL ) hl_null_access();
	r33 = r7->length;
	if( r21 >= r33 ) goto label$8767d53_2_698;
	r30 = NULL;
	r36 = String_substring(r7,r21,r30);
	r36 = StringTools_htmlUnescape(r36);
	r28 = r36;
	if( r4 == NULL ) hl_null_access();
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r0 == NULL ) hl_null_access();
	r31 = r0->length;
	r33 = r0->length;
	if( r28 == NULL ) hl_null_access();
	r34 = r28->length;
	r33 = r33 + r34;
	openfl_text__internal_TextFormatRange_new(r24,r25,r31,r33);
	r31 = openfl__Vector_ObjectVector_push(r4,((vdynamic*)r24));
	r36 = String___add__(r0,r28);
	r0 = r36;
	r32 = false;
	r6 = r32;
	label$8767d53_2_698:
	goto label$8767d53_2_715;
	label$8767d53_2_699:
	r36 = StringTools_htmlUnescape(r7);
	r28 = r36;
	if( r4 == NULL ) hl_null_access();
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r0 == NULL ) hl_null_access();
	r31 = r0->length;
	r33 = r0->length;
	if( r28 == NULL ) hl_null_access();
	r34 = r28->length;
	r33 = r33 + r34;
	openfl_text__internal_TextFormatRange_new(r24,r37,r31,r33);
	r31 = openfl__Vector_ObjectVector_push(r4,((vdynamic*)r24));
	r36 = String___add__(r0,r28);
	r0 = r36;
	r32 = false;
	r6 = r32;
	label$8767d53_2_715:
	goto label$8767d53_2_201;
	label$8767d53_2_716:
	if( r4 == NULL ) hl_null_access();
	r12 = openfl__Vector_ObjectVector_get_length(r4);
	r13 = 0;
	if( r12 != r13 ) goto label$8767d53_2_734;
	r24 = (openfl__text___internal__TextFormatRange)hl_alloc_obj(&t$openfl_text__internal_TextFormatRange);
	if( r17 == NULL ) hl_null_access();
	r12 = 0;
	r13 = r17->length;
	if( ((unsigned)r12) < ((unsigned)r13) ) goto label$8767d53_2_727;
	r25 = NULL;
	goto label$8767d53_2_730;
	label$8767d53_2_727:
	r15 = r17->array;
	r14 = ((vdynamic**)(r15 + 1))[r12];
	r25 = (openfl__text__TextFormat)r14;
	label$8767d53_2_730:
	r12 = 0;
	r13 = 0;
	openfl_text__internal_TextFormatRange_new(r24,r25,r12,r13);
	r12 = openfl__Vector_ObjectVector_push(r4,((vdynamic*)r24));
	label$8767d53_2_734:
	return r0;
}

String openfl_text__internal_HTMLParser___getAttributeMatch(EReg r0) {
	String r1;
	int r2;
	if( r0 == NULL ) hl_null_access();
	r2 = 2;
	r1 = EReg_matched(r0,r2);
	if( !r1 ) goto label$8767d53_3_7;
	r2 = 2;
	r1 = EReg_matched(r0,r2);
	return r1;
	label$8767d53_3_7:
	r2 = 3;
	r1 = EReg_matched(r0,r2);
	return r1;
}

