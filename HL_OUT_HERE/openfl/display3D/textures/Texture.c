// Generated by HLC 4.3.1 (HL v5)
#define HLC_BOOT
#include <hlc.h>
#include <openfl/display3D/textures/Texture.h>
#include <lime/utils/BytePointerData.h>
#include <lime/graphics/_WebGL2RenderContext/WebGL2RenderContext_Impl_.h>
#include <haxe/io/Bytes.h>
#include <lime/utils/ArrayBufferView.h>
void openfl_display3D_textures_TextureBase_new(openfl__display3D__textures__TextureBase,openfl__display3D__Context3D);
void openfl_display3D_Context3D___bindGLTexture2D(openfl__display3D__Context3D,lime__graphics__opengl__GLObject);
extern lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ g$05c85d7;
extern hl_type t$_i32;
void lime_utils__BytePointer_BytePointer_Impl__set(lime__utils__BytePointerData,haxe__io__Bytes,lime__utils__ArrayBufferView,haxe__io__Bytes,vdynamic*);
extern hl_type t$fun_d4d7b42;
double lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(lime__utils__BytePointerData);
lime__graphics__opengl__GLObject openfl_display3D_textures_TextureBase___getGLFramebuffer(openfl__display3D__textures__TextureBase,bool,int,int);
void openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray(openfl__display3D__textures__Texture,openfl__utils__ByteArrayData,int);
extern hl_type t$openfl_events_Event;
extern String s$textureReady;
void openfl_events_Event_new(openfl__events__Event,String,bool*,bool*);
bool openfl_events_EventDispatcher_dispatchEvent(openfl__events__EventDispatcher,openfl__events__Event);
#include <haxe/Timer.h>
extern hl_type t$ctx_55d1e0d;
extern hl_type t$fun_dca619f;
haxe__Timer haxe_Timer_delay(vclosure*,int);
#include <openfl/display/BitmapData.h>
#include <openfl/geom/Matrix.h>
#include <openfl/geom/ColorTransform.h>
#include <openfl/geom/Rectangle.h>
#include <openfl/display/DisplayObject.h>
#include <lime/graphics/Image.h>
extern hl_type t$openfl_display_BitmapData;
void openfl_display_BitmapData_new(openfl__display__BitmapData,int,int,bool*,int*);
extern hl_type t$vrt_f233a05;
void openfl_display_BitmapData_draw(openfl__display__BitmapData,vvirtual*,openfl__geom__Matrix,openfl__geom__ColorTransform,vdynamic*,openfl__geom__Rectangle,bool*);
lime__graphics__Image openfl_display3D_textures_TextureBase___getImage(openfl__display3D__textures__TextureBase,openfl__display__BitmapData);
lime__utils__ArrayBufferView lime_graphics_Image_get_data(lime__graphics__Image);
void openfl_display3D_textures_Texture_uploadFromTypedArray(openfl__display3D__textures__Texture,lime__utils__ArrayBufferView,int*);
#include <hl/types/ArrayDyn.h>
#include <openfl/_Vector/IntVector.h>
#include <lime/utils/TAError.h>
haxe__io__Bytes openfl_utils__ByteArray_ByteArray_Impl__toArrayBuffer(openfl__utils__ByteArrayData);
extern hl_type t$lime_utils_ArrayBufferView;
void lime_utils_ArrayBufferView_new(lime__utils__ArrayBufferView,vdynamic*,int);
int hl_types_ArrayDyn_get_length(hl__types__ArrayDyn);
haxe__io__Bytes haxe_io_Bytes_alloc(int);
void lime_utils_ArrayBufferView_copyFromArray(lime__utils__ArrayBufferView,hl__types__ArrayDyn,int*);
extern hl_type t$_dyn;
extern hl_type t$hl_types_ArrayDyn;
void haxe_io_Bytes_blit(haxe__io__Bytes,int,haxe__io__Bytes,int,int);
extern String s$unimplemented;
extern venum* g$lime_utils_TAError_RangeError;
extern String s$ac96fc9;
#include <openfl/display3D/Context3D.h>
bool openfl_display3D_textures_TextureBase___setSamplerState(openfl__display3D__textures__TextureBase,openfl__display___internal__SamplerState);
extern hl_type t$fun_8249ca6;
extern openfl__display3D__$Context3D g$_openfl_display3D_Context3D;
extern hl_type t$fun_589d191;
#include <haxe/ds/IntMap.h>
#include <openfl/display3D/textures/TextureBase.h>
extern openfl__display3D__textures__$TextureBase g$fe821bb;
vdynamic* haxe_ds_IntMap_get(haxe__ds__IntMap,int);
void hl_types_ArrayObj___expand(hl__types__ArrayObj,int);
void lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__compressedTexImage2D(lime___internal__backend__native__NativeOpenGLRenderContext,int,int,int,int,int,int,lime__utils__ArrayBufferView);
extern hl_type t$openfl_display3D_textures_Texture;
#include <openfl/display3D/_internal/ATFReader.h>
extern hl_type t$openfl_display3D__internal_ATFReader;
void openfl_display3D__internal_ATFReader_new(openfl__display3D___internal__ATFReader,openfl__utils__ByteArrayData,int);
bool openfl_display3D__internal_ATFReader_readHeader(openfl__display3D___internal__ATFReader,int,int,bool);
#include <hl/natives.h>
hl__types__ArrayObj hl_types_ArrayObj_alloc(varray*);
extern hl_type t$ctx_833ab34;
extern hl_type t$fun_116c0d1;
void openfl_display3D__internal_ATFReader_readTextures(openfl__display3D___internal__ATFReader,vclosure*);
extern hl_type t$_bool;

void openfl_display3D_textures_Texture_new(openfl__display3D__textures__Texture r0,openfl__display3D__Context3D r1,int r2,int r3,vdynamic* r4,bool r5,int r6) {
	lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ r19;
	lime__utils__BytePointerData r18;
	openfl__display3D__Context3D r8;
	haxe__io__Bytes r20, r22;
	bool r10;
	lime___internal__backend__native__NativeOpenGLRenderContext r11;
	lime__graphics__opengl__GLObject r12;
	double r28;
	vclosure *r25;
	lime__utils__ArrayBufferView r21;
	vdynamic *r24;
	int r9, r13, r14, r15, r16, r17, r23, r26, r27;
	openfl_display3D_textures_TextureBase_new(((openfl__display3D__textures__TextureBase)r0),r1);
	r0->__width = r2;
	r0->__height = r3;
	r0->__optimizeForRenderToTexture = r5;
	r0->__streamingLevels = r6;
	r8 = r0->__context;
	if( r8 == NULL ) hl_null_access();
	r11 = r8->gl;
	if( r11 == NULL ) hl_null_access();
	r9 = r11->TEXTURE_2D;
	r0->__textureTarget = r9;
	r8 = r0->__context;
	if( r8 == NULL ) hl_null_access();
	r12 = r0->__textureID;
	openfl_display3D_Context3D___bindGLTexture2D(r8,r12);
	r9 = r0->__textureTarget;
	r13 = r0->__internalFormat;
	r14 = r0->__width;
	r15 = r0->__height;
	r16 = r0->__format;
	r17 = r11->UNSIGNED_BYTE;
	r19 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r18 = r19->__tempPointer;
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = 0;
	r24 = hl_alloc_dynamic(&t$_i32);
	r24->v.i = r23;
	lime_utils__BytePointer_BytePointer_Impl__set(r18,r20,r21,r22,r24);
	r25 = (vclosure*)hl_dyn_getp((vdynamic*)r11,-110658628/*texImage2D*/,&t$fun_d4d7b42);
	if( r25 == NULL ) hl_null_access();
	r26 = 0;
	r27 = 0;
	r19 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r18 = r19->__tempPointer;
	r28 = lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(r18);
	r25->hasValue ? ((void (*)(vdynamic*,int,int,int,int,int,int,int,int,double))r25->fun)((vdynamic*)r25->value,r9,r26,r13,r14,r15,r27,r16,r17,r28) : ((void (*)(int,int,int,int,int,int,int,int,double))r25->fun)(r9,r26,r13,r14,r15,r27,r16,r17,r28);
	r8 = r0->__context;
	if( r8 == NULL ) hl_null_access();
	r12 = NULL;
	openfl_display3D_Context3D___bindGLTexture2D(r8,r12);
	if( !r5 ) goto label$2c16320_1_46;
	r10 = true;
	r9 = 0;
	r13 = 0;
	r12 = openfl_display3D_textures_TextureBase___getGLFramebuffer(((openfl__display3D__textures__TextureBase)r0),r10,r9,r13);
	label$2c16320_1_46:
	return;
}

void openfl_display3D_textures_Texture_uploadCompressedTextureFromByteArray__$1(venum* r0) {
	bool *r8, *r9;
	String r7;
	bool r10;
	openfl__utils__ByteArrayData r3;
	openfl__events__Event r5, r6;
	openfl__display3D__textures__Texture r2;
	int r4;
	r2 = ((Enumt$ctx_55d1e0d*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r3 = ((Enumt$ctx_55d1e0d*)r0)->p0;
	r4 = ((Enumt$ctx_55d1e0d*)r0)->p1;
	openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray(r2,r3,r4);
	r5 = NULL;
	r6 = (openfl__events__Event)hl_alloc_obj(&t$openfl_events_Event);
	r7 = (String)s$textureReady;
	r8 = NULL;
	r9 = NULL;
	openfl_events_Event_new(r6,r7,r8,r9);
	r2 = ((Enumt$ctx_55d1e0d*)r0)->p2;
	if( r2 == NULL ) hl_null_access();
	r10 = openfl_events_EventDispatcher_dispatchEvent(((openfl__events__EventDispatcher)r2),r6);
	return;
}

void openfl_display3D_textures_Texture_uploadCompressedTextureFromByteArray(openfl__display3D__textures__Texture r0,openfl__utils__ByteArrayData r1,int r2,bool* r3) {
	venum *r9;
	bool r4;
	haxe__Timer r7;
	vclosure *r8;
	int r6;
	if( r3 ) goto label$2c16320_3_3;
	r4 = false;
	goto label$2c16320_3_4;
	label$2c16320_3_3:
	r4 = *r3;
	label$2c16320_3_4:
	if( r4 ) goto label$2c16320_3_7;
	openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray(r0,r1,r2);
	goto label$2c16320_3_14;
	label$2c16320_3_7:
	r9 = hl_alloc_enum(&t$ctx_55d1e0d,0);
	((Enumt$ctx_55d1e0d*)r9)->p0 = (openfl__utils__ByteArrayData)r1;
	((Enumt$ctx_55d1e0d*)r9)->p1 = (int)r2;
	((Enumt$ctx_55d1e0d*)r9)->p2 = (openfl__display3D__textures__Texture)r0;
	r8 = hl_alloc_closure_ptr(&t$fun_dca619f,openfl_display3D_textures_Texture_uploadCompressedTextureFromByteArray__$1,r9);
	r6 = 1;
	r7 = haxe_Timer_delay(r8,r6);
	label$2c16320_3_14:
	return;
}

void openfl_display3D_textures_Texture_uploadFromBitmapData(openfl__display3D__textures__Texture r0,openfl__display__BitmapData r1,int* r2,bool* r3) {
	lime__graphics__Image r19;
	vvirtual *r14;
	openfl__geom__Rectangle r18;
	bool r5, r12;
	openfl__geom__ColorTransform r16;
	openfl__geom__Matrix r15;
	lime__utils__ArrayBufferView r20;
	vdynamic *r17;
	openfl__display__BitmapData r7;
	int r4, r8, r9, r10, r11, r13;
	if( r2 ) goto label$2c16320_4_3;
	r4 = 0;
	goto label$2c16320_4_4;
	label$2c16320_4_3:
	r4 = *r2;
	label$2c16320_4_4:
	if( r3 ) goto label$2c16320_4_7;
	r5 = false;
	goto label$2c16320_4_8;
	label$2c16320_4_7:
	r5 = *r3;
	label$2c16320_4_8:
	if( r1 ) goto label$2c16320_4_10;
	return;
	label$2c16320_4_10:
	r8 = r0->__width;
	r8 = r8 >> r4;
	r9 = r0->__height;
	r9 = r9 >> r4;
	r11 = 0;
	if( r8 != r11 ) goto label$2c16320_4_19;
	r11 = 0;
	if( r9 != r11 ) goto label$2c16320_4_19;
	return;
	label$2c16320_4_19:
	r11 = 0;
	if( r8 != r11 ) goto label$2c16320_4_23;
	r10 = 1;
	r8 = r10;
	label$2c16320_4_23:
	r11 = 0;
	if( r9 != r11 ) goto label$2c16320_4_27;
	r10 = 1;
	r9 = r10;
	label$2c16320_4_27:
	if( r1 == NULL ) hl_null_access();
	r10 = r1->width;
	if( r10 != r8 ) goto label$2c16320_4_32;
	r10 = r1->height;
	if( r10 == r9 ) goto label$2c16320_4_52;
	label$2c16320_4_32:
	r7 = (openfl__display__BitmapData)hl_alloc_obj(&t$openfl_display_BitmapData);
	r12 = true;
	r3 = &r12;
	r13 = 0;
	r2 = &r13;
	openfl_display_BitmapData_new(r7,r8,r9,r3,r2);
	if( r1 ) goto label$2c16320_4_41;
	r14 = NULL;
	goto label$2c16320_4_45;
	label$2c16320_4_41:
	r14 = r1->f$40;
	if( r14 ) goto label$2c16320_4_45;
	r14 = hl_to_virtual(&t$vrt_f233a05,(vdynamic*)r1);
	r1->f$40 = r14;
	label$2c16320_4_45:
	r15 = NULL;
	r16 = NULL;
	r17 = NULL;
	r18 = NULL;
	r3 = NULL;
	openfl_display_BitmapData_draw(r7,r14,r15,r16,r17,r18,r3);
	r1 = r7;
	label$2c16320_4_52:
	r19 = openfl_display3D_textures_TextureBase___getImage(((openfl__display3D__textures__TextureBase)r0),r1);
	if( r19 ) goto label$2c16320_4_55;
	return;
	label$2c16320_4_55:
	if( r19 == NULL ) hl_null_access();
	r20 = lime_graphics_Image_get_data(r19);
	r10 = r4;
	r2 = &r10;
	openfl_display3D_textures_Texture_uploadFromTypedArray(r0,r20,r2);
	return;
}

void openfl_display3D_textures_Texture_uploadFromByteArray(openfl__display3D__textures__Texture r0,openfl__utils__ByteArrayData r1,int r2,int* r3) {
	String r26;
	openfl___Vector__IntVector r9;
	venum *r27;
	haxe__io__Bytes r7, r18, r24;
	double r28, r29;
	lime__utils__ArrayBufferView r10, r15;
	hl__types__ArrayDyn r8, r16;
	vdynamic *r5, *r12, *r13, *r14, *r19;
	int r4, r11, r17, r20, r21, r22, r23, r25;
	if( r3 ) goto label$2c16320_5_3;
	r4 = 0;
	goto label$2c16320_5_4;
	label$2c16320_5_3:
	r4 = *r3;
	label$2c16320_5_4:
	r5 = NULL;
	r7 = openfl_utils__ByteArray_ByteArray_Impl__toArrayBuffer(r1);
	r8 = NULL;
	r9 = NULL;
	r10 = NULL;
	r12 = hl_alloc_dynamic(&t$_i32);
	r12->v.i = r2;
	r13 = NULL;
	if( r12 ) goto label$2c16320_5_15;
	r11 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r11;
	r12 = r14;
	label$2c16320_5_15:
	if( !r5 ) goto label$2c16320_5_20;
	r15 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r11 = 4;
	lime_utils_ArrayBufferView_new(r15,r5,r11);
	goto label$2c16320_5_153;
	label$2c16320_5_20:
	if( !r8 ) goto label$2c16320_5_41;
	r15 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r11 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r11;
	r11 = 4;
	lime_utils_ArrayBufferView_new(r15,r14,r11);
	r11 = 0;
	r15->byteOffset = r11;
	if( r8 == NULL ) hl_null_access();
	r11 = hl_types_ArrayDyn_get_length(r8);
	r15->length = r11;
	r11 = r15->length;
	r17 = r15->bytesPerElement;
	r11 = r11 * r17;
	r15->byteLength = r11;
	r11 = r15->byteLength;
	r18 = haxe_io_Bytes_alloc(r11);
	r15->buffer = r18;
	r3 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r15,r8,r3);
	goto label$2c16320_5_153;
	label$2c16320_5_41:
	if( !r9 ) goto label$2c16320_5_65;
	r15 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r11 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r11;
	r11 = 4;
	lime_utils_ArrayBufferView_new(r15,r14,r11);
	if( r9 == NULL ) hl_null_access();
	r19 = (vdynamic*)hl_dyn_getp((vdynamic*)r9,-269630230/*__array*/,&t$_dyn);
	r16 = (hl__types__ArrayDyn)hl_dyn_castp(&r19,&t$_dyn,&t$hl_types_ArrayDyn);
	r11 = 0;
	r15->byteOffset = r11;
	if( r16 == NULL ) hl_null_access();
	r11 = hl_types_ArrayDyn_get_length(r16);
	r15->length = r11;
	r11 = r15->length;
	r17 = r15->bytesPerElement;
	r11 = r11 * r17;
	r15->byteLength = r11;
	r11 = r15->byteLength;
	r18 = haxe_io_Bytes_alloc(r11);
	r15->buffer = r18;
	r3 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r15,r16,r3);
	goto label$2c16320_5_153;
	label$2c16320_5_65:
	if( !r10 ) goto label$2c16320_5_99;
	r15 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r11 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r11;
	r11 = 4;
	lime_utils_ArrayBufferView_new(r15,r14,r11);
	if( r10 == NULL ) hl_null_access();
	r18 = r10->buffer;
	r11 = r10->length;
	r17 = r10->byteOffset;
	r20 = r10->bytesPerElement;
	r21 = r15->bytesPerElement;
	r22 = r10->type;
	r23 = r15->type;
	if( r22 != r23 ) goto label$2c16320_5_90;
	if( r18 == NULL ) hl_null_access();
	r22 = r18->length;
	r23 = r22 - r17;
	r24 = haxe_io_Bytes_alloc(r23);
	r15->buffer = r24;
	r24 = r15->buffer;
	if( r24 == NULL ) hl_null_access();
	r25 = 0;
	haxe_io_Bytes_blit(r24,r25,r18,r17,r23);
	goto label$2c16320_5_92;
	label$2c16320_5_90:
	r26 = (String)s$unimplemented;
	hl_throw((vdynamic*)r26);
	label$2c16320_5_92:
	r22 = r15->bytesPerElement;
	r22 = r22 * r11;
	r15->byteLength = r22;
	r22 = 0;
	r15->byteOffset = r22;
	r15->length = r11;
	goto label$2c16320_5_153;
	label$2c16320_5_99:
	if( !r7 ) goto label$2c16320_5_151;
	r15 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r11 = 0;
	r14 = hl_alloc_dynamic(&t$_i32);
	r14->v.i = r11;
	r11 = 4;
	lime_utils_ArrayBufferView_new(r15,r14,r11);
	r11 = r12 ? r12->v.i : 0;
	r20 = 0;
	if( r11 >= r20 ) goto label$2c16320_5_110;
	r27 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r27);
	label$2c16320_5_110:
	r20 = r15->bytesPerElement;
	r17 = r20 == 0 ? 0 : r11 % r20;
	r20 = 0;
	if( r17 == r20 ) goto label$2c16320_5_116;
	r27 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r27);
	label$2c16320_5_116:
	if( r7 == NULL ) hl_null_access();
	r17 = r7->length;
	r20 = r15->bytesPerElement;
	if( r13 ) goto label$2c16320_5_133;
	r22 = r17 - r11;
	r21 = r22;
	r23 = r15->bytesPerElement;
	r22 = r23 == 0 ? 0 : r17 % r23;
	r23 = 0;
	if( r22 == r23 ) goto label$2c16320_5_128;
	r27 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r27);
	label$2c16320_5_128:
	r23 = 0;
	if( r21 >= r23 ) goto label$2c16320_5_132;
	r27 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r27);
	label$2c16320_5_132:
	goto label$2c16320_5_141;
	label$2c16320_5_133:
	r22 = r13 ? r13->v.i : 0;
	r23 = r15->bytesPerElement;
	r22 = r22 * r23;
	r21 = r22;
	r22 = r11 + r21;
	if( r17 >= r22 ) goto label$2c16320_5_141;
	r27 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r27);
	label$2c16320_5_141:
	r15->buffer = r7;
	r15->byteOffset = r11;
	r15->byteLength = r21;
	r28 = (double)r21;
	r22 = r15->bytesPerElement;
	r29 = (double)r22;
	r28 = r28 / r29;
	r22 = (int)r28;
	r15->length = r22;
	goto label$2c16320_5_153;
	label$2c16320_5_151:
	r26 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r26);
	label$2c16320_5_153:
	r11 = r4;
	r3 = &r11;
	openfl_display3D_textures_Texture_uploadFromTypedArray(r0,r15,r3);
	return;
}

void openfl_display3D_textures_Texture_uploadFromTypedArray(openfl__display3D__textures__Texture r0,lime__utils__ArrayBufferView r1,int* r2) {
	lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ r15;
	lime__utils__BytePointerData r14;
	openfl__display3D__Context3D r6;
	haxe__io__Bytes r16, r17;
	lime___internal__backend__native__NativeOpenGLRenderContext r5;
	lime__graphics__opengl__GLObject r11;
	double r22;
	vclosure *r20;
	vdynamic *r19;
	int r3, r7, r8, r9, r10, r12, r13, r18, r21;
	if( r2 ) goto label$2c16320_6_3;
	r3 = 0;
	goto label$2c16320_6_4;
	label$2c16320_6_3:
	r3 = *r2;
	label$2c16320_6_4:
	if( r1 ) goto label$2c16320_6_6;
	return;
	label$2c16320_6_6:
	r6 = r0->__context;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->gl;
	r7 = r0->__width;
	r7 = r7 >> r3;
	r8 = r0->__height;
	r8 = r8 >> r3;
	r10 = 0;
	if( r7 != r10 ) goto label$2c16320_6_18;
	r10 = 0;
	if( r8 != r10 ) goto label$2c16320_6_18;
	return;
	label$2c16320_6_18:
	r10 = 0;
	if( r7 != r10 ) goto label$2c16320_6_22;
	r9 = 1;
	r7 = r9;
	label$2c16320_6_22:
	r10 = 0;
	if( r8 != r10 ) goto label$2c16320_6_26;
	r9 = 1;
	r8 = r9;
	label$2c16320_6_26:
	r6 = r0->__context;
	if( r6 == NULL ) hl_null_access();
	r11 = r0->__textureID;
	openfl_display3D_Context3D___bindGLTexture2D(r6,r11);
	r9 = r0->__textureTarget;
	r10 = r0->__internalFormat;
	r12 = r0->__format;
	if( r5 == NULL ) hl_null_access();
	r13 = r5->UNSIGNED_BYTE;
	r15 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r14 = r15->__tempPointer;
	r16 = NULL;
	r17 = NULL;
	r18 = 0;
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r18;
	lime_utils__BytePointer_BytePointer_Impl__set(r14,r16,r1,r17,r19);
	r20 = (vclosure*)hl_dyn_getp((vdynamic*)r5,-110658628/*texImage2D*/,&t$fun_d4d7b42);
	if( r20 == NULL ) hl_null_access();
	r21 = 0;
	r15 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r14 = r15->__tempPointer;
	r22 = lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(r14);
	r20->hasValue ? ((void (*)(vdynamic*,int,int,int,int,int,int,int,int,double))r20->fun)((vdynamic*)r20->value,r9,r3,r10,r7,r8,r21,r12,r13,r22) : ((void (*)(int,int,int,int,int,int,int,int,double))r20->fun)(r9,r3,r10,r7,r8,r21,r12,r13,r22);
	r6 = r0->__context;
	if( r6 == NULL ) hl_null_access();
	r11 = NULL;
	openfl_display3D_Context3D___bindGLTexture2D(r6,r11);
	return;
}

bool openfl_display3D_textures_Texture___setSamplerState(openfl__display3D__textures__Texture r0,openfl__display___internal__SamplerState r1) {
	openfl__display3D__$Context3D r11;
	openfl__display3D__Context3D r6;
	bool r3;
	lime___internal__backend__native__NativeOpenGLRenderContext r5;
	openfl__display___internal__SamplerState r4;
	double r15;
	vclosure *r10, *r14;
	vdynamic *r7, *r9;
	int r8, r12, r13;
	r3 = openfl_display3D_textures_TextureBase___setSamplerState(((openfl__display3D__textures__TextureBase)r0),r1);
	if( !r3 ) goto label$2c16320_7_60;
	r6 = r0->__context;
	if( r6 == NULL ) hl_null_access();
	r5 = r6->gl;
	if( r1 == NULL ) hl_null_access();
	r7 = r1->mipfilter;
	r8 = 2;
	r9 = hl_alloc_dynamic(&t$_i32);
	r9->v.i = r8;
	if( r7 == r9 || (r7 && r9 && (r7->v.i == r9->v.i)) ) goto label$2c16320_7_23;
	r4 = r0->__samplerState;
	if( r4 == NULL ) hl_null_access();
	r3 = r4->mipmapGenerated;
	if( r3 ) goto label$2c16320_7_23;
	if( r5 == NULL ) hl_null_access();
	r10 = (vclosure*)hl_dyn_getp((vdynamic*)r5,453892007/*generateMipmap*/,&t$fun_8249ca6);
	if( r10 == NULL ) hl_null_access();
	r8 = r5->TEXTURE_2D;
	r10->hasValue ? ((void (*)(vdynamic*,int))r10->fun)((vdynamic*)r10->value,r8) : ((void (*)(int))r10->fun)(r8);
	r4 = r0->__samplerState;
	if( r4 == NULL ) hl_null_access();
	r3 = true;
	r4->mipmapGenerated = r3;
	label$2c16320_7_23:
	r11 = (openfl__display3D__$Context3D)g$_openfl_display3D_Context3D;
	r8 = r11->__glMaxTextureMaxAnisotropy;
	r12 = 0;
	if( r8 == r12 ) goto label$2c16320_7_58;
	r7 = r1->filter;
	r8 = r7 ? r7->v.i : 0;
	switch(r8) {
		default:
			r12 = 1;
			r8 = r12;
			goto label$2c16320_7_44;
		case 0:
			r12 = 16;
			r8 = r12;
			goto label$2c16320_7_44;
		case 1:
			r12 = 2;
			r8 = r12;
			goto label$2c16320_7_44;
		case 2:
			r12 = 4;
			r8 = r12;
			goto label$2c16320_7_44;
		case 3:
			r12 = 8;
			r8 = r12;
	}
	label$2c16320_7_44:
	r11 = (openfl__display3D__$Context3D)g$_openfl_display3D_Context3D;
	r13 = r11->__glMaxTextureMaxAnisotropy;
	if( r13 >= r12 ) goto label$2c16320_7_50;
	r11 = (openfl__display3D__$Context3D)g$_openfl_display3D_Context3D;
	r12 = r11->__glMaxTextureMaxAnisotropy;
	r8 = r12;
	label$2c16320_7_50:
	if( r5 == NULL ) hl_null_access();
	r14 = (vclosure*)hl_dyn_getp((vdynamic*)r5,472983529/*texParameterf*/,&t$fun_589d191);
	if( r14 == NULL ) hl_null_access();
	r12 = r5->TEXTURE_2D;
	r11 = (openfl__display3D__$Context3D)g$_openfl_display3D_Context3D;
	r13 = r11->__glTextureMaxAnisotropy;
	r15 = (double)r8;
	r14->hasValue ? ((void (*)(vdynamic*,int,int,double))r14->fun)((vdynamic*)r14->value,r12,r13,r15) : ((void (*)(int,int,double))r14->fun)(r12,r13,r15);
	label$2c16320_7_58:
	r3 = true;
	return r3;
	label$2c16320_7_60:
	r3 = false;
	return r3;
}

void openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray__$1(venum* r0,int r1,int r2,int r3,int r4,int r5,int r6,haxe__io__Bytes r7) {
	String r44;
	openfl___Vector__IntVector r24, r34;
	openfl__display3D__Context3D r49;
	hl__types__ArrayObj r17;
	venum *r45;
	haxe__io__Bytes r32, r40;
	bool r9;
	lime___internal__backend__native__NativeOpenGLRenderContext r21, r48;
	haxe__ds__IntMap r11;
	lime__graphics__opengl__GLObject r51;
	openfl__display3D__textures__Texture r20, r50;
	double r46, r47;
	lime__utils__ArrayBufferView r25, r28, r30;
	hl__types__ArrayDyn r23, r29, r35;
	int *r33;
	openfl__display3D__textures__$TextureBase r12;
	vdynamic *r8, *r10, *r15, *r16, *r27, *r52, *r53;
	varray *r19;
	int r13, r18, r22, r26, r31, r36, r37, r38, r39, r41, r42, r43;
	r9 = ((Enumt$ctx_833ab34*)r0)->p0;
	if( !r9 ) goto label$2c16320_8_8;
	r12 = (openfl__display3D__textures__$TextureBase)g$fe821bb;
	r11 = r12->__compressedFormatsAlpha;
	if( r11 == NULL ) hl_null_access();
	r10 = haxe_ds_IntMap_get(r11,r3);
	r8 = (vdynamic*)r10;
	goto label$2c16320_8_13;
	label$2c16320_8_8:
	r12 = (openfl__display3D__textures__$TextureBase)g$fe821bb;
	r11 = r12->__compressedFormats;
	if( r11 == NULL ) hl_null_access();
	r10 = haxe_ds_IntMap_get(r11,r3);
	r8 = (vdynamic*)r10;
	label$2c16320_8_13:
	r13 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r13;
	if( r8 != r16 && (!r8 || !r16 || (r8->v.i != r16->v.i)) ) goto label$2c16320_8_17;
	return;
	label$2c16320_8_17:
	r17 = ((Enumt$ctx_833ab34*)r0)->p2;
	if( r17 == NULL ) hl_null_access();
	r13 = 0;
	r9 = true;
	r18 = r17->length;
	if( ((unsigned)r13) < ((unsigned)r18) ) goto label$2c16320_8_24;
	hl_types_ArrayObj___expand(r17,r13);
	label$2c16320_8_24:
	r19 = r17->array;
	r10 = hl_alloc_dynbool(r9);
	((vdynamic**)(r19 + 1))[r13] = r10;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r13 = r8 ? r8->v.i : 0;
	r20->__format = r13;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r13 = r8 ? r8->v.i : 0;
	r20->__internalFormat = r13;
	r9 = ((Enumt$ctx_833ab34*)r0)->p0;
	if( !r9 ) goto label$2c16320_8_353;
	r18 = 2;
	if( r3 != r18 ) goto label$2c16320_8_353;
	r18 = 2;
	r13 = r18 == 0 ? 0 : r6 / r18;
	r21 = ((Enumt$ctx_833ab34*)r0)->p1;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r18 = r20->__textureTarget;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r22 = r20->__internalFormat;
	r15 = NULL;
	r23 = NULL;
	r24 = NULL;
	r25 = NULL;
	r26 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r26;
	if( r16 ) goto label$2c16320_8_58;
	r26 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r26;
	r16 = r27;
	label$2c16320_8_58:
	if( !r15 ) goto label$2c16320_8_63;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r26 = 4;
	lime_utils_ArrayBufferView_new(r28,r15,r26);
	goto label$2c16320_8_181;
	label$2c16320_8_63:
	if( !r23 ) goto label$2c16320_8_84;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r26 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r26;
	r26 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r26);
	r26 = 0;
	r28->byteOffset = r26;
	if( r23 == NULL ) hl_null_access();
	r26 = hl_types_ArrayDyn_get_length(r23);
	r28->length = r26;
	r26 = r28->length;
	r31 = r28->bytesPerElement;
	r26 = r26 * r31;
	r28->byteLength = r26;
	r26 = r28->byteLength;
	r32 = haxe_io_Bytes_alloc(r26);
	r28->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r28,r23,r33);
	goto label$2c16320_8_181;
	label$2c16320_8_84:
	if( !r24 ) goto label$2c16320_8_108;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r26 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r26;
	r26 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r26);
	if( r24 == NULL ) hl_null_access();
	r10 = (vdynamic*)hl_dyn_getp((vdynamic*)r24,-269630230/*__array*/,&t$_dyn);
	r29 = (hl__types__ArrayDyn)hl_dyn_castp(&r10,&t$_dyn,&t$hl_types_ArrayDyn);
	r26 = 0;
	r28->byteOffset = r26;
	if( r29 == NULL ) hl_null_access();
	r26 = hl_types_ArrayDyn_get_length(r29);
	r28->length = r26;
	r26 = r28->length;
	r31 = r28->bytesPerElement;
	r26 = r26 * r31;
	r28->byteLength = r26;
	r26 = r28->byteLength;
	r32 = haxe_io_Bytes_alloc(r26);
	r28->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r28,r29,r33);
	goto label$2c16320_8_181;
	label$2c16320_8_108:
	if( !r25 ) goto label$2c16320_8_142;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r26 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r26;
	r26 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r26);
	if( r25 == NULL ) hl_null_access();
	r32 = r25->buffer;
	r26 = r25->length;
	r31 = r25->byteOffset;
	r36 = r25->bytesPerElement;
	r37 = r28->bytesPerElement;
	r38 = r25->type;
	r39 = r28->type;
	if( r38 != r39 ) goto label$2c16320_8_133;
	if( r32 == NULL ) hl_null_access();
	r38 = r32->length;
	r39 = r38 - r31;
	r40 = haxe_io_Bytes_alloc(r39);
	r28->buffer = r40;
	r40 = r28->buffer;
	if( r40 == NULL ) hl_null_access();
	r41 = 0;
	haxe_io_Bytes_blit(r40,r41,r32,r31,r39);
	goto label$2c16320_8_135;
	label$2c16320_8_133:
	r44 = (String)s$unimplemented;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_135:
	r38 = r28->bytesPerElement;
	r38 = r38 * r26;
	r28->byteLength = r38;
	r38 = 0;
	r28->byteOffset = r38;
	r28->length = r26;
	goto label$2c16320_8_181;
	label$2c16320_8_142:
	if( !r7 ) goto label$2c16320_8_179;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r26 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r26;
	r26 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r26);
	r26 = r16 ? r16->v.i : 0;
	r36 = 0;
	if( r26 >= r36 ) goto label$2c16320_8_153;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_153:
	r36 = r28->bytesPerElement;
	r31 = r36 == 0 ? 0 : r26 % r36;
	r36 = 0;
	if( r31 == r36 ) goto label$2c16320_8_159;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_159:
	if( r7 == NULL ) hl_null_access();
	r31 = r7->length;
	r36 = r28->bytesPerElement;
	r39 = r28->bytesPerElement;
	r38 = r13 * r39;
	r37 = r38;
	r38 = r26 + r37;
	if( r31 >= r38 ) goto label$2c16320_8_169;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_169:
	r28->buffer = r7;
	r28->byteOffset = r26;
	r28->byteLength = r37;
	r46 = (double)r37;
	r38 = r28->bytesPerElement;
	r47 = (double)r38;
	r46 = r46 / r47;
	r38 = (int)r46;
	r28->length = r38;
	goto label$2c16320_8_181;
	label$2c16320_8_179:
	r44 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_181:
	r39 = 0;
	lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__compressedTexImage2D(r21,r18,r2,r22,r4,r5,r39,r28);
	r20 = (openfl__display3D__textures__Texture)hl_alloc_obj(&t$openfl_display3D_textures_Texture);
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->__context;
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r26 = r50->__width;
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r31 = r50->__height;
	r36 = 3;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r36;
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r9 = r50->__optimizeForRenderToTexture;
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r36 = r50->__streamingLevels;
	openfl_display3D_textures_Texture_new(r20,r49,r26,r31,r27,r9,r36);
	r26 = r8 ? r8->v.i : 0;
	r20->__format = r26;
	r26 = r8 ? r8->v.i : 0;
	r20->__internalFormat = r26;
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r49 = r50->__context;
	if( r49 == NULL ) hl_null_access();
	r51 = r20->__textureID;
	openfl_display3D_Context3D___bindGLTexture2D(r49,r51);
	r48 = ((Enumt$ctx_833ab34*)r0)->p1;
	r26 = r20->__textureTarget;
	r31 = r20->__internalFormat;
	r27 = NULL;
	r29 = NULL;
	r34 = NULL;
	r28 = NULL;
	r52 = hl_alloc_dynamic(&t$_i32);
	r52->v.i = r13;
	if( r52 ) goto label$2c16320_8_224;
	r36 = 0;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r36;
	r52 = r53;
	label$2c16320_8_224:
	if( !r27 ) goto label$2c16320_8_229;
	r30 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 4;
	lime_utils_ArrayBufferView_new(r30,r27,r36);
	goto label$2c16320_8_347;
	label$2c16320_8_229:
	if( !r29 ) goto label$2c16320_8_250;
	r30 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r30,r53,r36);
	r36 = 0;
	r30->byteOffset = r36;
	if( r29 == NULL ) hl_null_access();
	r36 = hl_types_ArrayDyn_get_length(r29);
	r30->length = r36;
	r36 = r30->length;
	r37 = r30->bytesPerElement;
	r36 = r36 * r37;
	r30->byteLength = r36;
	r36 = r30->byteLength;
	r32 = haxe_io_Bytes_alloc(r36);
	r30->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r30,r29,r33);
	goto label$2c16320_8_347;
	label$2c16320_8_250:
	if( !r34 ) goto label$2c16320_8_274;
	r30 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r30,r53,r36);
	if( r34 == NULL ) hl_null_access();
	r10 = (vdynamic*)hl_dyn_getp((vdynamic*)r34,-269630230/*__array*/,&t$_dyn);
	r35 = (hl__types__ArrayDyn)hl_dyn_castp(&r10,&t$_dyn,&t$hl_types_ArrayDyn);
	r36 = 0;
	r30->byteOffset = r36;
	if( r35 == NULL ) hl_null_access();
	r36 = hl_types_ArrayDyn_get_length(r35);
	r30->length = r36;
	r36 = r30->length;
	r37 = r30->bytesPerElement;
	r36 = r36 * r37;
	r30->byteLength = r36;
	r36 = r30->byteLength;
	r32 = haxe_io_Bytes_alloc(r36);
	r30->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r30,r35,r33);
	goto label$2c16320_8_347;
	label$2c16320_8_274:
	if( !r28 ) goto label$2c16320_8_308;
	r30 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r30,r53,r36);
	if( r28 == NULL ) hl_null_access();
	r32 = r28->buffer;
	r36 = r28->length;
	r37 = r28->byteOffset;
	r38 = r28->bytesPerElement;
	r39 = r30->bytesPerElement;
	r41 = r28->type;
	r42 = r30->type;
	if( r41 != r42 ) goto label$2c16320_8_299;
	if( r32 == NULL ) hl_null_access();
	r41 = r32->length;
	r42 = r41 - r37;
	r40 = haxe_io_Bytes_alloc(r42);
	r30->buffer = r40;
	r40 = r30->buffer;
	if( r40 == NULL ) hl_null_access();
	r43 = 0;
	haxe_io_Bytes_blit(r40,r43,r32,r37,r42);
	goto label$2c16320_8_301;
	label$2c16320_8_299:
	r44 = (String)s$unimplemented;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_301:
	r41 = r30->bytesPerElement;
	r41 = r41 * r36;
	r30->byteLength = r41;
	r41 = 0;
	r30->byteOffset = r41;
	r30->length = r36;
	goto label$2c16320_8_347;
	label$2c16320_8_308:
	if( !r7 ) goto label$2c16320_8_345;
	r30 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r36 = 0;
	r53 = hl_alloc_dynamic(&t$_i32);
	r53->v.i = r36;
	r36 = 4;
	lime_utils_ArrayBufferView_new(r30,r53,r36);
	r36 = r52 ? r52->v.i : 0;
	r38 = 0;
	if( r36 >= r38 ) goto label$2c16320_8_319;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_319:
	r38 = r30->bytesPerElement;
	r37 = r38 == 0 ? 0 : r36 % r38;
	r38 = 0;
	if( r37 == r38 ) goto label$2c16320_8_325;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_325:
	if( r7 == NULL ) hl_null_access();
	r37 = r7->length;
	r38 = r30->bytesPerElement;
	r42 = r30->bytesPerElement;
	r41 = r13 * r42;
	r39 = r41;
	r41 = r36 + r39;
	if( r37 >= r41 ) goto label$2c16320_8_335;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_335:
	r30->buffer = r7;
	r30->byteOffset = r36;
	r30->byteLength = r39;
	r46 = (double)r39;
	r41 = r30->bytesPerElement;
	r47 = (double)r41;
	r46 = r46 / r47;
	r41 = (int)r46;
	r30->length = r41;
	goto label$2c16320_8_347;
	label$2c16320_8_345:
	r44 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_347:
	r42 = 0;
	lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__compressedTexImage2D(r48,r26,r2,r31,r4,r5,r42,r30);
	r50 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r50 == NULL ) hl_null_access();
	r50->__alphaTexture = ((openfl__display3D__textures__TextureBase)r20);
	goto label$2c16320_8_495;
	label$2c16320_8_353:
	r21 = ((Enumt$ctx_833ab34*)r0)->p1;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r13 = r20->__textureTarget;
	r20 = ((Enumt$ctx_833ab34*)r0)->p3;
	if( r20 == NULL ) hl_null_access();
	r18 = r20->__internalFormat;
	r15 = NULL;
	r23 = NULL;
	r24 = NULL;
	r25 = NULL;
	r22 = 0;
	r16 = hl_alloc_dynamic(&t$_i32);
	r16->v.i = r22;
	if( r16 ) goto label$2c16320_8_370;
	r22 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r22;
	r16 = r27;
	label$2c16320_8_370:
	if( !r15 ) goto label$2c16320_8_375;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r22 = 4;
	lime_utils_ArrayBufferView_new(r28,r15,r22);
	goto label$2c16320_8_493;
	label$2c16320_8_375:
	if( !r23 ) goto label$2c16320_8_396;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r22 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r22;
	r22 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r22);
	r22 = 0;
	r28->byteOffset = r22;
	if( r23 == NULL ) hl_null_access();
	r22 = hl_types_ArrayDyn_get_length(r23);
	r28->length = r22;
	r22 = r28->length;
	r26 = r28->bytesPerElement;
	r22 = r22 * r26;
	r28->byteLength = r22;
	r22 = r28->byteLength;
	r32 = haxe_io_Bytes_alloc(r22);
	r28->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r28,r23,r33);
	goto label$2c16320_8_493;
	label$2c16320_8_396:
	if( !r24 ) goto label$2c16320_8_420;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r22 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r22;
	r22 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r22);
	if( r24 == NULL ) hl_null_access();
	r10 = (vdynamic*)hl_dyn_getp((vdynamic*)r24,-269630230/*__array*/,&t$_dyn);
	r29 = (hl__types__ArrayDyn)hl_dyn_castp(&r10,&t$_dyn,&t$hl_types_ArrayDyn);
	r22 = 0;
	r28->byteOffset = r22;
	if( r29 == NULL ) hl_null_access();
	r22 = hl_types_ArrayDyn_get_length(r29);
	r28->length = r22;
	r22 = r28->length;
	r26 = r28->bytesPerElement;
	r22 = r22 * r26;
	r28->byteLength = r22;
	r22 = r28->byteLength;
	r32 = haxe_io_Bytes_alloc(r22);
	r28->buffer = r32;
	r33 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r28,r29,r33);
	goto label$2c16320_8_493;
	label$2c16320_8_420:
	if( !r25 ) goto label$2c16320_8_454;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r22 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r22;
	r22 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r22);
	if( r25 == NULL ) hl_null_access();
	r32 = r25->buffer;
	r22 = r25->length;
	r26 = r25->byteOffset;
	r31 = r25->bytesPerElement;
	r36 = r28->bytesPerElement;
	r37 = r25->type;
	r38 = r28->type;
	if( r37 != r38 ) goto label$2c16320_8_445;
	if( r32 == NULL ) hl_null_access();
	r37 = r32->length;
	r38 = r37 - r26;
	r40 = haxe_io_Bytes_alloc(r38);
	r28->buffer = r40;
	r40 = r28->buffer;
	if( r40 == NULL ) hl_null_access();
	r39 = 0;
	haxe_io_Bytes_blit(r40,r39,r32,r26,r38);
	goto label$2c16320_8_447;
	label$2c16320_8_445:
	r44 = (String)s$unimplemented;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_447:
	r37 = r28->bytesPerElement;
	r37 = r37 * r22;
	r28->byteLength = r37;
	r37 = 0;
	r28->byteOffset = r37;
	r28->length = r22;
	goto label$2c16320_8_493;
	label$2c16320_8_454:
	if( !r7 ) goto label$2c16320_8_491;
	r28 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r22 = 0;
	r27 = hl_alloc_dynamic(&t$_i32);
	r27->v.i = r22;
	r22 = 4;
	lime_utils_ArrayBufferView_new(r28,r27,r22);
	r22 = r16 ? r16->v.i : 0;
	r31 = 0;
	if( r22 >= r31 ) goto label$2c16320_8_465;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_465:
	r31 = r28->bytesPerElement;
	r26 = r31 == 0 ? 0 : r22 % r31;
	r31 = 0;
	if( r26 == r31 ) goto label$2c16320_8_471;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_471:
	if( r7 == NULL ) hl_null_access();
	r26 = r7->length;
	r31 = r28->bytesPerElement;
	r38 = r28->bytesPerElement;
	r37 = r6 * r38;
	r36 = r37;
	r37 = r22 + r36;
	if( r26 >= r37 ) goto label$2c16320_8_481;
	r45 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r45);
	label$2c16320_8_481:
	r28->buffer = r7;
	r28->byteOffset = r22;
	r28->byteLength = r36;
	r46 = (double)r36;
	r37 = r28->bytesPerElement;
	r47 = (double)r37;
	r46 = r46 / r47;
	r37 = (int)r46;
	r28->length = r37;
	goto label$2c16320_8_493;
	label$2c16320_8_491:
	r44 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r44);
	label$2c16320_8_493:
	r38 = 0;
	lime_graphics__WebGLRenderContext_WebGLRenderContext_Impl__compressedTexImage2D(r21,r13,r2,r18,r4,r5,r38,r28);
	label$2c16320_8_495:
	return;
}

void openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray(openfl__display3D__textures__Texture r0,openfl__utils__ByteArrayData r1,int r2) {
	lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_ r42;
	String r37;
	openfl___Vector__IntVector r22;
	lime__utils__BytePointerData r41;
	hl__types__ArrayObj r12;
	openfl__display3D__Context3D r8, r10;
	venum *r18, *r38;
	hl_type *r14;
	haxe__io__Bytes r20, r28, r34;
	bool r6, r15;
	openfl__display3D___internal__ATFReader r4;
	lime___internal__backend__native__NativeOpenGLRenderContext r9;
	lime__graphics__opengl__GLObject r11;
	double r39, r40;
	lime__utils__ArrayBufferView r23, r26;
	hl__types__ArrayDyn r21, r27;
	vclosure *r17, *r43;
	int *r29;
	vdynamic *r16, *r19, *r24, *r25;
	varray *r13;
	int r5, r7, r30, r31, r32, r33, r35, r36, r44;
	r4 = (openfl__display3D___internal__ATFReader)hl_alloc_obj(&t$openfl_display3D__internal_ATFReader);
	openfl_display3D__internal_ATFReader_new(r4,r1,r2);
	r5 = r0->__width;
	r7 = r0->__height;
	r6 = false;
	r6 = openfl_display3D__internal_ATFReader_readHeader(r4,r5,r7,r6);
	r8 = r0->__context;
	if( r8 == NULL ) hl_null_access();
	r9 = r8->gl;
	r10 = r0->__context;
	if( r10 == NULL ) hl_null_access();
	r11 = r0->__textureID;
	openfl_display3D_Context3D___bindGLTexture2D(r10,r11);
	r14 = &t$_dyn;
	r5 = 1;
	r13 = hl_alloc_array(r14,r5);
	r15 = false;
	r16 = hl_alloc_dynbool(r15);
	r5 = 0;
	((vdynamic**)(r13 + 1))[r5] = r16;
	r12 = hl_types_ArrayObj_alloc(r13);
	r18 = hl_alloc_enum(&t$ctx_833ab34,0);
	((Enumt$ctx_833ab34*)r18)->p0 = (bool)r6;
	((Enumt$ctx_833ab34*)r18)->p1 = (lime___internal__backend__native__NativeOpenGLRenderContext)r9;
	((Enumt$ctx_833ab34*)r18)->p2 = (hl__types__ArrayObj)r12;
	((Enumt$ctx_833ab34*)r18)->p3 = (openfl__display3D__textures__Texture)r0;
	r17 = hl_alloc_closure_ptr(&t$fun_116c0d1,openfl_display3D_textures_Texture___uploadCompressedTextureFromByteArray__$1,r18);
	openfl_display3D__internal_ATFReader_readTextures(r4,r17);
	if( r12 == NULL ) hl_null_access();
	r5 = 0;
	r7 = r12->length;
	if( ((unsigned)r5) < ((unsigned)r7) ) goto label$2c16320_9_34;
	r15 = false;
	goto label$2c16320_9_37;
	label$2c16320_9_34:
	r13 = r12->array;
	r16 = ((vdynamic**)(r13 + 1))[r5];
	r15 = (bool)hl_dyn_casti(&r16,&t$_dyn,&t$_bool);
	label$2c16320_9_37:
	if( r15 ) goto label$2c16320_9_209;
	r5 = r0->__width;
	r7 = r0->__height;
	r5 = r5 * r7;
	r7 = 4;
	r5 = r5 * r7;
	r19 = hl_alloc_dynamic(&t$_i32);
	r19->v.i = r5;
	r20 = NULL;
	r21 = NULL;
	r22 = NULL;
	r23 = NULL;
	r24 = NULL;
	if( !r19 ) goto label$2c16320_9_54;
	r26 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r5 = 4;
	lime_utils_ArrayBufferView_new(r26,r19,r5);
	goto label$2c16320_9_187;
	label$2c16320_9_54:
	if( !r21 ) goto label$2c16320_9_75;
	r26 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r5 = 0;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r5;
	r5 = 4;
	lime_utils_ArrayBufferView_new(r26,r25,r5);
	r5 = 0;
	r26->byteOffset = r5;
	if( r21 == NULL ) hl_null_access();
	r5 = hl_types_ArrayDyn_get_length(r21);
	r26->length = r5;
	r5 = r26->length;
	r7 = r26->bytesPerElement;
	r5 = r5 * r7;
	r26->byteLength = r5;
	r5 = r26->byteLength;
	r28 = haxe_io_Bytes_alloc(r5);
	r26->buffer = r28;
	r29 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r26,r21,r29);
	goto label$2c16320_9_187;
	label$2c16320_9_75:
	if( !r22 ) goto label$2c16320_9_99;
	r26 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r5 = 0;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r5;
	r5 = 4;
	lime_utils_ArrayBufferView_new(r26,r25,r5);
	if( r22 == NULL ) hl_null_access();
	r16 = (vdynamic*)hl_dyn_getp((vdynamic*)r22,-269630230/*__array*/,&t$_dyn);
	r27 = (hl__types__ArrayDyn)hl_dyn_castp(&r16,&t$_dyn,&t$hl_types_ArrayDyn);
	r5 = 0;
	r26->byteOffset = r5;
	if( r27 == NULL ) hl_null_access();
	r5 = hl_types_ArrayDyn_get_length(r27);
	r26->length = r5;
	r5 = r26->length;
	r7 = r26->bytesPerElement;
	r5 = r5 * r7;
	r26->byteLength = r5;
	r5 = r26->byteLength;
	r28 = haxe_io_Bytes_alloc(r5);
	r26->buffer = r28;
	r29 = NULL;
	lime_utils_ArrayBufferView_copyFromArray(r26,r27,r29);
	goto label$2c16320_9_187;
	label$2c16320_9_99:
	if( !r23 ) goto label$2c16320_9_133;
	r26 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r5 = 0;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r5;
	r5 = 4;
	lime_utils_ArrayBufferView_new(r26,r25,r5);
	if( r23 == NULL ) hl_null_access();
	r28 = r23->buffer;
	r5 = r23->length;
	r7 = r23->byteOffset;
	r30 = r23->bytesPerElement;
	r31 = r26->bytesPerElement;
	r32 = r23->type;
	r33 = r26->type;
	if( r32 != r33 ) goto label$2c16320_9_124;
	if( r28 == NULL ) hl_null_access();
	r32 = r28->length;
	r33 = r32 - r7;
	r34 = haxe_io_Bytes_alloc(r33);
	r26->buffer = r34;
	r34 = r26->buffer;
	if( r34 == NULL ) hl_null_access();
	r35 = 0;
	haxe_io_Bytes_blit(r34,r35,r28,r7,r33);
	goto label$2c16320_9_126;
	label$2c16320_9_124:
	r37 = (String)s$unimplemented;
	hl_throw((vdynamic*)r37);
	label$2c16320_9_126:
	r32 = r26->bytesPerElement;
	r32 = r32 * r5;
	r26->byteLength = r32;
	r32 = 0;
	r26->byteOffset = r32;
	r26->length = r5;
	goto label$2c16320_9_187;
	label$2c16320_9_133:
	if( !r20 ) goto label$2c16320_9_185;
	r26 = (lime__utils__ArrayBufferView)hl_alloc_obj(&t$lime_utils_ArrayBufferView);
	r5 = 0;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r5;
	r5 = 4;
	lime_utils_ArrayBufferView_new(r26,r25,r5);
	r5 = 0;
	r30 = 0;
	if( r5 >= r30 ) goto label$2c16320_9_144;
	r38 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r38);
	label$2c16320_9_144:
	r30 = r26->bytesPerElement;
	r7 = r30 == 0 ? 0 : r5 % r30;
	r30 = 0;
	if( r7 == r30 ) goto label$2c16320_9_150;
	r38 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r38);
	label$2c16320_9_150:
	if( r20 == NULL ) hl_null_access();
	r7 = r20->length;
	r30 = r26->bytesPerElement;
	if( r24 ) goto label$2c16320_9_167;
	r32 = r7 - r5;
	r31 = r32;
	r33 = r26->bytesPerElement;
	r32 = r33 == 0 ? 0 : r7 % r33;
	r33 = 0;
	if( r32 == r33 ) goto label$2c16320_9_162;
	r38 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r38);
	label$2c16320_9_162:
	r33 = 0;
	if( r31 >= r33 ) goto label$2c16320_9_166;
	r38 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r38);
	label$2c16320_9_166:
	goto label$2c16320_9_175;
	label$2c16320_9_167:
	r32 = r24 ? r24->v.i : 0;
	r33 = r26->bytesPerElement;
	r32 = r32 * r33;
	r31 = r32;
	r32 = r5 + r31;
	if( r7 >= r32 ) goto label$2c16320_9_175;
	r38 = (venum*)g$lime_utils_TAError_RangeError;
	hl_throw((vdynamic*)r38);
	label$2c16320_9_175:
	r26->buffer = r20;
	r26->byteOffset = r5;
	r26->byteLength = r31;
	r39 = (double)r31;
	r32 = r26->bytesPerElement;
	r40 = (double)r32;
	r39 = r39 / r40;
	r32 = (int)r39;
	r26->length = r32;
	goto label$2c16320_9_187;
	label$2c16320_9_185:
	r37 = (String)s$ac96fc9;
	hl_throw((vdynamic*)r37);
	label$2c16320_9_187:
	r5 = r0->__textureTarget;
	r7 = r0->__internalFormat;
	r30 = r0->__width;
	r31 = r0->__height;
	r32 = r0->__format;
	if( r9 == NULL ) hl_null_access();
	r33 = r9->UNSIGNED_BYTE;
	r42 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r41 = r42->__tempPointer;
	r28 = NULL;
	r34 = NULL;
	r35 = 0;
	r25 = hl_alloc_dynamic(&t$_i32);
	r25->v.i = r35;
	lime_utils__BytePointer_BytePointer_Impl__set(r41,r28,r26,r34,r25);
	r43 = (vclosure*)hl_dyn_getp((vdynamic*)r9,-110658628/*texImage2D*/,&t$fun_d4d7b42);
	if( r43 == NULL ) hl_null_access();
	r36 = 0;
	r44 = 0;
	r42 = (lime__graphics___WebGL2RenderContext__$WebGL2RenderContext_Impl_)g$05c85d7;
	r41 = r42->__tempPointer;
	r39 = lime_utils__DataPointer_DataPointer_Impl__fromBytesPointer(r41);
	r43->hasValue ? ((void (*)(vdynamic*,int,int,int,int,int,int,int,int,double))r43->fun)((vdynamic*)r43->value,r5,r36,r7,r30,r31,r44,r32,r33,r39) : ((void (*)(int,int,int,int,int,int,int,int,double))r43->fun)(r5,r36,r7,r30,r31,r44,r32,r33,r39);
	label$2c16320_9_209:
	r10 = r0->__context;
	if( r10 == NULL ) hl_null_access();
	r11 = NULL;
	openfl_display3D_Context3D___bindGLTexture2D(r10,r11);
	return;
}

